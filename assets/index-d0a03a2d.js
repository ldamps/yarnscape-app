(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Uw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jw={exports:{}},Au={},zw={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=Symbol.for("react.element"),Ck=Symbol.for("react.portal"),Rk=Symbol.for("react.fragment"),bk=Symbol.for("react.strict_mode"),Nk=Symbol.for("react.profiler"),xk=Symbol.for("react.provider"),Ok=Symbol.for("react.context"),Dk=Symbol.for("react.forward_ref"),Lk=Symbol.for("react.suspense"),Mk=Symbol.for("react.memo"),Vk=Symbol.for("react.lazy"),rv=Symbol.iterator;function Fk(t){return t===null||typeof t!="object"?null:(t=rv&&t[rv]||t["@@iterator"],typeof t=="function"?t:null)}var $w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bw=Object.assign,Ww={};function Ys(t,e,n){this.props=t,this.context=e,this.refs=Ww,this.updater=n||$w}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hw(){}Hw.prototype=Ys.prototype;function $p(t,e,n){this.props=t,this.context=e,this.refs=Ww,this.updater=n||$w}var Bp=$p.prototype=new Hw;Bp.constructor=$p;Bw(Bp,Ys.prototype);Bp.isPureReactComponent=!0;var iv=Array.isArray,qw=Object.prototype.hasOwnProperty,Wp={current:null},Kw={key:!0,ref:!0,__self:!0,__source:!0};function Gw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qw.call(e,r)&&!Kw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ua,type:t,key:s,ref:o,props:i,_owner:Wp.current}}function Uk(t,e){return{$$typeof:Ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ua}function jk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sv=/\/+/g;function ed(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jk(""+t.key):e.toString(36)}function Zl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ua:case Ck:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ed(o,0):r,iv(i)?(n="",t!=null&&(n=t.replace(sv,"$&/")+"/"),Zl(i,e,n,"",function(u){return u})):i!=null&&(Hp(i)&&(i=Uk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iv(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+ed(s,a);o+=Zl(s,e,n,c,i)}else if(c=Fk(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+ed(s,a++),o+=Zl(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kl(t,e,n){if(t==null)return t;var r=[],i=0;return Zl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},ec={transition:null},$k={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:ec,ReactCurrentOwner:Wp};function Qw(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:kl,forEach:function(t,e,n){kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kl(t,function(){e++}),e},toArray:function(t){return kl(t,function(e){return e})||[]},only:function(t){if(!Hp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ys;de.Fragment=Rk;de.Profiler=Nk;de.PureComponent=$p;de.StrictMode=bk;de.Suspense=Lk;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$k;de.act=Qw;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)qw.call(e,c)&&!Kw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ua,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:Ok,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xk,_context:t},t.Consumer=t};de.createElement=Gw;de.createFactory=function(t){var e=Gw.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:Dk,render:t}};de.isValidElement=Hp;de.lazy=function(t){return{$$typeof:Vk,_payload:{_status:-1,_result:t},_init:zk}};de.memo=function(t,e){return{$$typeof:Mk,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=ec.transition;ec.transition={};try{t()}finally{ec.transition=e}};de.unstable_act=Qw;de.useCallback=function(t,e){return Dt.current.useCallback(t,e)};de.useContext=function(t){return Dt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Dt.current.useEffect(t,e)};de.useId=function(){return Dt.current.useId()};de.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Dt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};de.useRef=function(t){return Dt.current.useRef(t)};de.useState=function(t){return Dt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Dt.current.useTransition()};de.version="18.3.1";zw.exports=de;var N=zw.exports;const qp=Uw(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=N,Wk=Symbol.for("react.element"),Hk=Symbol.for("react.fragment"),qk=Object.prototype.hasOwnProperty,Kk=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gk={key:!0,ref:!0,__self:!0,__source:!0};function Yw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qk.call(e,r)&&!Gk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wk,type:t,key:s,ref:o,props:i,_owner:Kk.current}}Au.Fragment=Hk;Au.jsx=Yw;Au.jsxs=Yw;jw.exports=Au;var Kp=jw.exports;const Qk=Kp.Fragment,m=Kp.jsx,V=Kp.jsxs;var Qd={},Xw={exports:{}},Jt={},Jw={exports:{}},Zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var Z=B.length;B.push(K);e:for(;0<Z;){var ge=Z-1>>>1,ee=B[ge];if(0<i(ee,K))B[ge]=K,B[Z]=ee,Z=ge;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],Z=B.pop();if(Z!==K){B[0]=Z;e:for(var ge=0,ee=B.length,ne=ee>>>1;ge<ne;){var we=2*(ge+1)-1,ve=B[we],Ge=we+1,cn=B[Ge];if(0>i(ve,Z))Ge<ee&&0>i(cn,ve)?(B[ge]=cn,B[Ge]=Z,ge=Ge):(B[ge]=ve,B[we]=Z,ge=we);else if(Ge<ee&&0>i(cn,Z))B[ge]=cn,B[Ge]=Z,ge=Ge;else break e}}return K}function i(B,K){var Z=B.sortIndex-K.sortIndex;return Z!==0?Z:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,g=3,S=!1,T=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=B)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function x(B){if(C=!1,_(B),!T)if(n(c)!==null)T=!0,re(b);else{var K=n(u);K!==null&&Q(x,K.startTime-B)}}function b(B,K){T=!1,C&&(C=!1,y(w),w=-1),S=!0;var Z=g;try{for(_(K),f=n(c);f!==null&&(!(f.expirationTime>K)||B&&!O());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,g=f.priorityLevel;var ee=ge(f.expirationTime<=K);K=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),_(K)}else r(c);f=n(c)}if(f!==null)var ne=!0;else{var we=n(u);we!==null&&Q(x,we.startTime-K),ne=!1}return ne}finally{f=null,g=Z,S=!1}}var D=!1,I=null,w=-1,k=5,R=-1;function O(){return!(t.unstable_now()-R<k)}function L(){if(I!==null){var B=t.unstable_now();R=B;var K=!0;try{K=I(!0,B)}finally{K?A():(D=!1,I=null)}}else D=!1}var A;if(typeof v=="function")A=function(){v(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=L,A=function(){W.postMessage(null)}}else A=function(){P(L,0)};function re(B){I=B,D||(D=!0,A())}function Q(B,K){w=P(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,re(b))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var Z=g;g=K;try{return B()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=g;g=B;try{return K()}finally{g=Z}},t.unstable_scheduleCallback=function(B,K,Z){var ge=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ge+Z:ge):Z=ge,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Z+ee,B={id:h++,callback:K,priorityLevel:B,startTime:Z,expirationTime:ee,sortIndex:-1},Z>ge?(B.sortIndex=Z,e(u,B),n(c)===null&&B===n(u)&&(C?(y(w),w=-1):C=!0,Q(x,Z-ge))):(B.sortIndex=ee,e(c,B),T||S||(T=!0,re(b))),B},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(B){var K=g;return function(){var Z=g;g=K;try{return B.apply(this,arguments)}finally{g=Z}}}})(Zw);Jw.exports=Zw;var Yk=Jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk=N,Xt=Yk;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eE=new Set,ca={};function qi(t,e){Ls(t,e),Ls(t+"Capture",e)}function Ls(t,e){for(ca[t]=e,t=0;t<e.length;t++)eE.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=Object.prototype.hasOwnProperty,Jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ov={},av={};function Zk(t){return Yd.call(av,t)?!0:Yd.call(ov,t)?!1:Jk.test(t)?av[t]=!0:(ov[t]=!0,!1)}function eA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tA(t,e,n,r){if(e===null||typeof e>"u"||eA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gp=/[\-:]([a-z])/g;function Qp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gp,Qp);dt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gp,Qp);dt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gp,Qp);dt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yp(t,e,n,r){var i=dt.hasOwnProperty(e)?dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tA(e,n,i,r)&&(n=null),r||i===null?Zk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=Xk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),cs=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),Xd=Symbol.for("react.profiler"),tE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),Jd=Symbol.for("react.suspense"),Zd=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),rE=Symbol.for("react.offscreen"),lv=Symbol.iterator;function Po(t){return t===null||typeof t!="object"?null:(t=lv&&t[lv]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,td;function Mo(t){if(td===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);td=e&&e[1]||""}return`
`+td+t}var nd=!1;function rd(t,e){if(!t||nd)return"";nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{nd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mo(t):""}function nA(t){switch(t.tag){case 5:return Mo(t.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return t=rd(t.type,!1),t;case 11:return t=rd(t.type.render,!1),t;case 1:return t=rd(t.type,!0),t;default:return""}}function ef(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case us:return"Fragment";case cs:return"Portal";case Xd:return"Profiler";case Xp:return"StrictMode";case Jd:return"Suspense";case Zd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nE:return(t.displayName||"Context")+".Consumer";case tE:return(t._context.displayName||"Context")+".Provider";case Jp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zp:return e=t.displayName||null,e!==null?e:ef(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return ef(t(e))}catch{}}return null}function rA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ef(e);case 8:return e===Xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iA(t){var e=iE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cl(t){t._valueTracker||(t._valueTracker=iA(t))}function sE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oE(t,e){e=e.checked,e!=null&&Yp(t,"checked",e,!1)}function nf(t,e){oE(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&rf(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rf(t,e,n){(e!=="number"||Rc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vo=Array.isArray;function Is(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Vo(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function aE(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,cE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sA=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){sA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function uE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function hE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var oA=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function af(t,e){if(e){if(oA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function lf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=null;function em(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uf=null,Ps=null,ks=null;function fv(t){if(t=$a(t)){if(typeof uf!="function")throw Error(q(280));var e=t.stateNode;e&&(e=xu(e),uf(t.stateNode,t.type,e))}}function dE(t){Ps?ks?ks.push(t):ks=[t]:Ps=t}function fE(){if(Ps){var t=Ps,e=ks;if(ks=Ps=null,fv(t),e)for(t=0;t<e.length;t++)fv(e[t])}}function pE(t,e){return t(e)}function mE(){}var id=!1;function gE(t,e,n){if(id)return t(e,n);id=!0;try{return pE(t,e,n)}finally{id=!1,(Ps!==null||ks!==null)&&(mE(),fE())}}function ha(t,e){var n=t.stateNode;if(n===null)return null;var r=xu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var hf=!1;if(lr)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){hf=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{hf=!1}function aA(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Go=!1,bc=null,Nc=!1,df=null,lA={onError:function(t){Go=!0,bc=t}};function cA(t,e,n,r,i,s,o,a,c){Go=!1,bc=null,aA.apply(lA,arguments)}function uA(t,e,n,r,i,s,o,a,c){if(cA.apply(this,arguments),Go){if(Go){var u=bc;Go=!1,bc=null}else throw Error(q(198));Nc||(Nc=!0,df=u)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pv(t){if(Ki(t)!==t)throw Error(q(188))}function hA(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pv(i),t;if(s===r)return pv(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function vE(t){return t=hA(t),t!==null?_E(t):null}function _E(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_E(t);if(e!==null)return e;t=t.sibling}return null}var wE=Xt.unstable_scheduleCallback,mv=Xt.unstable_cancelCallback,dA=Xt.unstable_shouldYield,fA=Xt.unstable_requestPaint,Be=Xt.unstable_now,pA=Xt.unstable_getCurrentPriorityLevel,tm=Xt.unstable_ImmediatePriority,EE=Xt.unstable_UserBlockingPriority,xc=Xt.unstable_NormalPriority,mA=Xt.unstable_LowPriority,TE=Xt.unstable_IdlePriority,Cu=null,Ln=null;function gA(t){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Cu,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:_A,yA=Math.log,vA=Math.LN2;function _A(t){return t>>>=0,t===0?32:31-(yA(t)/vA|0)|0}var bl=64,Nl=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fo(a):(s&=o,s!==0&&(r=Fo(s)))}else o=n&~i,o!==0?r=Fo(o):s!==0&&(r=Fo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gn(e),i=1<<n,r|=t[n],e&=~i;return r}function wA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=wA(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SE(){var t=bl;return bl<<=1,!(bl&4194240)&&(bl=64),t}function sd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ja(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=n}function TA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function IE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PE,rm,kE,AE,CE,pf=!1,xl=[],Fr=null,Ur=null,jr=null,da=new Map,fa=new Map,Rr=[],SA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gv(t,e){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":da.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(e.pointerId)}}function Ao(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$a(e),e!==null&&rm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IA(t,e,n,r,i){switch(e){case"focusin":return Fr=Ao(Fr,t,e,n,r,i),!0;case"dragenter":return Ur=Ao(Ur,t,e,n,r,i),!0;case"mouseover":return jr=Ao(jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return da.set(s,Ao(da.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fa.set(s,Ao(fa.get(s)||null,t,e,n,r,i)),!0}return!1}function RE(t){var e=Si(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=yE(n),e!==null){t.blockedOn=e,CE(t.priority,function(){kE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cf=r,n.target.dispatchEvent(r),cf=null}else return e=$a(n),e!==null&&rm(e),t.blockedOn=n,!1;e.shift()}return!0}function yv(t,e,n){tc(t)&&n.delete(e)}function PA(){pf=!1,Fr!==null&&tc(Fr)&&(Fr=null),Ur!==null&&tc(Ur)&&(Ur=null),jr!==null&&tc(jr)&&(jr=null),da.forEach(yv),fa.forEach(yv)}function Co(t,e){t.blockedOn===e&&(t.blockedOn=null,pf||(pf=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,PA)))}function pa(t){function e(i){return Co(i,t)}if(0<xl.length){Co(xl[0],t);for(var n=1;n<xl.length;n++){var r=xl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fr!==null&&Co(Fr,t),Ur!==null&&Co(Ur,t),jr!==null&&Co(jr,t),da.forEach(e),fa.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)RE(n),n.blockedOn===null&&Rr.shift()}var As=_r.ReactCurrentBatchConfig,Dc=!0;function kA(t,e,n,r){var i=Se,s=As.transition;As.transition=null;try{Se=1,im(t,e,n,r)}finally{Se=i,As.transition=s}}function AA(t,e,n,r){var i=Se,s=As.transition;As.transition=null;try{Se=4,im(t,e,n,r)}finally{Se=i,As.transition=s}}function im(t,e,n,r){if(Dc){var i=mf(t,e,n,r);if(i===null)md(t,e,r,Lc,n),gv(t,r);else if(IA(i,t,e,n,r))r.stopPropagation();else if(gv(t,r),e&4&&-1<SA.indexOf(t)){for(;i!==null;){var s=$a(i);if(s!==null&&PE(s),s=mf(t,e,n,r),s===null&&md(t,e,r,Lc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else md(t,e,r,null,n)}}var Lc=null;function mf(t,e,n,r){if(Lc=null,t=em(r),t=Si(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lc=t,null}function bE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pA()){case tm:return 1;case EE:return 4;case xc:case mA:return 16;case TE:return 536870912;default:return 16}default:return 16}}var Lr=null,sm=null,nc=null;function NE(){if(nc)return nc;var t,e=sm,n=e.length,r,i="value"in Lr?Lr.value:Lr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return nc=i.slice(t,1<r?1-r:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ol(){return!0}function vv(){return!1}function Zt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ol:vv,this.isPropagationStopped=vv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),e}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},om=Zt(Xs),za=Fe({},Xs,{view:0,detail:0}),CA=Zt(za),od,ad,Ro,Ru=Fe({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ro&&(Ro&&t.type==="mousemove"?(od=t.screenX-Ro.screenX,ad=t.screenY-Ro.screenY):ad=od=0,Ro=t),od)},movementY:function(t){return"movementY"in t?t.movementY:ad}}),_v=Zt(Ru),RA=Fe({},Ru,{dataTransfer:0}),bA=Zt(RA),NA=Fe({},za,{relatedTarget:0}),ld=Zt(NA),xA=Fe({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),OA=Zt(xA),DA=Fe({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LA=Zt(DA),MA=Fe({},Xs,{data:0}),wv=Zt(MA),VA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UA[t])?!!e[t]:!1}function am(){return jA}var zA=Fe({},za,{key:function(t){if(t.key){var e=VA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$A=Zt(zA),BA=Fe({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ev=Zt(BA),WA=Fe({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),HA=Zt(WA),qA=Fe({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),KA=Zt(qA),GA=Fe({},Ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QA=Zt(GA),YA=[9,13,27,32],lm=lr&&"CompositionEvent"in window,Qo=null;lr&&"documentMode"in document&&(Qo=document.documentMode);var XA=lr&&"TextEvent"in window&&!Qo,xE=lr&&(!lm||Qo&&8<Qo&&11>=Qo),Tv=String.fromCharCode(32),Sv=!1;function OE(t,e){switch(t){case"keyup":return YA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function JA(t,e){switch(t){case"compositionend":return DE(e);case"keypress":return e.which!==32?null:(Sv=!0,Tv);case"textInput":return t=e.data,t===Tv&&Sv?null:t;default:return null}}function ZA(t,e){if(hs)return t==="compositionend"||!lm&&OE(t,e)?(t=NE(),nc=sm=Lr=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eC[t.type]:e==="textarea"}function LE(t,e,n,r){dE(r),e=Mc(e,"onChange"),0<e.length&&(n=new om("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yo=null,ma=null;function tC(t){qE(t,0)}function bu(t){var e=ps(t);if(sE(e))return t}function nC(t,e){if(t==="change")return e}var ME=!1;if(lr){var cd;if(lr){var ud="oninput"in document;if(!ud){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),ud=typeof Pv.oninput=="function"}cd=ud}else cd=!1;ME=cd&&(!document.documentMode||9<document.documentMode)}function kv(){Yo&&(Yo.detachEvent("onpropertychange",VE),ma=Yo=null)}function VE(t){if(t.propertyName==="value"&&bu(ma)){var e=[];LE(e,ma,t,em(t)),gE(tC,e)}}function rC(t,e,n){t==="focusin"?(kv(),Yo=e,ma=n,Yo.attachEvent("onpropertychange",VE)):t==="focusout"&&kv()}function iC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(ma)}function sC(t,e){if(t==="click")return bu(e)}function oC(t,e){if(t==="input"||t==="change")return bu(e)}function aC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:aC;function ga(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yd.call(e,i)||!_n(t[i],e[i]))return!1}return!0}function Av(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cv(t,e){var n=Av(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Av(n)}}function FE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UE(){for(var t=window,e=Rc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rc(t.document)}return e}function cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lC(t){var e=UE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FE(n.ownerDocument.documentElement,n)){if(r!==null&&cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Cv(n,s);var o=Cv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cC=lr&&"documentMode"in document&&11>=document.documentMode,ds=null,gf=null,Xo=null,yf=!1;function Rv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yf||ds==null||ds!==Rc(r)||(r=ds,"selectionStart"in r&&cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xo&&ga(Xo,r)||(Xo=r,r=Mc(gf,"onSelect"),0<r.length&&(e=new om("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ds)))}function Dl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fs={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},hd={},jE={};lr&&(jE=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Nu(t){if(hd[t])return hd[t];if(!fs[t])return t;var e=fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jE)return hd[t]=e[n];return t}var zE=Nu("animationend"),$E=Nu("animationiteration"),BE=Nu("animationstart"),WE=Nu("transitionend"),HE=new Map,bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){HE.set(t,e),qi(e,[t])}for(var dd=0;dd<bv.length;dd++){var fd=bv[dd],uC=fd.toLowerCase(),hC=fd[0].toUpperCase()+fd.slice(1);li(uC,"on"+hC)}li(zE,"onAnimationEnd");li($E,"onAnimationIteration");li(BE,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(WE,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function Nv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uA(r,e,void 0,t),t.currentTarget=null}function qE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Nv(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Nv(i,a,u),s=c}}}if(Nc)throw t=df,Nc=!1,df=null,t}function Re(t,e){var n=e[Tf];n===void 0&&(n=e[Tf]=new Set);var r=t+"__bubble";n.has(r)||(KE(e,t,2,!1),n.add(r))}function pd(t,e,n){var r=0;e&&(r|=4),KE(n,t,r,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function ya(t){if(!t[Ll]){t[Ll]=!0,eE.forEach(function(n){n!=="selectionchange"&&(dC.has(n)||pd(n,!1,t),pd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,pd("selectionchange",!1,e))}}function KE(t,e,n,r){switch(bE(e)){case 1:var i=kA;break;case 4:i=AA;break;default:i=im}n=i.bind(null,e,n,t),i=void 0,!hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function md(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Si(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gE(function(){var u=s,h=em(n),f=[];e:{var g=HE.get(t);if(g!==void 0){var S=om,T=t;switch(t){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":S=$A;break;case"focusin":T="focus",S=ld;break;case"focusout":T="blur",S=ld;break;case"beforeblur":case"afterblur":S=ld;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=_v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=bA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=HA;break;case zE:case $E:case BE:S=OA;break;case WE:S=KA;break;case"scroll":S=CA;break;case"wheel":S=QA;break;case"copy":case"cut":case"paste":S=LA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Ev}var C=(e&4)!==0,P=!C&&t==="scroll",y=C?g!==null?g+"Capture":null:g;C=[];for(var v=u,_;v!==null;){_=v;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,y!==null&&(x=ha(v,y),x!=null&&C.push(va(v,x,_)))),P)break;v=v.return}0<C.length&&(g=new S(g,T,null,n,h),f.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",g&&n!==cf&&(T=n.relatedTarget||n.fromElement)&&(Si(T)||T[cr]))break e;if((S||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,S?(T=n.relatedTarget||n.toElement,S=u,T=T?Si(T):null,T!==null&&(P=Ki(T),T!==P||T.tag!==5&&T.tag!==6)&&(T=null)):(S=null,T=u),S!==T)){if(C=_v,x="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(C=Ev,x="onPointerLeave",y="onPointerEnter",v="pointer"),P=S==null?g:ps(S),_=T==null?g:ps(T),g=new C(x,v+"leave",S,n,h),g.target=P,g.relatedTarget=_,x=null,Si(h)===u&&(C=new C(y,v+"enter",T,n,h),C.target=_,C.relatedTarget=P,x=C),P=x,S&&T)t:{for(C=S,y=T,v=0,_=C;_;_=is(_))v++;for(_=0,x=y;x;x=is(x))_++;for(;0<v-_;)C=is(C),v--;for(;0<_-v;)y=is(y),_--;for(;v--;){if(C===y||y!==null&&C===y.alternate)break t;C=is(C),y=is(y)}C=null}else C=null;S!==null&&xv(f,g,S,C,!1),T!==null&&P!==null&&xv(f,P,T,C,!0)}}e:{if(g=u?ps(u):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var b=nC;else if(Iv(g))if(ME)b=oC;else{b=iC;var D=rC}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(b=sC);if(b&&(b=b(t,u))){LE(f,b,n,h);break e}D&&D(t,g,u),t==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&rf(g,"number",g.value)}switch(D=u?ps(u):window,t){case"focusin":(Iv(D)||D.contentEditable==="true")&&(ds=D,gf=u,Xo=null);break;case"focusout":Xo=gf=ds=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,Rv(f,n,h);break;case"selectionchange":if(cC)break;case"keydown":case"keyup":Rv(f,n,h)}var I;if(lm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else hs?OE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(xE&&n.locale!=="ko"&&(hs||w!=="onCompositionStart"?w==="onCompositionEnd"&&hs&&(I=NE()):(Lr=h,sm="value"in Lr?Lr.value:Lr.textContent,hs=!0)),D=Mc(u,w),0<D.length&&(w=new wv(w,t,null,n,h),f.push({event:w,listeners:D}),I?w.data=I:(I=DE(n),I!==null&&(w.data=I)))),(I=XA?JA(t,n):ZA(t,n))&&(u=Mc(u,"onBeforeInput"),0<u.length&&(h=new wv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=I))}qE(f,e)})}function va(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ha(t,n),s!=null&&r.unshift(va(t,s,i)),s=ha(t,e),s!=null&&r.push(va(t,s,i))),t=t.return}return r}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=ha(n,s),c!=null&&o.unshift(va(n,c,a))):i||(c=ha(n,s),c!=null&&o.push(va(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fC=/\r\n?/g,pC=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(fC,`
`).replace(pC,"")}function Ml(t,e,n){if(e=Ov(e),Ov(t)!==e&&n)throw Error(q(425))}function Vc(){}var vf=null,_f=null;function wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,mC=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,gC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(t){return Dv.resolve(null).then(t).catch(yC)}:Ef;function yC(t){setTimeout(function(){throw t})}function gd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pa(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Js=Math.random().toString(36).slice(2),xn="__reactFiber$"+Js,_a="__reactProps$"+Js,cr="__reactContainer$"+Js,Tf="__reactEvents$"+Js,vC="__reactListeners$"+Js,_C="__reactHandles$"+Js;function Si(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lv(t);t!==null;){if(n=t[xn])return n;t=Lv(t)}return e}t=n,n=t.parentNode}return null}function $a(t){return t=t[xn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function xu(t){return t[_a]||null}var Sf=[],ms=-1;function ci(t){return{current:t}}function xe(t){0>ms||(t.current=Sf[ms],Sf[ms]=null,ms--)}function Ae(t,e){ms++,Sf[ms]=t.current,t.current=e}var Xr={},It=ci(Xr),jt=ci(!1),xi=Xr;function Ms(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function Fc(){xe(jt),xe(It)}function Mv(t,e,n){if(It.current!==Xr)throw Error(q(168));Ae(It,e),Ae(jt,n)}function GE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,rA(t)||"Unknown",i));return Fe({},n,r)}function Uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,xi=It.current,Ae(It,t),Ae(jt,jt.current),!0}function Vv(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=GE(t,e,xi),r.__reactInternalMemoizedMergedChildContext=t,xe(jt),xe(It),Ae(It,t)):xe(jt),Ae(jt,n)}var Xn=null,Ou=!1,yd=!1;function QE(t){Xn===null?Xn=[t]:Xn.push(t)}function wC(t){Ou=!0,QE(t)}function ui(){if(!yd&&Xn!==null){yd=!0;var t=0,e=Se;try{var n=Xn;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,Ou=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(t+1)),wE(tm,ui),i}finally{Se=e,yd=!1}}return null}var gs=[],ys=0,jc=null,zc=0,tn=[],nn=0,Oi=null,Jn=1,Zn="";function wi(t,e){gs[ys++]=zc,gs[ys++]=jc,jc=t,zc=e}function YE(t,e,n){tn[nn++]=Jn,tn[nn++]=Zn,tn[nn++]=Oi,Oi=t;var r=Jn;t=Zn;var i=32-gn(r)-1;r&=~(1<<i),n+=1;var s=32-gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jn=1<<32-gn(e)+i|n<<i|r,Zn=s+t}else Jn=1<<s|n<<i|r,Zn=t}function um(t){t.return!==null&&(wi(t,1),YE(t,1,0))}function hm(t){for(;t===jc;)jc=gs[--ys],gs[ys]=null,zc=gs[--ys],gs[ys]=null;for(;t===Oi;)Oi=tn[--nn],tn[nn]=null,Zn=tn[--nn],tn[nn]=null,Jn=tn[--nn],tn[nn]=null}var Qt=null,Kt=null,De=!1,pn=null;function XE(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Kt=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:Jn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Kt=null,!0):!1;default:return!1}}function If(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pf(t){if(De){var e=Kt;if(e){var n=e;if(!Fv(t,e)){if(If(t))throw Error(q(418));e=zr(n.nextSibling);var r=Qt;e&&Fv(t,e)?XE(r,n):(t.flags=t.flags&-4097|2,De=!1,Qt=t)}}else{if(If(t))throw Error(q(418));t.flags=t.flags&-4097|2,De=!1,Qt=t}}}function Uv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function Vl(t){if(t!==Qt)return!1;if(!De)return Uv(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wf(t.type,t.memoizedProps)),e&&(e=Kt)){if(If(t))throw JE(),Error(q(418));for(;e;)XE(t,e),e=zr(e.nextSibling)}if(Uv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Qt?zr(t.stateNode.nextSibling):null;return!0}function JE(){for(var t=Kt;t;)t=zr(t.nextSibling)}function Vs(){Kt=Qt=null,De=!1}function dm(t){pn===null?pn=[t]:pn.push(t)}var EC=_r.ReactCurrentBatchConfig;function bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Fl(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jv(t){var e=t._init;return e(t._payload)}function ZE(t){function e(y,v){if(t){var _=y.deletions;_===null?(y.deletions=[v],y.flags|=16):_.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Hr(y,v),y.index=0,y.sibling=null,y}function s(y,v,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<v?(y.flags|=2,v):_):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,_,x){return v===null||v.tag!==6?(v=Id(_,y.mode,x),v.return=y,v):(v=i(v,_),v.return=y,v)}function c(y,v,_,x){var b=_.type;return b===us?h(y,v,_.props.children,x,_.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ar&&jv(b)===v.type)?(x=i(v,_.props),x.ref=bo(y,v,_),x.return=y,x):(x=uc(_.type,_.key,_.props,null,y.mode,x),x.ref=bo(y,v,_),x.return=y,x)}function u(y,v,_,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Pd(_,y.mode,x),v.return=y,v):(v=i(v,_.children||[]),v.return=y,v)}function h(y,v,_,x,b){return v===null||v.tag!==7?(v=bi(_,y.mode,x,b),v.return=y,v):(v=i(v,_),v.return=y,v)}function f(y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Id(""+v,y.mode,_),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Al:return _=uc(v.type,v.key,v.props,null,y.mode,_),_.ref=bo(y,null,v),_.return=y,_;case cs:return v=Pd(v,y.mode,_),v.return=y,v;case Ar:var x=v._init;return f(y,x(v._payload),_)}if(Vo(v)||Po(v))return v=bi(v,y.mode,_,null),v.return=y,v;Fl(y,v)}return null}function g(y,v,_,x){var b=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(y,v,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Al:return _.key===b?c(y,v,_,x):null;case cs:return _.key===b?u(y,v,_,x):null;case Ar:return b=_._init,g(y,v,b(_._payload),x)}if(Vo(_)||Po(_))return b!==null?null:h(y,v,_,x,null);Fl(y,_)}return null}function S(y,v,_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(_)||null,a(v,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Al:return y=y.get(x.key===null?_:x.key)||null,c(v,y,x,b);case cs:return y=y.get(x.key===null?_:x.key)||null,u(v,y,x,b);case Ar:var D=x._init;return S(y,v,_,D(x._payload),b)}if(Vo(x)||Po(x))return y=y.get(_)||null,h(v,y,x,b,null);Fl(v,x)}return null}function T(y,v,_,x){for(var b=null,D=null,I=v,w=v=0,k=null;I!==null&&w<_.length;w++){I.index>w?(k=I,I=null):k=I.sibling;var R=g(y,I,_[w],x);if(R===null){I===null&&(I=k);break}t&&I&&R.alternate===null&&e(y,I),v=s(R,v,w),D===null?b=R:D.sibling=R,D=R,I=k}if(w===_.length)return n(y,I),De&&wi(y,w),b;if(I===null){for(;w<_.length;w++)I=f(y,_[w],x),I!==null&&(v=s(I,v,w),D===null?b=I:D.sibling=I,D=I);return De&&wi(y,w),b}for(I=r(y,I);w<_.length;w++)k=S(I,y,w,_[w],x),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?w:k.key),v=s(k,v,w),D===null?b=k:D.sibling=k,D=k);return t&&I.forEach(function(O){return e(y,O)}),De&&wi(y,w),b}function C(y,v,_,x){var b=Po(_);if(typeof b!="function")throw Error(q(150));if(_=b.call(_),_==null)throw Error(q(151));for(var D=b=null,I=v,w=v=0,k=null,R=_.next();I!==null&&!R.done;w++,R=_.next()){I.index>w?(k=I,I=null):k=I.sibling;var O=g(y,I,R.value,x);if(O===null){I===null&&(I=k);break}t&&I&&O.alternate===null&&e(y,I),v=s(O,v,w),D===null?b=O:D.sibling=O,D=O,I=k}if(R.done)return n(y,I),De&&wi(y,w),b;if(I===null){for(;!R.done;w++,R=_.next())R=f(y,R.value,x),R!==null&&(v=s(R,v,w),D===null?b=R:D.sibling=R,D=R);return De&&wi(y,w),b}for(I=r(y,I);!R.done;w++,R=_.next())R=S(I,y,w,R.value,x),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?w:R.key),v=s(R,v,w),D===null?b=R:D.sibling=R,D=R);return t&&I.forEach(function(L){return e(y,L)}),De&&wi(y,w),b}function P(y,v,_,x){if(typeof _=="object"&&_!==null&&_.type===us&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Al:e:{for(var b=_.key,D=v;D!==null;){if(D.key===b){if(b=_.type,b===us){if(D.tag===7){n(y,D.sibling),v=i(D,_.props.children),v.return=y,y=v;break e}}else if(D.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ar&&jv(b)===D.type){n(y,D.sibling),v=i(D,_.props),v.ref=bo(y,D,_),v.return=y,y=v;break e}n(y,D);break}else e(y,D);D=D.sibling}_.type===us?(v=bi(_.props.children,y.mode,x,_.key),v.return=y,y=v):(x=uc(_.type,_.key,_.props,null,y.mode,x),x.ref=bo(y,v,_),x.return=y,y=x)}return o(y);case cs:e:{for(D=_.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(y,v.sibling),v=i(v,_.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Pd(_,y.mode,x),v.return=y,y=v}return o(y);case Ar:return D=_._init,P(y,v,D(_._payload),x)}if(Vo(_))return T(y,v,_,x);if(Po(_))return C(y,v,_,x);Fl(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,_),v.return=y,y=v):(n(y,v),v=Id(_,y.mode,x),v.return=y,y=v),o(y)):n(y,v)}return P}var Fs=ZE(!0),e1=ZE(!1),$c=ci(null),Bc=null,vs=null,fm=null;function pm(){fm=vs=Bc=null}function mm(t){var e=$c.current;xe($c),t._currentValue=e}function kf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cs(t,e){Bc=t,fm=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(fm!==t)if(t={context:t,memoizedValue:e,next:null},vs===null){if(Bc===null)throw Error(q(308));vs=t,Bc.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return e}var Ii=null;function gm(t){Ii===null?Ii=[t]:Ii.push(t)}function t1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cr=!1;function ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,gm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function ic(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nm(t,n)}}function zv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wc(t,e,n,r){var i=t.updateQueue;Cr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,h=u=c=null,a=s;do{var g=a.lane,S=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,C=a;switch(g=e,S=n,C.tag){case 1:if(T=C.payload,typeof T=="function"){f=T.call(S,f,g);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=C.payload,g=typeof T=="function"?T.call(S,f,g):T,g==null)break e;f=Fe({},f,g);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else S={eventTime:S,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=S,c=f):h=h.next=S,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Li|=o,t.lanes=o,t.memoizedState=f}}function $v(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Ba={},Mn=ci(Ba),wa=ci(Ba),Ea=ci(Ba);function Pi(t){if(t===Ba)throw Error(q(174));return t}function vm(t,e){switch(Ae(Ea,e),Ae(wa,t),Ae(Mn,Ba),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=of(e,t)}xe(Mn),Ae(Mn,e)}function Us(){xe(Mn),xe(wa),xe(Ea)}function r1(t){Pi(Ea.current);var e=Pi(Mn.current),n=of(e,t.type);e!==n&&(Ae(wa,t),Ae(Mn,n))}function _m(t){wa.current===t&&(xe(Mn),xe(wa))}var Me=ci(0);function Hc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vd=[];function wm(){for(var t=0;t<vd.length;t++)vd[t]._workInProgressVersionPrimary=null;vd.length=0}var sc=_r.ReactCurrentDispatcher,_d=_r.ReactCurrentBatchConfig,Di=0,Ve=null,Qe=null,nt=null,qc=!1,Jo=!1,Ta=0,TC=0;function yt(){throw Error(q(321))}function Em(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function Tm(t,e,n,r,i,s){if(Di=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sc.current=t===null||t.memoizedState===null?kC:AC,t=n(r,i),Jo){s=0;do{if(Jo=!1,Ta=0,25<=s)throw Error(q(301));s+=1,nt=Qe=null,e.updateQueue=null,sc.current=CC,t=n(r,i)}while(Jo)}if(sc.current=Kc,e=Qe!==null&&Qe.next!==null,Di=0,nt=Qe=Ve=null,qc=!1,e)throw Error(q(300));return t}function Sm(){var t=Ta!==0;return Ta=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ve.memoizedState=nt=t:nt=nt.next=t,nt}function ln(){if(Qe===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=nt===null?Ve.memoizedState:nt.next;if(e!==null)nt=e,Qe=t;else{if(t===null)throw Error(q(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},nt===null?Ve.memoizedState=nt=t:nt=nt.next=t}return nt}function Sa(t,e){return typeof e=="function"?e(t):e}function wd(t){var e=ln(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var h=u.lane;if((Di&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ve.lanes|=h,Li|=h}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,_n(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ve.lanes|=s,Li|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ed(t){var e=ln(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_n(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function i1(){}function s1(t,e){var n=Ve,r=ln(),i=e(),s=!_n(r.memoizedState,i);if(s&&(r.memoizedState=i,Ut=!0),r=r.queue,Im(l1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Ia(9,a1.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(q(349));Di&30||o1(n,e,i)}return i}function o1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a1(t,e,n,r){e.value=n,e.getSnapshot=r,c1(e)&&u1(t)}function l1(t,e,n){return n(function(){c1(e)&&u1(t)})}function c1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function u1(t){var e=ur(t,1);e!==null&&yn(e,t,1,-1)}function Bv(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:t},e.queue=t,t=t.dispatch=PC.bind(null,Ve,t),[e.memoizedState,t]}function Ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h1(){return ln().memoizedState}function oc(t,e,n,r){var i=Rn();Ve.flags|=t,i.memoizedState=Ia(1|e,n,void 0,r===void 0?null:r)}function Du(t,e,n,r){var i=ln();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&Em(r,o.deps)){i.memoizedState=Ia(e,n,s,r);return}}Ve.flags|=t,i.memoizedState=Ia(1|e,n,s,r)}function Wv(t,e){return oc(8390656,8,t,e)}function Im(t,e){return Du(2048,8,t,e)}function d1(t,e){return Du(4,2,t,e)}function f1(t,e){return Du(4,4,t,e)}function p1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m1(t,e,n){return n=n!=null?n.concat([t]):null,Du(4,4,p1.bind(null,e,t),n)}function Pm(){}function g1(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Em(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function y1(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Em(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v1(t,e,n){return Di&21?(_n(n,e)||(n=SE(),Ve.lanes|=n,Li|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function SC(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=_d.transition;_d.transition={};try{t(!1),e()}finally{Se=n,_d.transition=r}}function _1(){return ln().memoizedState}function IC(t,e,n){var r=Wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w1(t))E1(e,n);else if(n=t1(t,e,n,r),n!==null){var i=xt();yn(n,t,r,i),T1(n,e,r)}}function PC(t,e,n){var r=Wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w1(t))E1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_n(a,o)){var c=e.interleaved;c===null?(i.next=i,gm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=t1(t,e,i,r),n!==null&&(i=xt(),yn(n,t,r,i),T1(n,e,r))}}function w1(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function E1(t,e){Jo=qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function T1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nm(t,n)}}var Kc={readContext:an,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},kC={readContext:an,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:Wv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oc(4194308,4,p1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oc(4194308,4,t,e)},useInsertionEffect:function(t,e){return oc(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IC.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:Bv,useDebugValue:Pm,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=Bv(!1),e=t[0];return t=SC.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=Rn();if(De){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),rt===null)throw Error(q(349));Di&30||o1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Wv(l1.bind(null,r,s,t),[t]),r.flags|=2048,Ia(9,a1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Rn(),e=rt.identifierPrefix;if(De){var n=Zn,r=Jn;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AC={readContext:an,useCallback:g1,useContext:an,useEffect:Im,useImperativeHandle:m1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:y1,useReducer:wd,useRef:h1,useState:function(){return wd(Sa)},useDebugValue:Pm,useDeferredValue:function(t){var e=ln();return v1(e,Qe.memoizedState,t)},useTransition:function(){var t=wd(Sa)[0],e=ln().memoizedState;return[t,e]},useMutableSource:i1,useSyncExternalStore:s1,useId:_1,unstable_isNewReconciler:!1},CC={readContext:an,useCallback:g1,useContext:an,useEffect:Im,useImperativeHandle:m1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:y1,useReducer:Ed,useRef:h1,useState:function(){return Ed(Sa)},useDebugValue:Pm,useDeferredValue:function(t){var e=ln();return Qe===null?e.memoizedState=t:v1(e,Qe.memoizedState,t)},useTransition:function(){var t=Ed(Sa)[0],e=ln().memoizedState;return[t,e]},useMutableSource:i1,useSyncExternalStore:s1,useId:_1,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lu={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),i=Wr(t),s=rr(r,i);s.payload=e,n!=null&&(s.callback=n),e=$r(t,s,i),e!==null&&(yn(e,t,i,r),ic(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),i=Wr(t),s=rr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$r(t,s,i),e!==null&&(yn(e,t,i,r),ic(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=Wr(t),i=rr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(yn(e,t,r,n),ic(e,t,r))}};function Hv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ga(n,r)||!ga(i,s):!0}function S1(t,e,n){var r=!1,i=Xr,s=e.contextType;return typeof s=="object"&&s!==null?s=an(s):(i=zt(e)?xi:It.current,r=e.contextTypes,s=(r=r!=null)?Ms(t,i):Xr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lu.enqueueReplaceState(e,e.state,null)}function Cf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ym(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=an(s):(s=zt(e)?xi:It.current,i.context=Ms(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Af(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lu.enqueueReplaceState(i,i.state,null),Wc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function js(t,e){try{var n="",r=e;do n+=nA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Td(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RC=typeof WeakMap=="function"?WeakMap:Map;function I1(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qc||(Qc=!0,Uf=r),Rf(t,e)},n}function P1(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rf(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Kv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BC.bind(null,t,e,n),e.then(t,t))}function Gv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var bC=_r.ReactCurrentOwner,Ut=!1;function bt(t,e,n,r){e.child=t===null?e1(e,null,n,r):Fs(e,t.child,n,r)}function Yv(t,e,n,r,i){n=n.render;var s=e.ref;return Cs(e,i),r=Tm(t,e,n,r,s,i),n=Sm(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hr(t,e,i)):(De&&n&&um(e),e.flags|=1,bt(t,e,r,i),e.child)}function Xv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Om(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,k1(t,e,s,r,i)):(t=uc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ga,n(o,r)&&t.ref===e.ref)return hr(t,e,i)}return e.flags|=1,t=Hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function k1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ga(s,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,hr(t,e,i)}return bf(t,e,n,r,i)}function A1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(ws,Ht),Ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(ws,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ae(ws,Ht),Ht|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ae(ws,Ht),Ht|=r;return bt(t,e,i,n),e.child}function C1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bf(t,e,n,r,i){var s=zt(n)?xi:It.current;return s=Ms(e,s),Cs(e,i),n=Tm(t,e,n,r,s,i),r=Sm(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hr(t,e,i)):(De&&r&&um(e),e.flags|=1,bt(t,e,n,i),e.child)}function Jv(t,e,n,r,i){if(zt(n)){var s=!0;Uc(e)}else s=!1;if(Cs(e,i),e.stateNode===null)ac(t,e),S1(e,n,r),Cf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=zt(n)?xi:It.current,u=Ms(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&qv(e,o,r,u),Cr=!1;var g=e.memoizedState;o.state=g,Wc(e,r,o,i),c=e.memoizedState,a!==r||g!==c||jt.current||Cr?(typeof h=="function"&&(Af(e,n,h,r),c=e.memoizedState),(a=Cr||Hv(e,n,a,r,g,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,n1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dn(e.type,a),o.props=u,f=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=an(c):(c=zt(n)?xi:It.current,c=Ms(e,c));var S=n.getDerivedStateFromProps;(h=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==c)&&qv(e,o,r,c),Cr=!1,g=e.memoizedState,o.state=g,Wc(e,r,o,i);var T=e.memoizedState;a!==f||g!==T||jt.current||Cr?(typeof S=="function"&&(Af(e,n,S,r),T=e.memoizedState),(u=Cr||Hv(e,n,u,r,g,T,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Nf(t,e,n,r,s,i)}function Nf(t,e,n,r,i,s){C1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Vv(e,n,!1),hr(t,e,s);r=e.stateNode,bC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fs(e,t.child,null,s),e.child=Fs(e,null,a,s)):bt(t,e,a,s),e.memoizedState=r.state,i&&Vv(e,n,!0),e.child}function R1(t){var e=t.stateNode;e.pendingContext?Mv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mv(t,e.context,!1),vm(t,e.containerInfo)}function Zv(t,e,n,r,i){return Vs(),dm(i),e.flags|=256,bt(t,e,n,r),e.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Of(t){return{baseLanes:t,cachePool:null,transitions:null}}function b1(t,e,n){var r=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(Me,i&1),t===null)return Pf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fu(o,r,0,null),t=bi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Of(n),e.memoizedState=xf,t):km(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Hr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hr(a,s):(s=bi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Of(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xf,r}return s=t.child,t=s.sibling,r=Hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function km(t,e){return e=Fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ul(t,e,n,r){return r!==null&&dm(r),Fs(e,t.child,null,n),t=km(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Td(Error(q(422))),Ul(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fu({mode:"visible",children:r.children},i,0,null),s=bi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fs(e,t.child,null,o),e.child.memoizedState=Of(o),e.memoizedState=xf,s);if(!(e.mode&1))return Ul(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=Td(s,r,void 0),Ul(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ut||a){if(r=rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(t,i),yn(r,t,i,-1))}return xm(),r=Td(Error(q(421))),Ul(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=zr(i.nextSibling),Qt=e,De=!0,pn=null,t!==null&&(tn[nn++]=Jn,tn[nn++]=Zn,tn[nn++]=Oi,Jn=t.id,Zn=t.overflow,Oi=e),e=km(e,r.children),e.flags|=4096,e)}function e_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kf(t.return,e,n)}function Sd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function N1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e_(t,n,e);else if(t.tag===19)e_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sd(e,!0,n,null,s);break;case"together":Sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ac(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Li|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xC(t,e,n){switch(e.tag){case 3:R1(e),Vs();break;case 5:r1(e);break;case 1:zt(e.type)&&Uc(e);break;case 4:vm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae($c,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?b1(t,e,n):(Ae(Me,Me.current&1),t=hr(t,e,n),t!==null?t.sibling:null);Ae(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return N1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,A1(t,e,n)}return hr(t,e,n)}var x1,Df,O1,D1;x1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Df=function(){};O1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pi(Mn.current);var s=null;switch(n){case"input":i=tf(t,i),r=tf(t,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=sf(t,i),r=sf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vc)}af(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ca.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ca.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};D1=function(t,e,n,r){n!==r&&(e.flags|=4)};function No(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OC(t,e,n){var r=e.pendingProps;switch(hm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return zt(e.type)&&Fc(),vt(e),null;case 3:return r=e.stateNode,Us(),xe(jt),xe(It),wm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&($f(pn),pn=null))),Df(t,e),vt(e),null;case 5:_m(e);var i=Pi(Ea.current);if(n=e.type,t!==null&&e.stateNode!=null)O1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return vt(e),null}if(t=Pi(Mn.current),Vl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xn]=e,r[_a]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<Uo.length;i++)Re(Uo[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":cv(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":hv(r,s),Re("invalid",r)}af(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ml(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ml(r.textContent,a,t),i=["children",""+a]):ca.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Cl(r),uv(r,s,!0);break;case"textarea":Cl(r),dv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xn]=e,t[_a]=r,x1(t,e,!1,!1),e.stateNode=t;e:{switch(o=lf(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<Uo.length;i++)Re(Uo[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":cv(t,r),i=tf(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),Re("invalid",t);break;case"textarea":hv(t,r),i=sf(t,r),Re("invalid",t);break;default:i=r}af(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?hE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ua(t,c):typeof c=="number"&&ua(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ca.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Re("scroll",t):c!=null&&Yp(t,s,c,o))}switch(n){case"input":Cl(t),uv(t,r,!1);break;case"textarea":Cl(t),dv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Is(t,!!r.multiple,s,!1):r.defaultValue!=null&&Is(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)D1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Pi(Ea.current),Pi(Mn.current),Vl(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(s=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:Ml(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ml(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return vt(e),null;case 13:if(xe(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Kt!==null&&e.mode&1&&!(e.flags&128))JE(),Vs(),e.flags|=98560,s=!1;else if(s=Vl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[xn]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else pn!==null&&($f(pn),pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?Ye===0&&(Ye=3):xm())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return Us(),Df(t,e),t===null&&ya(e.stateNode.containerInfo),vt(e),null;case 10:return mm(e.type._context),vt(e),null;case 17:return zt(e.type)&&Fc(),vt(e),null;case 19:if(xe(Me),s=e.memoizedState,s===null)return vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)No(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hc(t),o!==null){for(e.flags|=128,No(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>zs&&(e.flags|=128,r=!0,No(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),No(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return vt(e),null}else 2*Be()-s.renderingStartTime>zs&&n!==1073741824&&(e.flags|=128,r=!0,No(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=Me.current,Ae(Me,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Nm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function DC(t,e){switch(hm(e),e.tag){case 1:return zt(e.type)&&Fc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Us(),xe(jt),xe(It),wm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _m(e),null;case 13:if(xe(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Me),null;case 4:return Us(),null;case 10:return mm(e.type._context),null;case 22:case 23:return Nm(),null;case 24:return null;default:return null}}var jl=!1,Et=!1,LC=typeof WeakSet=="function"?WeakSet:Set,X=null;function _s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Lf(t,e,n){try{n()}catch(r){ze(t,e,r)}}var t_=!1;function MC(t,e){if(vf=Dc,t=UE(),cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,g=null;t:for(;;){for(var S;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)g=f,f=S;for(;;){if(f===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++h===r&&(c=o),(S=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=S}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_f={focusedElem:t,selectionRange:n},Dc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var C=T.memoizedProps,P=T.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?C:dn(e.type,C),P);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(x){ze(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return T=t_,t_=!1,T}function Zo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lf(e,n,s)}i=i.next}while(i!==r)}}function Mu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L1(t){var e=t.alternate;e!==null&&(t.alternate=null,L1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[_a],delete e[Tf],delete e[vC],delete e[_C])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M1(t){return t.tag===5||t.tag===3||t.tag===4}function n_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vc));else if(r!==4&&(t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}function Ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}var ot=null,fn=!1;function Ir(t,e,n){for(n=n.child;n!==null;)V1(t,e,n),n=n.sibling}function V1(t,e,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Cu,n)}catch{}switch(n.tag){case 5:Et||_s(n,e);case 6:var r=ot,i=fn;ot=null,Ir(t,e,n),ot=r,fn=i,ot!==null&&(fn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(fn?(t=ot,n=n.stateNode,t.nodeType===8?gd(t.parentNode,n):t.nodeType===1&&gd(t,n),pa(t)):gd(ot,n.stateNode));break;case 4:r=ot,i=fn,ot=n.stateNode.containerInfo,fn=!0,Ir(t,e,n),ot=r,fn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lf(n,e,o),i=i.next}while(i!==r)}Ir(t,e,n);break;case 1:if(!Et&&(_s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Ir(t,e,n),Et=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function r_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LC),e.forEach(function(r){var i=HC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,fn=!1;break e;case 3:ot=a.stateNode.containerInfo,fn=!0;break e;case 4:ot=a.stateNode.containerInfo,fn=!0;break e}a=a.return}if(ot===null)throw Error(q(160));V1(s,o,i),ot=null,fn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)F1(e,t),e=e.sibling}function F1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),An(t),r&4){try{Zo(3,t,t.return),Mu(3,t)}catch(C){ze(t,t.return,C)}try{Zo(5,t,t.return)}catch(C){ze(t,t.return,C)}}break;case 1:hn(e,t),An(t),r&512&&n!==null&&_s(n,n.return);break;case 5:if(hn(e,t),An(t),r&512&&n!==null&&_s(n,n.return),t.flags&32){var i=t.stateNode;try{ua(i,"")}catch(C){ze(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oE(i,s),lf(a,o);var u=lf(a,s);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?hE(i,f):h==="dangerouslySetInnerHTML"?cE(i,f):h==="children"?ua(i,f):Yp(i,h,f,u)}switch(a){case"input":nf(i,s);break;case"textarea":aE(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Is(i,!!s.multiple,S,!1):g!==!!s.multiple&&(s.defaultValue!=null?Is(i,!!s.multiple,s.defaultValue,!0):Is(i,!!s.multiple,s.multiple?[]:"",!1))}i[_a]=s}catch(C){ze(t,t.return,C)}}break;case 6:if(hn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){ze(t,t.return,C)}}break;case 3:if(hn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pa(e.containerInfo)}catch(C){ze(t,t.return,C)}break;case 4:hn(e,t),An(t);break;case 13:hn(e,t),An(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rm=Be())),r&4&&r_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||h,hn(e,t),Et=u):hn(e,t),An(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(f=X=h;X!==null;){switch(g=X,S=g.child,g.tag){case 0:case 11:case 14:case 15:Zo(4,g,g.return);break;case 1:_s(g,g.return);var T=g.stateNode;if(typeof T.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(C){ze(r,n,C)}}break;case 5:_s(g,g.return);break;case 22:if(g.memoizedState!==null){s_(f);continue}}S!==null?(S.return=g,X=S):s_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=uE("display",o))}catch(C){ze(t,t.return,C)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(C){ze(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hn(e,t),An(t),r&4&&r_(t);break;case 21:break;default:hn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M1(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ua(i,""),r.flags&=-33);var s=n_(t);Ff(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=n_(t);Vf(t,a,o);break;default:throw Error(q(161))}}catch(c){ze(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VC(t,e,n){X=t,U1(t)}function U1(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jl;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Et;a=jl;var u=Et;if(jl=o,(Et=c)&&!u)for(X=i;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?o_(i):c!==null?(c.return=o,X=c):o_(i);for(;s!==null;)X=s,U1(s),s=s.sibling;X=i,jl=a,Et=u}i_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):i_(t)}}function i_(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Mu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$v(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$v(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&pa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Et||e.flags&512&&Mf(e)}catch(g){ze(e,e.return,g)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function s_(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function o_(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mu(4,e)}catch(c){ze(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ze(e,i,c)}}var s=e.return;try{Mf(e)}catch(c){ze(e,s,c)}break;case 5:var o=e.return;try{Mf(e)}catch(c){ze(e,o,c)}}}catch(c){ze(e,e.return,c)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var FC=Math.ceil,Gc=_r.ReactCurrentDispatcher,Am=_r.ReactCurrentOwner,sn=_r.ReactCurrentBatchConfig,_e=0,rt=null,He=null,ht=0,Ht=0,ws=ci(0),Ye=0,Pa=null,Li=0,Vu=0,Cm=0,ea=null,Vt=null,Rm=0,zs=1/0,Yn=null,Qc=!1,Uf=null,Br=null,zl=!1,Mr=null,Yc=0,ta=0,jf=null,lc=-1,cc=0;function xt(){return _e&6?Be():lc!==-1?lc:lc=Be()}function Wr(t){return t.mode&1?_e&2&&ht!==0?ht&-ht:EC.transition!==null?(cc===0&&(cc=SE()),cc):(t=Se,t!==0||(t=window.event,t=t===void 0?16:bE(t.type)),t):1}function yn(t,e,n,r){if(50<ta)throw ta=0,jf=null,Error(q(185));ja(t,n,r),(!(_e&2)||t!==rt)&&(t===rt&&(!(_e&2)&&(Vu|=n),Ye===4&&br(t,ht)),$t(t,r),n===1&&_e===0&&!(e.mode&1)&&(zs=Be()+500,Ou&&ui()))}function $t(t,e){var n=t.callbackNode;EA(t,e);var r=Oc(t,t===rt?ht:0);if(r===0)n!==null&&mv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mv(n),e===1)t.tag===0?wC(a_.bind(null,t)):QE(a_.bind(null,t)),gC(function(){!(_e&6)&&ui()}),n=null;else{switch(IE(r)){case 1:n=tm;break;case 4:n=EE;break;case 16:n=xc;break;case 536870912:n=TE;break;default:n=xc}n=K1(n,j1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function j1(t,e){if(lc=-1,cc=0,_e&6)throw Error(q(327));var n=t.callbackNode;if(Rs()&&t.callbackNode!==n)return null;var r=Oc(t,t===rt?ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xc(t,r);else{e=r;var i=_e;_e|=2;var s=$1();(rt!==t||ht!==e)&&(Yn=null,zs=Be()+500,Ri(t,e));do try{zC();break}catch(a){z1(t,a)}while(1);pm(),Gc.current=s,_e=i,He!==null?e=0:(rt=null,ht=0,e=Ye)}if(e!==0){if(e===2&&(i=ff(t),i!==0&&(r=i,e=zf(t,i))),e===1)throw n=Pa,Ri(t,0),br(t,r),$t(t,Be()),n;if(e===6)br(t,r);else{if(i=t.current.alternate,!(r&30)&&!UC(i)&&(e=Xc(t,r),e===2&&(s=ff(t),s!==0&&(r=s,e=zf(t,s))),e===1))throw n=Pa,Ri(t,0),br(t,r),$t(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Ei(t,Vt,Yn);break;case 3:if(br(t,r),(r&130023424)===r&&(e=Rm+500-Be(),10<e)){if(Oc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ef(Ei.bind(null,t,Vt,Yn),e);break}Ei(t,Vt,Yn);break;case 4:if(br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FC(r/1960))-r,10<r){t.timeoutHandle=Ef(Ei.bind(null,t,Vt,Yn),r);break}Ei(t,Vt,Yn);break;case 5:Ei(t,Vt,Yn);break;default:throw Error(q(329))}}}return $t(t,Be()),t.callbackNode===n?j1.bind(null,t):null}function zf(t,e){var n=ea;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=Xc(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&$f(e)),t}function $f(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function UC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_n(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e){for(e&=~Cm,e&=~Vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gn(e),r=1<<n;t[n]=-1,e&=~r}}function a_(t){if(_e&6)throw Error(q(327));Rs();var e=Oc(t,0);if(!(e&1))return $t(t,Be()),null;var n=Xc(t,e);if(t.tag!==0&&n===2){var r=ff(t);r!==0&&(e=r,n=zf(t,r))}if(n===1)throw n=Pa,Ri(t,0),br(t,e),$t(t,Be()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ei(t,Vt,Yn),$t(t,Be()),null}function bm(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(zs=Be()+500,Ou&&ui())}}function Mi(t){Mr!==null&&Mr.tag===0&&!(_e&6)&&Rs();var e=_e;_e|=1;var n=sn.transition,r=Se;try{if(sn.transition=null,Se=1,t)return t()}finally{Se=r,sn.transition=n,_e=e,!(_e&6)&&ui()}}function Nm(){Ht=ws.current,xe(ws)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mC(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(hm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fc();break;case 3:Us(),xe(jt),xe(It),wm();break;case 5:_m(r);break;case 4:Us();break;case 13:xe(Me);break;case 19:xe(Me);break;case 10:mm(r.type._context);break;case 22:case 23:Nm()}n=n.return}if(rt=t,He=t=Hr(t.current,null),ht=Ht=e,Ye=0,Pa=null,Cm=Vu=Li=0,Vt=ea=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ii=null}return t}function z1(t,e){do{var n=He;try{if(pm(),sc.current=Kc,qc){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qc=!1}if(Di=0,nt=Qe=Ve=null,Jo=!1,Ta=0,Am.current=null,n===null||n.return===null){Ye=1,Pa=e,He=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=ht,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var S=Gv(o);if(S!==null){S.flags&=-257,Qv(S,o,a,s,e),S.mode&1&&Kv(s,u,e),e=S,c=u;var T=e.updateQueue;if(T===null){var C=new Set;C.add(c),e.updateQueue=C}else T.add(c);break e}else{if(!(e&1)){Kv(s,u,e),xm();break e}c=Error(q(426))}}else if(De&&a.mode&1){var P=Gv(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Qv(P,o,a,s,e),dm(js(c,a));break e}}s=c=js(c,a),Ye!==4&&(Ye=2),ea===null?ea=[s]:ea.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=I1(s,c,e);zv(s,y);break e;case 1:a=c;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Br===null||!Br.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=P1(s,a,e);zv(s,x);break e}}s=s.return}while(s!==null)}W1(n)}catch(b){e=b,He===n&&n!==null&&(He=n=n.return);continue}break}while(1)}function $1(){var t=Gc.current;return Gc.current=Kc,t===null?Kc:t}function xm(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),rt===null||!(Li&268435455)&&!(Vu&268435455)||br(rt,ht)}function Xc(t,e){var n=_e;_e|=2;var r=$1();(rt!==t||ht!==e)&&(Yn=null,Ri(t,e));do try{jC();break}catch(i){z1(t,i)}while(1);if(pm(),_e=n,Gc.current=r,He!==null)throw Error(q(261));return rt=null,ht=0,Ye}function jC(){for(;He!==null;)B1(He)}function zC(){for(;He!==null&&!dA();)B1(He)}function B1(t){var e=q1(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?W1(t):He=e,Am.current=null}function W1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DC(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,He=null;return}}else if(n=OC(n,e,Ht),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ye===0&&(Ye=5)}function Ei(t,e,n){var r=Se,i=sn.transition;try{sn.transition=null,Se=1,$C(t,e,n,r)}finally{sn.transition=i,Se=r}return null}function $C(t,e,n,r){do Rs();while(Mr!==null);if(_e&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TA(t,s),t===rt&&(He=rt=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zl||(zl=!0,K1(xc,function(){return Rs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=sn.transition,sn.transition=null;var o=Se;Se=1;var a=_e;_e|=4,Am.current=null,MC(t,n),F1(n,t),lC(_f),Dc=!!vf,_f=vf=null,t.current=n,VC(n),fA(),_e=a,Se=o,sn.transition=s}else t.current=n;if(zl&&(zl=!1,Mr=t,Yc=i),s=t.pendingLanes,s===0&&(Br=null),gA(n.stateNode),$t(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qc)throw Qc=!1,t=Uf,Uf=null,t;return Yc&1&&t.tag!==0&&Rs(),s=t.pendingLanes,s&1?t===jf?ta++:(ta=0,jf=t):ta=0,ui(),null}function Rs(){if(Mr!==null){var t=IE(Yc),e=sn.transition,n=Se;try{if(sn.transition=null,Se=16>t?16:t,Mr===null)var r=!1;else{if(t=Mr,Mr=null,Yc=0,_e&6)throw Error(q(331));var i=_e;for(_e|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(X=u;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Zo(8,h,s)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var g=h.sibling,S=h.return;if(L1(h),h===u){X=null;break}if(g!==null){g.return=S,X=g;break}X=S}}}var T=s.alternate;if(T!==null){var C=T.child;if(C!==null){T.child=null;do{var P=C.sibling;C.sibling=null,C=P}while(C!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zo(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,X=y;break e}X=s.return}}var v=t.current;for(X=v;X!==null;){o=X;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,X=_;else e:for(o=v;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mu(9,a)}}catch(b){ze(a,a.return,b)}if(a===o){X=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}if(_e=i,ui(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Cu,t)}catch{}r=!0}return r}finally{Se=n,sn.transition=e}}return!1}function l_(t,e,n){e=js(n,e),e=I1(t,e,1),t=$r(t,e,1),e=xt(),t!==null&&(ja(t,1,e),$t(t,e))}function ze(t,e,n){if(t.tag===3)l_(t,t,n);else for(;e!==null;){if(e.tag===3){l_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=js(n,t),t=P1(e,t,1),e=$r(e,t,1),t=xt(),e!==null&&(ja(e,1,t),$t(e,t));break}}e=e.return}}function BC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(ht&n)===n&&(Ye===4||Ye===3&&(ht&130023424)===ht&&500>Be()-Rm?Ri(t,0):Cm|=n),$t(t,e)}function H1(t,e){e===0&&(t.mode&1?(e=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):e=1);var n=xt();t=ur(t,e),t!==null&&(ja(t,e,n),$t(t,n))}function WC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H1(t,n)}function HC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),H1(t,n)}var q1;q1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,xC(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,De&&e.flags&1048576&&YE(e,zc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ac(t,e),t=e.pendingProps;var i=Ms(e,It.current);Cs(e,n),i=Tm(null,e,r,t,i,n);var s=Sm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(s=!0,Uc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ym(e),i.updater=Lu,e.stateNode=i,i._reactInternals=e,Cf(e,r,t,n),e=Nf(null,e,r,!0,s,n)):(e.tag=0,De&&s&&um(e),bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ac(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KC(r),t=dn(r,t),i){case 0:e=bf(null,e,r,t,n);break e;case 1:e=Jv(null,e,r,t,n);break e;case 11:e=Yv(null,e,r,t,n);break e;case 14:e=Xv(null,e,r,dn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),bf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Jv(t,e,r,i,n);case 3:e:{if(R1(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,n1(t,e),Wc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=js(Error(q(423)),e),e=Zv(t,e,r,n,i);break e}else if(r!==i){i=js(Error(q(424)),e),e=Zv(t,e,r,n,i);break e}else for(Kt=zr(e.stateNode.containerInfo.firstChild),Qt=e,De=!0,pn=null,n=e1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===i){e=hr(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return r1(e),t===null&&Pf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wf(r,i)?o=null:s!==null&&wf(r,s)&&(e.flags|=32),C1(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&Pf(e),null;case 13:return b1(t,e,n);case 4:return vm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fs(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Yv(t,e,r,i,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ae($c,r._currentValue),r._currentValue=o,s!==null)if(_n(s.value,o)){if(s.children===i.children&&!jt.current){e=hr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=rr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),kf(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),kf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Cs(e,n),i=an(i),r=r(i),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,i=dn(r,e.pendingProps),i=dn(r.type,i),Xv(t,e,r,i,n);case 15:return k1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),ac(t,e),e.tag=1,zt(r)?(t=!0,Uc(e)):t=!1,Cs(e,n),S1(e,r,i),Cf(e,r,i,n),Nf(null,e,r,!0,t,n);case 19:return N1(t,e,n);case 22:return A1(t,e,n)}throw Error(q(156,e.tag))};function K1(t,e){return wE(t,e)}function qC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new qC(t,e,n,r)}function Om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KC(t){if(typeof t=="function")return Om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jp)return 11;if(t===Zp)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Om(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case us:return bi(n.children,i,s,e);case Xp:o=8,i|=8;break;case Xd:return t=rn(12,n,e,i|2),t.elementType=Xd,t.lanes=s,t;case Jd:return t=rn(13,n,e,i),t.elementType=Jd,t.lanes=s,t;case Zd:return t=rn(19,n,e,i),t.elementType=Zd,t.lanes=s,t;case rE:return Fu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tE:o=10;break e;case nE:o=9;break e;case Jp:o=11;break e;case Zp:o=14;break e;case Ar:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bi(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function Fu(t,e,n,r){return t=rn(22,t,r,e),t.elementType=rE,t.lanes=n,t.stateNode={isHidden:!1},t}function Id(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function Pd(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sd(0),this.expirationTimes=sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dm(t,e,n,r,i,s,o,a,c){return t=new GC(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ym(s),t}function QC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G1(t){if(!t)return Xr;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(zt(n))return GE(t,n,e)}return e}function Q1(t,e,n,r,i,s,o,a,c){return t=Dm(n,r,!0,t,i,s,o,a,c),t.context=G1(null),n=t.current,r=xt(),i=Wr(n),s=rr(r,i),s.callback=e??null,$r(n,s,i),t.current.lanes=i,ja(t,i,r),$t(t,r),t}function Uu(t,e,n,r){var i=e.current,s=xt(),o=Wr(i);return n=G1(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,o),t!==null&&(yn(t,i,o,s),ic(t,i,o)),o}function Jc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lm(t,e){c_(t,e),(t=t.alternate)&&c_(t,e)}function YC(){return null}var Y1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mm(t){this._internalRoot=t}ju.prototype.render=Mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Uu(t,e,null,null)};ju.prototype.unmount=Mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mi(function(){Uu(null,t,null,null)}),e[cr]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var e=AE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&RE(t)}};function Vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u_(){}function XC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Jc(o);s.call(u)}}var o=Q1(e,r,t,0,null,!1,!1,"",u_);return t._reactRootContainer=o,t[cr]=o.current,ya(t.nodeType===8?t.parentNode:t),Mi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Jc(c);a.call(u)}}var c=Dm(t,0,!1,null,null,!1,!1,"",u_);return t._reactRootContainer=c,t[cr]=c.current,ya(t.nodeType===8?t.parentNode:t),Mi(function(){Uu(e,c,n,r)}),c}function $u(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Jc(o);a.call(c)}}Uu(e,o,t,i)}else o=XC(n,e,t,i,r);return Jc(o)}PE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fo(e.pendingLanes);n!==0&&(nm(e,n|1),$t(e,Be()),!(_e&6)&&(zs=Be()+500,ui()))}break;case 13:Mi(function(){var r=ur(t,1);if(r!==null){var i=xt();yn(r,t,1,i)}}),Lm(t,1)}};rm=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=xt();yn(e,t,134217728,n)}Lm(t,134217728)}};kE=function(t){if(t.tag===13){var e=Wr(t),n=ur(t,e);if(n!==null){var r=xt();yn(n,t,e,r)}Lm(t,e)}};AE=function(){return Se};CE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};uf=function(t,e,n){switch(e){case"input":if(nf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xu(r);if(!i)throw Error(q(90));sE(r),nf(r,i)}}}break;case"textarea":aE(t,n);break;case"select":e=n.value,e!=null&&Is(t,!!n.multiple,e,!1)}};pE=bm;mE=Mi;var JC={usingClientEntryPoint:!1,Events:[$a,ps,xu,dE,fE,bm]},xo={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZC={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vE(t),t===null?null:t.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||YC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Cu=$l.inject(ZC),Ln=$l}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JC;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(e))throw Error(q(200));return QC(t,e,null,n)};Jt.createRoot=function(t,e){if(!Vm(t))throw Error(q(299));var n=!1,r="",i=Y1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dm(t,1,!1,null,null,n,!1,r,i),t[cr]=e.current,ya(t.nodeType===8?t.parentNode:t),new Mm(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=vE(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Mi(t)};Jt.hydrate=function(t,e,n){if(!zu(e))throw Error(q(200));return $u(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Vm(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Y1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Q1(e,null,t,1,n??null,i,!1,s,o),t[cr]=e.current,ya(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ju(e)};Jt.render=function(t,e,n){if(!zu(e))throw Error(q(200));return $u(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!zu(t))throw Error(q(40));return t._reactRootContainer?(Mi(function(){$u(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Jt.unstable_batchedUpdates=bm;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zu(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return $u(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function X1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X1)}catch(t){console.error(t)}}X1(),Xw.exports=Jt;var eR=Xw.exports,h_=eR;Qd.createRoot=h_.createRoot,Qd.hydrateRoot=h_.hydrateRoot;const tR="modulepreload",nR=function(t){return"/YarnScapeApp/"+t},d_={},rR=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=nR(s),s in d_)return;d_[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":tR,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Fm={};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.parse=uR;Fm.serialize=hR;const iR=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,sR=/^[\u0021-\u003A\u003C-\u007E]*$/,oR=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,aR=/^[\u0020-\u003A\u003D-\u007E]*$/,lR=Object.prototype.toString,cR=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function uR(t,e){const n=new cR,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||dR;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),c=a===-1?r:a;if(o>c){s=t.lastIndexOf(";",o-1)+1;continue}const u=f_(t,s,o),h=p_(t,o,u),f=t.slice(u,h);if(n[f]===void 0){let g=f_(t,o+1,c),S=p_(t,c,g);const T=i(t.slice(g,S));n[f]=T}s=c+1}while(s<r);return n}function f_(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function p_(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function hR(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!iR.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!sR.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!oR.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!aR.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!fR(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function dR(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function fR(t){return lR.call(t)==="[object Date]"}var m_="popstate";function pR(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Bf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ka(i)}return gR(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mR(){return Math.random().toString(36).substring(2,10)}function g_(t,e){return{usr:t.state,key:t.key,idx:e}}function Bf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zs(e):e,state:n,key:e&&e.key||r||mR()}}function ka({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gR(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let P=h(),y=P==null?null:P-u;u=P,c&&c({action:a,location:C.location,delta:y})}function g(P,y){a="PUSH";let v=Bf(C.location,P,y);n&&n(v,P),u=h()+1;let _=g_(v,u),x=C.createHref(v);try{o.pushState(_,"",x)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(x)}s&&c&&c({action:a,location:C.location,delta:1})}function S(P,y){a="REPLACE";let v=Bf(C.location,P,y);n&&n(v,P),u=h();let _=g_(v,u),x=C.createHref(v);o.replaceState(_,"",x),s&&c&&c({action:a,location:C.location,delta:0})}function T(P){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof P=="string"?P:ka(P);return v=v.replace(/ $/,"%20"),Le(y,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,y)}let C={get action(){return a},get location(){return t(i,o)},listen(P){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(m_,f),c=P,()=>{i.removeEventListener(m_,f),c=null}},createHref(P){return e(i,P)},createURL:T,encodeLocation(P){let y=T(P);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:S,go(P){return o.go(P)}};return C}function J1(t,e,n="/"){return yR(t,e,n,!1)}function yR(t,e,n,r){let i=typeof e=="string"?Zs(e):e,s=dr(i.pathname||"/",n);if(s==null)return null;let o=Z1(t);vR(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=RR(s);a=AR(o[c],u,r)}return a}function Z1(t,e=[],n=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=ir([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Le(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Z1(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:PR(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of eT(s.path))i(s,o,c)}),e}function eT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function vR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _R=/^:[\w-]+$/,wR=3,ER=2,TR=1,SR=10,IR=-2,y_=t=>t==="*";function PR(t,e){let n=t.split("/"),r=n.length;return n.some(y_)&&(r+=IR),e&&(r+=ER),n.filter(i=>!y_(i)).reduce((i,s)=>i+(_R.test(s)?wR:s===""?TR:SR),r)}function kR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AR(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Zc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Zc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ir([s,f.pathname]),pathnameBase:OR(ir([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=ir([s,f.pathnameBase]))}return o}function Zc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},g)=>{if(h==="*"){let T=a[g]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const S=a[g];return f&&!S?u[h]=void 0:u[h]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function CR(t,e=!1,n=!0){wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zs(t):t;return{pathname:n?n.startsWith("/")?n:NR(n,e):e,search:DR(r),hash:LR(i)}}function NR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Um(t){let e=xR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jm(t,e,n,r=!1){let i;typeof t=="string"?i=Zs(t):(i={...t},Le(!i.pathname||!i.pathname.includes("?"),kd("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),kd("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),kd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?e[f]:"/"}let c=bR(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var ir=t=>t.join("/").replace(/\/\/+/g,"/"),OR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tT=["POST","PUT","PATCH","DELETE"];new Set(tT);var VR=["GET",...tT];new Set(VR);var eo=N.createContext(null);eo.displayName="DataRouter";var Bu=N.createContext(null);Bu.displayName="DataRouterState";var nT=N.createContext({isTransitioning:!1});nT.displayName="ViewTransition";var FR=N.createContext(new Map);FR.displayName="Fetchers";var UR=N.createContext(null);UR.displayName="Await";var In=N.createContext(null);In.displayName="Navigation";var Wa=N.createContext(null);Wa.displayName="Location";var Pn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var zm=N.createContext(null);zm.displayName="RouteError";function jR(t,{relative:e}={}){Le(to(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(In),{hash:i,pathname:s,search:o}=Ha(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:ir([n,s])),r.createHref({pathname:a,search:o,hash:i})}function to(){return N.useContext(Wa)!=null}function hi(){return Le(to(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Wa).location}var rT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iT(t){N.useContext(In).static||N.useLayoutEffect(t)}function Ze(){let{isDataRoute:t}=N.useContext(Pn);return t?ZR():zR()}function zR(){Le(to(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(eo),{basename:e,navigator:n}=N.useContext(In),{matches:r}=N.useContext(Pn),{pathname:i}=hi(),s=JSON.stringify(Um(r)),o=N.useRef(!1);return iT(()=>{o.current=!0}),N.useCallback((c,u={})=>{if(wn(o.current,rT),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=jm(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ir([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}N.createContext(null);function Wu(){let{matches:t}=N.useContext(Pn),e=t[t.length-1];return e?e.params:{}}function Ha(t,{relative:e}={}){let{matches:n}=N.useContext(Pn),{pathname:r}=hi(),i=JSON.stringify(Um(n));return N.useMemo(()=>jm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function $R(t,e){return sT(t,e)}function sT(t,e,n,r){var v;Le(to(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=N.useContext(In),{matches:o}=N.useContext(Pn),a=o[o.length-1],c=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";oT(u,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=hi(),S;if(e){let _=typeof e=="string"?Zs(e):e;Le(h==="/"||((v=_.pathname)==null?void 0:v.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),S=_}else S=g;let T=S.pathname||"/",C=T;if(h!=="/"){let _=h.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(_.length).join("/")}let P=!s&&n&&n.matches&&n.matches.length>0?n.matches:J1(t,{pathname:C});wn(f||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),wn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=KR(P&&P.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:ir([h,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:ir([h,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&y?N.createElement(Wa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},y):y}function BR(){let t=JR(),e=MR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,o)}var WR=N.createElement(BR,null),HR=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(Pn.Provider,{value:this.props.routeContext},N.createElement(zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qR({routeContext:t,match:e,children:n}){let r=N.useContext(eo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Pn.Provider,{value:t},n)}function KR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Le(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=c),u.route.id){let{loaderData:h,errors:f}=n,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,u,h)=>{let f,g=!1,S=null,T=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,S=u.route.errorElement||WR,o&&(a<0&&h===0?(oT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,T=null):a===h&&(g=!0,T=u.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,h+1)),P=()=>{let y;return f?y=S:g?y=T:u.route.Component?y=N.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,N.createElement(qR,{match:u,routeContext:{outlet:c,matches:C,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?N.createElement(HR,{location:n.location,revalidation:n.revalidation,component:S,error:f,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):P()},null)}function $m(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GR(t){let e=N.useContext(eo);return Le(e,$m(t)),e}function QR(t){let e=N.useContext(Bu);return Le(e,$m(t)),e}function YR(t){let e=N.useContext(Pn);return Le(e,$m(t)),e}function Bm(t){let e=YR(t),n=e.matches[e.matches.length-1];return Le(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XR(){return Bm("useRouteId")}function JR(){var r;let t=N.useContext(zm),e=QR("useRouteError"),n=Bm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ZR(){let{router:t}=GR("useNavigate"),e=Bm("useNavigate"),n=N.useRef(!1);return iT(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{wn(n.current,rT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var v_={};function oT(t,e,n){!e&&!v_[t]&&(v_[t]=!0,wn(!1,n))}N.memo(eb);function eb({routes:t,future:e,state:n}){return sT(t,void 0,n,e)}function tb({to:t,replace:e,state:n,relative:r}){Le(to(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(In);wn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(Pn),{pathname:o}=hi(),a=Ze(),c=jm(t,Um(s),o,r==="path"),u=JSON.stringify(c);return N.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function et(t){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nb({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Le(!to(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=N.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Zs(n));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:g="default"}=n,S=N.useMemo(()=>{let T=dr(c,o);return T==null?null:{location:{pathname:T,search:u,hash:h,state:f,key:g},navigationType:r}},[o,c,u,h,f,g,r]);return wn(S!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(In.Provider,{value:a},N.createElement(Wa.Provider,{children:e,value:S}))}function rb({children:t,location:e}){return $R(Wf(t),e)}function Wf(t,e=[]){let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Wf(r.props.children,s));return}Le(r.type===et,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wf(r.props.children,s)),n.push(o)}),n}var hc="get",dc="application/x-www-form-urlencoded";function Hu(t){return t!=null&&typeof t.tagName=="string"}function ib(t){return Hu(t)&&t.tagName.toLowerCase()==="button"}function sb(t){return Hu(t)&&t.tagName.toLowerCase()==="form"}function ob(t){return Hu(t)&&t.tagName.toLowerCase()==="input"}function ab(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lb(t,e){return t.button===0&&(!e||e==="_self")&&!ab(t)}var Bl=null;function cb(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var ub=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ad(t){return t!=null&&!ub.has(t)?(wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dc}"`),null):t}function hb(t,e){let n,r,i,s,o;if(sb(t)){let a=t.getAttribute("action");r=a?dr(a,e):null,n=t.getAttribute("method")||hc,i=Ad(t.getAttribute("enctype"))||dc,s=new FormData(t)}else if(ib(t)||ob(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?dr(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||hc,i=Ad(t.getAttribute("formenctype"))||Ad(a.getAttribute("enctype"))||dc,s=new FormData(a,t),!cb()){let{name:u,type:h,value:f}=t;if(h==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,f)}}else{if(Hu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hc,r=null,i=dc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Wm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function db(t,e){if(t.id in e)return e[t.id];try{let n=await rR(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fb(t){return t!=null&&typeof t.page=="string"}function pb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mb(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await db(s,n);return o.links?o.links():[]}return[]}));return _b(r.flat(1).filter(pb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function __(t,e,n,r,i,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,a=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||a(c,u)):s==="data"?e.filter((c,u)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function gb(t,e,{includeHydrateFallback:n}={}){return yb(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function yb(t){return[...new Set(t)]}function vb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function _b(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!fb(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(vb(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function wb(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&dr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function aT(){let t=N.useContext(eo);return Wm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Eb(){let t=N.useContext(Bu);return Wm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hm=N.createContext(void 0);Hm.displayName="FrameworkContext";function lT(){let t=N.useContext(Hm);return Wm(t,"You must render this element inside a <HydratedRouter> element"),t}function Tb(t,e){let n=N.useContext(Hm),[r,i]=N.useState(!1),[s,o]=N.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,g=N.useRef(null);N.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=y=>{y.forEach(v=>{o(v.isIntersecting)})},P=new IntersectionObserver(C,{threshold:.5});return g.current&&P.observe(g.current),()=>{P.disconnect()}}},[t]),N.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let S=()=>{i(!0)},T=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Oo(a,S),onBlur:Oo(c,T),onMouseEnter:Oo(u,S),onMouseLeave:Oo(h,T),onTouchStart:Oo(f,S)}]:[!1,g,{}]}function Oo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Sb({page:t,...e}){let{router:n}=aT(),r=N.useMemo(()=>J1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(Pb,{page:t,matches:r,...e}):null}function Ib(t){let{manifest:e,routeModules:n}=lT(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return mb(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function Pb({page:t,matches:e,...n}){let r=hi(),{manifest:i,routeModules:s}=lT(),{basename:o}=aT(),{loaderData:a,matches:c}=Eb(),u=N.useMemo(()=>__(t,e,c,i,r,"data"),[t,e,c,i,r]),h=N.useMemo(()=>__(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,C=!1;if(e.forEach(y=>{var _;let v=i.routes[y.route.id];!v||!v.hasLoader||(!u.some(x=>x.route.id===y.route.id)&&y.route.id in a&&((_=s[y.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?C=!0:T.add(y.route.id))}),T.size===0)return[];let P=wb(t,o);return C&&T.size>0&&P.searchParams.set("_routes",e.filter(y=>T.has(y.route.id)).map(y=>y.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,u,e,t,s]),g=N.useMemo(()=>gb(h,i),[h,i]),S=Ib(h);return N.createElement(N.Fragment,null,f.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),g.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),S.map(({key:T,link:C})=>N.createElement("link",{key:T,...C})))}function kb(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cT&&(window.__reactRouterVersion="7.3.0")}catch{}function Ab({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=pR({window:n,v5Compat:!0}));let i=r.current,[s,o]=N.useState({action:i.action,location:i.location}),a=N.useCallback(c=>{N.startTransition(()=>o(c))},[o]);return N.useLayoutEffect(()=>i.listen(a),[i,a]),N.createElement(nb,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hT=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:f,...g},S){let{basename:T}=N.useContext(In),C=typeof u=="string"&&uT.test(u),P,y=!1;if(typeof u=="string"&&C&&(P=u,cT))try{let k=new URL(window.location.href),R=u.startsWith("//")?new URL(k.protocol+u):new URL(u),O=dr(R.pathname,T);R.origin===k.origin&&O!=null?u=O+R.search+R.hash:y=!0}catch{wn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=jR(u,{relative:i}),[_,x,b]=Tb(r,g),D=Nb(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:f});function I(k){e&&e(k),k.defaultPrevented||D(k)}let w=N.createElement("a",{...g,...b,href:P||v,onClick:y||s?e:I,ref:kb(S,x),target:c,"data-discover":!C&&n==="render"?"true":void 0});return _&&!C?N.createElement(N.Fragment,null,w,N.createElement(Sb,{page:v})):w});hT.displayName="Link";var Cb=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...u},h){let f=Ha(o,{relative:u.relative}),g=hi(),S=N.useContext(Bu),{navigator:T,basename:C}=N.useContext(In),P=S!=null&&Mb(f)&&a===!0,y=T.encodeLocation?T.encodeLocation(f).pathname:f.pathname,v=g.pathname,_=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(v=v.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&C&&(_=dr(_,C)||_);const x=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let b=v===y||!i&&v.startsWith(y)&&v.charAt(x)==="/",D=_!=null&&(_===y||!i&&_.startsWith(y)&&_.charAt(y.length)==="/"),I={isActive:b,isPending:D,isTransitioning:P},w=b?e:void 0,k;typeof r=="function"?k=r(I):k=[r,b?"active":null,D?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(I):s;return N.createElement(hT,{...u,"aria-current":w,className:k,ref:h,style:R,to:o,viewTransition:a},typeof c=="function"?c(I):c)});Cb.displayName="NavLink";var Rb=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=hc,action:a,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...g},S)=>{let T=Db(),C=Lb(a,{relative:u}),P=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&uT.test(a),v=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let x=_.nativeEvent.submitter,b=(x==null?void 0:x.getAttribute("formmethod"))||o;T(x||_.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return N.createElement("form",{ref:S,method:P,action:C,onSubmit:r?c:v,...g,"data-discover":!y&&t==="render"?"true":void 0})});Rb.displayName="Form";function bb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(t){let e=N.useContext(eo);return Le(e,bb(t)),e}function Nb(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ze(),c=hi(),u=Ha(t,{relative:s});return N.useCallback(h=>{if(lb(h,e)){h.preventDefault();let f=n!==void 0?n:ka(c)===ka(u);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,u,n,r,e,t,i,s,o])}var xb=0,Ob=()=>`__${String(++xb)}__`;function Db(){let{router:t}=dT("useSubmit"),{basename:e}=N.useContext(In),n=XR();return N.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:u}=hb(r,e);if(i.navigate===!1){let h=i.fetcherKey||Ob();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Lb(t,{relative:e}={}){let{basename:n}=N.useContext(In),r=N.useContext(Pn);Le(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ha(t||".",{relative:e})},o=hi();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ir([n,s.pathname])),ka(s)}function Mb(t,e={}){let n=N.useContext(nT);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dT("useViewTransitionState"),i=Ha(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=dr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=dr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zc(i.pathname,o)!=null||Zc(i.pathname,s)!=null}new TextEncoder;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function Vb(t,e,n){return(e=Ub(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(r){Vb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fb(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ub(t){var e=Fb(t,"string");return typeof e=="symbol"?e:e+""}const E_=()=>{};let qm={},fT={},pT=null,mT={mark:E_,measure:E_};try{typeof window<"u"&&(qm=window),typeof document<"u"&&(fT=document),typeof MutationObserver<"u"&&(pT=MutationObserver),typeof performance<"u"&&(mT=performance)}catch{}const{userAgent:T_=""}=qm.navigator||{},Jr=qm,Oe=fT,S_=pT,Wl=mT;Jr.document;const wr=!!Oe.documentElement&&!!Oe.head&&typeof Oe.addEventListener=="function"&&typeof Oe.createElement=="function",gT=~T_.indexOf("MSIE")||~T_.indexOf("Trident/");var jb=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,zb=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,yT={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},$b={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},vT=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Pt="classic",qu="duotone",Bb="sharp",Wb="sharp-duotone",_T=[Pt,qu,Bb,Wb],Hb={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},qb={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Kb=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Gb={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Qb=["fak","fa-kit","fakd","fa-kit-duotone"],I_={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Yb=["kit"],Xb={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Jb=["fak","fakd"],Zb={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},P_={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Hl={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},e2=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],t2=["fak","fa-kit","fakd","fa-kit-duotone"],n2={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},r2={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},i2={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Hf={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},s2=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],qf=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...e2,...s2],o2=["solid","regular","light","thin","duotone","brands"],wT=[1,2,3,4,5,6,7,8,9,10],a2=wT.concat([11,12,13,14,15,16,17,18,19,20]),l2=[...Object.keys(i2),...o2,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Hl.GROUP,Hl.SWAP_OPACITY,Hl.PRIMARY,Hl.SECONDARY].concat(wT.map(t=>"".concat(t,"x"))).concat(a2.map(t=>"w-".concat(t))),c2={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const fr="___FONT_AWESOME___",Kf=16,ET="fa",TT="svg-inline--fa",Vi="data-fa-i2svg",Gf="data-fa-pseudo-element",u2="data-fa-pseudo-element-pending",Km="data-prefix",Gm="data-icon",k_="fontawesome-i2svg",h2="async",d2=["HTML","HEAD","STYLE","SCRIPT"],ST=(()=>{try{return!0}catch{return!1}})();function qa(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Pt]}})}const IT=H({},yT);IT[Pt]=H(H(H(H({},{"fa-duotone":"duotone"}),yT[Pt]),I_.kit),I_["kit-duotone"]);const f2=qa(IT),Qf=H({},Gb);Qf[Pt]=H(H(H(H({},{duotone:"fad"}),Qf[Pt]),P_.kit),P_["kit-duotone"]);const A_=qa(Qf),Yf=H({},Hf);Yf[Pt]=H(H({},Yf[Pt]),Zb.kit);const Qm=qa(Yf),Xf=H({},r2);Xf[Pt]=H(H({},Xf[Pt]),Xb.kit);qa(Xf);const p2=jb,PT="fa-layers-text",m2=zb,g2=H({},Hb);qa(g2);const y2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Cd=$b,v2=[...Yb,...l2],na=Jr.FontAwesomeConfig||{};function _2(t){var e=Oe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function w2(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Oe&&typeof Oe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=w2(_2(n));i!=null&&(na[r]=i)});const kT={styleDefault:"solid",familyDefault:Pt,cssPrefix:ET,replacementClass:TT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};na.familyPrefix&&(na.cssPrefix=na.familyPrefix);const $s=H(H({},kT),na);$s.autoReplaceSvg||($s.observeMutations=!1);const te={};Object.keys(kT).forEach(t=>{Object.defineProperty(te,t,{enumerable:!0,set:function(e){$s[t]=e,ra.forEach(n=>n(te))},get:function(){return $s[t]}})});Object.defineProperty(te,"familyPrefix",{enumerable:!0,set:function(t){$s.cssPrefix=t,ra.forEach(e=>e(te))},get:function(){return $s.cssPrefix}});Jr.FontAwesomeConfig=te;const ra=[];function E2(t){return ra.push(t),()=>{ra.splice(ra.indexOf(t),1)}}const Pr=Kf,On={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function T2(t){if(!t||!wr)return;const e=Oe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Oe.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Oe.head.insertBefore(e,r),t}const S2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Aa(){let t=12,e="";for(;t-- >0;)e+=S2[Math.random()*62|0];return e}function no(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Ym(t){return t.classList?no(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function AT(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I2(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(AT(t[n]),'" '),"").trim()}function Ku(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function Xm(t){return t.size!==On.size||t.x!==On.x||t.y!==On.y||t.rotate!==On.rotate||t.flipX||t.flipY}function P2(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:u}}function k2(t){let{transform:e,width:n=Kf,height:r=Kf,startCentered:i=!1}=t,s="";return i&&gT?s+="translate(".concat(e.x/Pr-n/2,"em, ").concat(e.y/Pr-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/Pr,"em), calc(-50% + ").concat(e.y/Pr,"em)) "):s+="translate(".concat(e.x/Pr,"em, ").concat(e.y/Pr,"em) "),s+="scale(".concat(e.size/Pr*(e.flipX?-1:1),", ").concat(e.size/Pr*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var A2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function CT(){const t=ET,e=TT,n=te.cssPrefix,r=te.replacementClass;let i=A2;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let C_=!1;function Rd(){te.autoAddCss&&!C_&&(T2(CT()),C_=!0)}var C2={mixout(){return{dom:{css:CT,insertCss:Rd}}},hooks(){return{beforeDOMElementCreation(){Rd()},beforeI2svg(){Rd()}}}};const pr=Jr||{};pr[fr]||(pr[fr]={});pr[fr].styles||(pr[fr].styles={});pr[fr].hooks||(pr[fr].hooks={});pr[fr].shims||(pr[fr].shims=[]);var Dn=pr[fr];const RT=[],bT=function(){Oe.removeEventListener("DOMContentLoaded",bT),eu=1,RT.map(t=>t())};let eu=!1;wr&&(eu=(Oe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Oe.readyState),eu||Oe.addEventListener("DOMContentLoaded",bT));function R2(t){wr&&(eu?setTimeout(t,0):RT.push(t))}function Ka(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?AT(t):"<".concat(e," ").concat(I2(n),">").concat(r.map(Ka).join(""),"</").concat(e,">")}function R_(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var b2=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},bd=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?b2(n,i):n,c,u,h;for(r===void 0?(c=1,h=e[s[0]]):(c=0,h=r);c<o;c++)u=s[c],h=a(h,e[u],u,e);return h};function N2(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Jf(t){const e=N2(t);return e.length===1?e[0].toString(16):null}function x2(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function b_(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Zf(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=b_(e);typeof Dn.hooks.addPack=="function"&&!r?Dn.hooks.addPack(t,b_(e)):Dn.styles[t]=H(H({},Dn.styles[t]||{}),i),t==="fas"&&Zf("fa",e)}const{styles:Ca,shims:O2}=Dn,NT=Object.keys(Qm),D2=NT.reduce((t,e)=>(t[e]=Object.keys(Qm[e]),t),{});let Jm=null,xT={},OT={},DT={},LT={},MT={};function L2(t){return~v2.indexOf(t)}function M2(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!L2(i)?i:null}const VT=()=>{const t=r=>bd(Ca,(i,s,o)=>(i[o]=bd(s,r,{}),i),{});xT=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),OT=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),MT=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in Ca||te.autoFetchSvg,n=bd(O2,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});DT=n.names,LT=n.unicodes,Jm=Gu(te.styleDefault,{family:te.familyDefault})};E2(t=>{Jm=Gu(t.styleDefault,{family:te.familyDefault})});VT();function Zm(t,e){return(xT[t]||{})[e]}function V2(t,e){return(OT[t]||{})[e]}function ki(t,e){return(MT[t]||{})[e]}function FT(t){return DT[t]||{prefix:null,iconName:null}}function F2(t){const e=LT[t],n=Zm("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Zr(){return Jm}const UT=()=>({prefix:null,iconName:null,rest:[]});function U2(t){let e=Pt;const n=NT.reduce((r,i)=>(r[i]="".concat(te.cssPrefix,"-").concat(i),r),{});return _T.forEach(r=>{(t.includes(n[r])||t.some(i=>D2[r].includes(i)))&&(e=r)}),e}function Gu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Pt}=e,r=f2[n][t];if(n===qu&&!t)return"fad";const i=A_[n][t]||A_[n][r],s=t in Dn.styles?t:null;return i||s||null}function j2(t){let e=[],n=null;return t.forEach(r=>{const i=M2(te.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function N_(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function Qu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const i=qf.concat(t2),s=N_(t.filter(f=>i.includes(f))),o=N_(t.filter(f=>!qf.includes(f))),a=s.filter(f=>(r=f,!vT.includes(f))),[c=null]=a,u=U2(s),h=H(H({},j2(o)),{},{prefix:Gu(c,{family:u})});return H(H(H({},h),W2({values:t,family:u,styles:Ca,config:te,canonical:h,givenPrefix:r})),z2(n,r,h))}function z2(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};const s=e==="fa"?FT(i):{},o=ki(r,i);return i=s.iconName||o||i,r=s.prefix||r,r==="far"&&!Ca.far&&Ca.fas&&!te.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}const $2=_T.filter(t=>t!==Pt||t!==qu),B2=Object.keys(Hf).filter(t=>t!==Pt).map(t=>Object.keys(Hf[t])).flat();function W2(t){const{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=t,a=n===qu,c=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",h=r.prefix==="fad"||r.prefix==="fa-duotone";if(!a&&(c||u||h)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&$2.includes(n)&&(Object.keys(s).find(g=>B2.includes(g))||o.autoFetchSvg)){const g=Kb.get(n).defaultShortPrefixId;r.prefix=g,r.iconName=ki(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=Zr()||"fas"),r}let H2=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=H(H({},this.definitions[s]||{}),i[s]),Zf(s,i[s]);const o=Qm[Pt][s];o&&Zf(o,i[s]),VT()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],c=a[2];e[s]||(e[s]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(e[s][u]=a)}),e[s][o]=a}),e}},x_=[],Es={};const bs={},q2=Object.keys(bs);function K2(t,e){let{mixoutsTo:n}=e;return x_=t,Es={},Object.keys(bs).forEach(r=>{q2.indexOf(r)===-1&&delete bs[r]}),x_.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{Es[o]||(Es[o]=[]),Es[o].push(s[o])})}r.provides&&r.provides(bs)}),n}function ep(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Es[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Fi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Es[t]||[]).forEach(s=>{s.apply(null,n)})}function ei(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return bs[t]?bs[t].apply(null,e):void 0}function tp(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Zr();if(e)return e=ki(n,e)||e,R_(jT.definitions,n,e)||R_(Dn.styles,n,e)}const jT=new H2,G2=()=>{te.autoReplaceSvg=!1,te.observeMutations=!1,Fi("noAuto")},Q2={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return wr?(Fi("beforeI2svg",t),ei("pseudoElements2svg",t),ei("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;te.autoReplaceSvg===!1&&(te.autoReplaceSvg=!0),te.observeMutations=!0,R2(()=>{X2({autoReplaceSvgRoot:e}),Fi("watch",t)})}},Y2={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ki(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Gu(t[0]);return{prefix:n,iconName:ki(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(te.cssPrefix,"-"))>-1||t.match(p2))){const e=Qu(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Zr(),iconName:ki(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Zr();return{prefix:e,iconName:ki(e,t)||t}}}},en={noAuto:G2,config:te,dom:Q2,parse:Y2,library:jT,findIconDefinition:tp,toHtml:Ka},X2=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Oe}=t;(Object.keys(Dn.styles).length>0||te.autoFetchSvg)&&wr&&te.autoReplaceSvg&&en.dom.i2svg({node:e})};function Yu(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Ka(n))}}),Object.defineProperty(t,"node",{get:function(){if(!wr)return;const n=Oe.createElement("div");return n.innerHTML=t.html,n.children}}),t}function J2(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(Xm(o)&&n.found&&!r.found){const{width:a,height:c}=n,u={x:a/c/2,y:.5};i.style=Ku(H(H({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Z2(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(te.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:H(H({},i),{},{id:o}),children:r}]}]}function eg(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:c,titleId:u,extra:h,watchable:f=!1}=t,{width:g,height:S}=n.found?n:e,T=Jb.includes(r),C=[te.replacementClass,i?"".concat(te.cssPrefix,"-").concat(i):""].filter(b=>h.classes.indexOf(b)===-1).filter(b=>b!==""||!!b).concat(h.classes).join(" ");let P={children:[],attributes:H(H({},h.attributes),{},{"data-prefix":r,"data-icon":i,class:C,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(S)})};const y=T&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/S*16*.0625,"em")}:{};f&&(P.attributes[Vi]=""),a&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(u||Aa())},children:[a]}),delete P.attributes.title);const v=H(H({},P),{},{prefix:r,iconName:i,main:e,mask:n,maskId:c,transform:s,symbol:o,styles:H(H({},y),h.styles)}),{children:_,attributes:x}=n.found&&e.found?ei("generateAbstractMask",v)||{children:[],attributes:{}}:ei("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=_,v.attributes=x,o?Z2(v):J2(v)}function O_(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,c=H(H(H({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});a&&(c[Vi]="");const u=H({},o.styles);Xm(i)&&(u.transform=k2({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const h=Ku(u);h.length>0&&(c.style=h);const f=[];return f.push({tag:"span",attributes:c,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function eN(t){const{content:e,title:n,extra:r}=t,i=H(H(H({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Ku(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:Nd}=Dn;function np(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(te.cssPrefix,"-").concat(Cd.GROUP)},children:[{tag:"path",attributes:{class:"".concat(te.cssPrefix,"-").concat(Cd.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(te.cssPrefix,"-").concat(Cd.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const tN={found:!1,width:512,height:512};function nN(t,e){!ST&&!te.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function rp(t,e){let n=e;return e==="fa"&&te.styleDefault!==null&&(e=Zr()),new Promise((r,i)=>{if(n==="fa"){const s=FT(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Nd[e]&&Nd[e][t]){const s=Nd[e][t];return r(np(s))}nN(t,e),r(H(H({},tN),{},{icon:te.showMissingIcons&&t?ei("missingIconAbstract")||{}:{}}))})}const D_=()=>{},ip=te.measurePerformance&&Wl&&Wl.mark&&Wl.measure?Wl:{mark:D_,measure:D_},jo='FA "6.7.2"',rN=t=>(ip.mark("".concat(jo," ").concat(t," begins")),()=>zT(t)),zT=t=>{ip.mark("".concat(jo," ").concat(t," ends")),ip.measure("".concat(jo," ").concat(t),"".concat(jo," ").concat(t," begins"),"".concat(jo," ").concat(t," ends"))};var tg={begin:rN,end:zT};const fc=()=>{};function L_(t){return typeof(t.getAttribute?t.getAttribute(Vi):null)=="string"}function iN(t){const e=t.getAttribute?t.getAttribute(Km):null,n=t.getAttribute?t.getAttribute(Gm):null;return e&&n}function sN(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(te.replacementClass)}function oN(){return te.autoReplaceSvg===!0?pc.replace:pc[te.autoReplaceSvg]||pc.replace}function aN(t){return Oe.createElementNS("http://www.w3.org/2000/svg",t)}function lN(t){return Oe.createElement(t)}function $T(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?aN:lN}=e;if(typeof t=="string")return Oe.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild($T(s,{ceFn:n}))}),r}function cN(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const pc={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore($T(n),e)}),e.getAttribute(Vi)===null&&te.keepOriginalSource){let n=Oe.createComment(cN(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~Ym(e).indexOf(te.replacementClass))return pc.replace(t);const r=new RegExp("".concat(te.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===te.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>Ka(s)).join(`
`);e.setAttribute(Vi,""),e.innerHTML=i}};function M_(t){t()}function BT(t,e){const n=typeof e=="function"?e:fc;if(t.length===0)n();else{let r=M_;te.mutateApproach===h2&&(r=Jr.requestAnimationFrame||M_),r(()=>{const i=oN(),s=tg.begin("mutate");t.map(i),s(),n()})}}let ng=!1;function WT(){ng=!0}function sp(){ng=!1}let tu=null;function V_(t){if(!S_||!te.observeMutations)return;const{treeCallback:e=fc,nodeCallback:n=fc,pseudoElementsCallback:r=fc,observeMutationsRoot:i=Oe}=t;tu=new S_(s=>{if(ng)return;const o=Zr();no(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!L_(a.addedNodes[0])&&(te.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&te.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&L_(a.target)&&~y2.indexOf(a.attributeName))if(a.attributeName==="class"&&iN(a.target)){const{prefix:c,iconName:u}=Qu(Ym(a.target));a.target.setAttribute(Km,c||o),u&&a.target.setAttribute(Gm,u)}else sN(a.target)&&n(a.target)})}),wr&&tu.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function uN(){tu&&tu.disconnect()}function hN(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function dN(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=Qu(Ym(t));return i.prefix||(i.prefix=Zr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=V2(i.prefix,t.innerText)||Zm(i.prefix,Jf(t.innerText))),!i.iconName&&te.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function fN(t){const e=no(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return te.autoA11y&&(n?e["aria-labelledby"]="".concat(te.replacementClass,"-title-").concat(r||Aa()):(e["aria-hidden"]="true",e.focusable="false")),e}function pN(){return{iconName:null,title:null,titleId:null,prefix:null,transform:On,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function F_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=dN(t),s=fN(t),o=ep("parseNodeAttributes",{},t);let a=e.styleParser?hN(t):[];return H({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:On,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s}},o)}const{styles:mN}=Dn;function HT(t){const e=te.autoReplaceSvg==="nest"?F_(t,{styleParser:!1}):F_(t);return~e.extra.classes.indexOf(PT)?ei("generateLayersText",t,e):ei("generateSvgReplacementMutation",t,e)}function gN(){return[...Qb,...qf]}function U_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!wr)return Promise.resolve();const n=Oe.documentElement.classList,r=h=>n.add("".concat(k_,"-").concat(h)),i=h=>n.remove("".concat(k_,"-").concat(h)),s=te.autoFetchSvg?gN():vT.concat(Object.keys(mN));s.includes("fa")||s.push("fa");const o=[".".concat(PT,":not([").concat(Vi,"])")].concat(s.map(h=>".".concat(h,":not([").concat(Vi,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=no(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();const c=tg.begin("onTree"),u=a.reduce((h,f)=>{try{const g=HT(f);g&&h.push(g)}catch(g){ST||g.name==="MissingIcon"&&console.error(g)}return h},[]);return new Promise((h,f)=>{Promise.all(u).then(g=>{BT(g,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),c(),h()})}).catch(g=>{c(),f(g)})})}function yN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;HT(t).then(n=>{n&&BT([n],e)})}function vN(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:tp(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:tp(i||{})),t(r,H(H({},n),{},{mask:i}))}}const _N=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=On,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:c=[],attributes:u={},styles:h={}}=e;if(!t)return;const{prefix:f,iconName:g,icon:S}=t;return Yu(H({type:"icon"},t),()=>(Fi("beforeDOMElementCreation",{iconDefinition:t,params:e}),te.autoA11y&&(o?u["aria-labelledby"]="".concat(te.replacementClass,"-title-").concat(a||Aa()):(u["aria-hidden"]="true",u.focusable="false")),eg({icons:{main:np(S),mask:i?np(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:g,transform:H(H({},On),n),symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:u,styles:h,classes:c}})))};var wN={mixout(){return{icon:vN(_N)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=U_,t.nodeCallback=yN,t}}},provides(t){t.i2svg=function(e){const{node:n=Oe,callback:r=()=>{}}=e;return U_(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:c,mask:u,maskId:h,extra:f}=n;return new Promise((g,S)=>{Promise.all([rp(r,o),u.iconName?rp(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(T=>{let[C,P]=T;g([e,eg({icons:{main:C,mask:P},prefix:o,iconName:r,transform:a,symbol:c,maskId:h,title:i,titleId:s,extra:f,watchable:!0})])}).catch(S)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const a=Ku(o);a.length>0&&(r.style=a);let c;return Xm(s)&&(c=ei("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(c||i.icon),{children:n,attributes:r}}}},EN={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Yu({type:"layer"},()=>{Fi("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(te.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},TN={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return Yu({type:"counter",content:t},()=>(Fi("beforeDOMElementCreation",{content:t,params:e}),eN({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(te.cssPrefix,"-layers-counter"),...r]}})))}}}},SN={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=On,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return Yu({type:"text",content:t},()=>(Fi("beforeDOMElementCreation",{content:t,params:e}),O_({content:t,transform:H(H({},On),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(te.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,a=null;if(gT){const c=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/c,a=u.height/c}return te.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,O_({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const IN=new RegExp('"',"ug"),j_=[1105920,1112319],z_=H(H(H(H({},{FontAwesome:{normal:"fas",400:"fas"}}),qb),c2),n2),op=Object.keys(z_).reduce((t,e)=>(t[e.toLowerCase()]=z_[e],t),{}),PN=Object.keys(op).reduce((t,e)=>{const n=op[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function kN(t){const e=t.replace(IN,""),n=x2(e,0),r=n>=j_[0]&&n<=j_[1],i=e.length===2?e[0]===e[1]:!1;return{value:Jf(i?e[0]:e),isSecondary:r||i}}function AN(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(op[n]||{})[i]||PN[n]}function $_(t,e){const n="".concat(u2).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=no(t.children).filter(g=>g.getAttribute(Gf)===e)[0],a=Jr.getComputedStyle(t,e),c=a.getPropertyValue("font-family"),u=c.match(m2),h=a.getPropertyValue("font-weight"),f=a.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&f!=="none"&&f!==""){const g=a.getPropertyValue("content");let S=AN(c,h);const{value:T,isSecondary:C}=kN(g),P=u[0].startsWith("FontAwesome");let y=Zm(S,T),v=y;if(P){const _=F2(T);_.iconName&&_.prefix&&(y=_.iconName,S=_.prefix)}if(y&&!C&&(!o||o.getAttribute(Km)!==S||o.getAttribute(Gm)!==v)){t.setAttribute(n,v),o&&t.removeChild(o);const _=pN(),{extra:x}=_;x.attributes[Gf]=e,rp(y,S).then(b=>{const D=eg(H(H({},_),{},{icons:{main:b,mask:UT()},prefix:S,iconName:v,extra:x,watchable:!0})),I=Oe.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(I,t.firstChild):t.appendChild(I),I.outerHTML=D.map(w=>Ka(w)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function CN(t){return Promise.all([$_(t,"::before"),$_(t,"::after")])}function RN(t){return t.parentNode!==document.head&&!~d2.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Gf)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function B_(t){if(wr)return new Promise((e,n)=>{const r=no(t.querySelectorAll("*")).filter(RN).map(CN),i=tg.begin("searchPseudoElements");WT(),Promise.all(r).then(()=>{i(),sp(),e()}).catch(()=>{i(),sp(),n()})})}var bN={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=B_,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Oe}=e;te.searchPseudoElements&&B_(n)}}};let W_=!1;var NN={mixout(){return{dom:{unwatch(){WT(),W_=!0}}}},hooks(){return{bootstrap(){V_(ep("mutationObserverCallbacks",{}))},noAuto(){uN()},watch(t){const{observeMutationsRoot:e}=t;W_?sp():V_(ep("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const H_=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var xN={mixout(){return{parse:{transform:t=>H_(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=H_(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(a," ").concat(c," ").concat(u)},f={transform:"translate(".concat(s/2*-1," -256)")},g={outer:o,inner:h,path:f};return{tag:"g",attributes:H({},g.outer),children:[{tag:"g",attributes:H({},g.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:H(H({},n.icon.attributes),g.path)}]}]}}}};const xd={x:0,y:0,width:"100%",height:"100%"};function q_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function ON(t){return t.tag==="g"?t.children:[t]}var DN={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Qu(n.split(" ").map(i=>i.trim())):UT();return r.prefix||(r.prefix=Zr()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:c,icon:u}=i,{width:h,icon:f}=s,g=P2({transform:a,containerWidth:h,iconWidth:c}),S={tag:"rect",attributes:H(H({},xd),{},{fill:"white"})},T=u.children?{children:u.children.map(q_)}:{},C={tag:"g",attributes:H({},g.inner),children:[q_(H({tag:u.tag,attributes:H(H({},u.attributes),g.path)},T))]},P={tag:"g",attributes:H({},g.outer),children:[C]},y="mask-".concat(o||Aa()),v="clip-".concat(o||Aa()),_={tag:"mask",attributes:H(H({},xd),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,P]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:ON(f)},_]};return n.push(x,{tag:"rect",attributes:H({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(y,")")},xd)}),{children:n,attributes:r}}}},LN={provides(t){let e=!1;Jr.matchMedia&&(e=Jr.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:H(H({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=H(H({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:H(H({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:H(H({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:H(H({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:H(H({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:H(H({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:H(H({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:H(H({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},MN={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},VN=[C2,wN,EN,TN,SN,bN,NN,xN,DN,LN,MN];K2(VN,{mixoutsTo:en});en.noAuto;en.config;en.library;en.dom;const ap=en.parse;en.findIconDefinition;en.toHtml;const FN=en.icon;en.layer;en.text;en.counter;var qT={exports:{}},UN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jN=UN,zN=jN;function KT(){}function GT(){}GT.resetWarningCache=KT;var $N=function(){function t(r,i,s,o,a,c){if(c!==zN){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:GT,resetWarningCache:KT};return n.PropTypes=n,n};qT.exports=$N();var BN=qT.exports;const he=Uw(BN);function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Ts(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HN(t,e){if(t==null)return{};var n=WN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lp(t){return qN(t)||KN(t)||GN(t)||QN()}function qN(t){if(Array.isArray(t))return cp(t)}function KN(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GN(t,e){if(t){if(typeof t=="string")return cp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cp(t,e)}}function cp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YN(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,c=t.spin,u=t.spinPulse,h=t.spinReverse,f=t.pulse,g=t.fixedWidth,S=t.inverse,T=t.border,C=t.listItem,P=t.flip,y=t.size,v=t.rotation,_=t.pull,x=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":c,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":g,"fa-inverse":S,"fa-border":T,"fa-li":C,"fa-flip":P===!0,"fa-flip-horizontal":P==="horizontal"||P==="both","fa-flip-vertical":P==="vertical"||P==="both"},Ts(e,"fa-".concat(y),typeof y<"u"&&y!==null),Ts(e,"fa-rotate-".concat(v),typeof v<"u"&&v!==null&&v!==0),Ts(e,"fa-pull-".concat(_),typeof _<"u"&&_!==null),Ts(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(x).map(function(b){return x[b]?b:null}).filter(function(b){return b})}function XN(t){return t=t-0,t===t}function QT(t){return XN(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var JN=["style"];function ZN(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ex(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=QT(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[ZN(i)]=s:e[i]=s,e},{})}function YT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return YT(t,c)}),i=Object.keys(e.attributes||{}).reduce(function(c,u){var h=e.attributes[u];switch(u){case"class":c.attrs.className=h,delete e.attributes.class;break;case"style":c.attrs.style=ex(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=h:c.attrs[QT(u)]=h}return c},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=HN(n,JN);return i.attrs.style=Nn(Nn({},i.attrs.style),o),t.apply(void 0,[e.tag,Nn(Nn({},i.attrs),a)].concat(lp(r)))}var XT=!1;try{XT=!0}catch{}function tx(){if(!XT&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function G_(t){if(t&&nu(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(ap.icon)return ap.icon(t);if(t===null)return null;if(t&&nu(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Od(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Ts({},t,e):{}}var Q_={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Nt=qp.forwardRef(function(t,e){var n=Nn(Nn({},Q_),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,c=n.titleId,u=n.maskId,h=G_(r),f=Od("classes",[].concat(lp(YN(n)),lp((o||"").split(" ")))),g=Od("transform",typeof n.transform=="string"?ap.transform(n.transform):n.transform),S=Od("mask",G_(i)),T=FN(h,Nn(Nn(Nn(Nn({},f),g),S),{},{symbol:s,title:a,titleId:c,maskId:u}));if(!T)return tx("Could not find icon",h),null;var C=T.abstract,P={ref:e};return Object.keys(n).forEach(function(y){Q_.hasOwnProperty(y)||(P[y]=n[y])}),nx(C[0],P)});Nt.displayName="FontAwesomeIcon";Nt.propTypes={beat:he.bool,border:he.bool,beatFade:he.bool,bounce:he.bool,className:he.string,fade:he.bool,flash:he.bool,mask:he.oneOfType([he.object,he.array,he.string]),maskId:he.string,fixedWidth:he.bool,inverse:he.bool,flip:he.oneOf([!0,!1,"horizontal","vertical","both"]),icon:he.oneOfType([he.object,he.array,he.string]),listItem:he.bool,pull:he.oneOf(["right","left"]),pulse:he.bool,rotation:he.oneOf([0,90,180,270]),shake:he.bool,size:he.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:he.bool,spinPulse:he.bool,spinReverse:he.bool,symbol:he.oneOfType([he.bool,he.string]),title:he.string,titleId:he.string,transform:he.oneOfType([he.string,he.object]),swapOpacity:he.bool};var nx=YT.bind(null,qp.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const rx={prefix:"fas",iconName:"bullseye",icon:[512,512,[],"f140","M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},JT={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},ix={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 64l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 96l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},sx={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},ox={prefix:"fas",iconName:"circle-left",icon:[512,512,[61840,"arrow-alt-circle-left"],"f359","M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM116.7 244.7l112-112c4.6-4.6 11.5-5.9 17.4-3.5s9.9 8.3 9.9 14.8l0 64 96 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32l-96 0 0 64c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5l-112-112c-6.2-6.2-6.2-16.4 0-22.6z"]},Xu=ox,ax={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},lx=ax,cx={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},ux=cx,hx={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},dx=hx,fx={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},px=fx,mx=()=>{const t=Ze();return V("div",{className:"homepage-container",children:[V("div",{className:"homepage-header",children:[m("h1",{children:"Hello!"}),m("div",{className:"profile-icon",onClick:()=>{t("/userprofile")},children:m(Nt,{icon:JT,size:"2x"})})]}),V("div",{className:"homepage-buttons",children:[m("button",{onClick:()=>{t("/track")},children:"Track Project"}),m("button",{onClick:()=>{t("/design")},children:"Pattern Design"}),m("button",{onClick:()=>{t("/library")},children:"Find Pattern"}),m("button",{onClick:()=>{t("/inventory")},children:"Manage Inventory"})]})]})},gx=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},eS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,S=u&63;c||(S=64,o||(g=64)),r.push(n[h],n[f],n[g],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new vx;const g=s<<2|a>>4;if(r.push(g),u!==64){const S=a<<4&240|u>>2;if(r.push(S),f!==64){const T=u<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _x=function(t){const e=ZT(t);return eS.encodeByteArray(e,!0)},ru=function(t){return _x(t).replace(/\./g,"")},tS=function(t){try{return eS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=()=>wx().__FIREBASE_DEFAULTS__,Tx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Sx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tS(t[1]);return e&&JSON.parse(e)},Ju=()=>{try{return gx()||Ex()||Tx()||Sx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nS=t=>{var e,n;return(n=(e=Ju())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rS=t=>{const e=nS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iS=()=>{var t;return(t=Ju())===null||t===void 0?void 0:t.config},sS=t=>{var e;return(e=Ju())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ru(JSON.stringify(n)),ru(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Px(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function kx(){var t;const e=(t=Ju())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ax(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bx(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nx(){return!kx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ox(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="FirebaseError";class qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dx,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Lx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qn(i,a,r)}}function Lx(t,e){return t.replace(Mx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mx=/\{\$([^}]+)}/g;function Vx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ui(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Y_(s)&&Y_(o)){if(!Ui(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $o(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Fx(t,e){const n=new Ux(t,e);return n.subscribe.bind(n)}class Ux{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dd),i.error===void 0&&(i.error=Dd),i.complete===void 0&&(i.complete=Dd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ix;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bx(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$x(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $x(t){return t===Ti?void 0:t}function Bx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const Hx={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},qx=fe.INFO,Kx={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Gx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Kx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=qx,this._logHandler=Gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const Qx=(t,e)=>e.some(n=>t instanceof n);let X_,J_;function Yx(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xx(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aS=new WeakMap,up=new WeakMap,lS=new WeakMap,Ld=new WeakMap,ig=new WeakMap;function Jx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aS.set(n,t)}).catch(()=>{}),ig.set(e,t),e}function Zx(t){if(up.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});up.set(t,e)}let hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eO(t){hp=t(hp)}function tO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Md(this),e,...n);return lS.set(r,e.sort?e.sort():[e]),qr(r)}:Xx().includes(t)?function(...e){return t.apply(Md(this),e),qr(aS.get(this))}:function(...e){return qr(t.apply(Md(this),e))}}function nO(t){return typeof t=="function"?tO(t):(t instanceof IDBTransaction&&Zx(t),Qx(t,Yx())?new Proxy(t,hp):t)}function qr(t){if(t instanceof IDBRequest)return Jx(t);if(Ld.has(t))return Ld.get(t);const e=nO(t);return e!==t&&(Ld.set(t,e),ig.set(e,t)),e}const Md=t=>ig.get(t);function rO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qr(o.result),c.oldVersion,c.newVersion,qr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iO=["get","getKey","getAll","getAllKeys","count"],sO=["put","add","delete","clear"],Vd=new Map;function Z_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iO.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Vd.set(e,s),s}eO(t=>({...t,get:(e,n,r)=>Z_(e,n)||t.get(e,n,r),has:(e,n)=>!!Z_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dp="@firebase/app",e0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new rg("@firebase/app"),lO="@firebase/app-compat",cO="@firebase/analytics-compat",uO="@firebase/analytics",hO="@firebase/app-check-compat",dO="@firebase/app-check",fO="@firebase/auth",pO="@firebase/auth-compat",mO="@firebase/database",gO="@firebase/data-connect",yO="@firebase/database-compat",vO="@firebase/functions",_O="@firebase/functions-compat",wO="@firebase/installations",EO="@firebase/installations-compat",TO="@firebase/messaging",SO="@firebase/messaging-compat",IO="@firebase/performance",PO="@firebase/performance-compat",kO="@firebase/remote-config",AO="@firebase/remote-config-compat",CO="@firebase/storage",RO="@firebase/storage-compat",bO="@firebase/firestore",NO="@firebase/vertexai",xO="@firebase/firestore-compat",OO="firebase",DO="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",LO={[dp]:"fire-core",[lO]:"fire-core-compat",[uO]:"fire-analytics",[cO]:"fire-analytics-compat",[dO]:"fire-app-check",[hO]:"fire-app-check-compat",[fO]:"fire-auth",[pO]:"fire-auth-compat",[mO]:"fire-rtdb",[gO]:"fire-data-connect",[yO]:"fire-rtdb-compat",[vO]:"fire-fn",[_O]:"fire-fn-compat",[wO]:"fire-iid",[EO]:"fire-iid-compat",[TO]:"fire-fcm",[SO]:"fire-fcm-compat",[IO]:"fire-perf",[PO]:"fire-perf-compat",[kO]:"fire-rc",[AO]:"fire-rc-compat",[CO]:"fire-gcs",[RO]:"fire-gcs-compat",[bO]:"fire-fst",[xO]:"fire-fst-compat",[NO]:"fire-vertex","fire-js":"fire-js",[OO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,MO=new Map,pp=new Map;function t0(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ji(t){const e=t.name;if(pp.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,t);for(const n of iu.values())t0(n,t);for(const n of MO.values())t0(n,t);return!0}function Zu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Ga("app","Firebase",VO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=DO;function cS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kr.create("bad-app-name",{appName:String(i)});if(n||(n=iS()),!n)throw Kr.create("no-options");const s=iu.get(i);if(s){if(Ui(n,s.options)&&Ui(r,s.config))return s;throw Kr.create("duplicate-app",{appName:i})}const o=new Wx(i);for(const c of pp.values())o.addComponent(c);const a=new FO(n,r,o);return iu.set(i,a),a}function sg(t=fp){const e=iu.get(t);if(!e&&t===fp&&iS())return cS();if(!e)throw Kr.create("no-app",{appName:t});return e}function Vn(t,e,n){var r;let i=(r=LO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}ji(new ti(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebase-heartbeat-database",jO=1,Ra="firebase-heartbeat-store";let Fd=null;function uS(){return Fd||(Fd=rO(UO,jO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Fd}async function zO(t){try{const n=(await uS()).transaction(Ra),r=await n.objectStore(Ra).get(hS(t));return await n.done,r}catch(e){if(e instanceof qn)mr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function n0(t,e){try{const r=(await uS()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,hS(t)),await r.done}catch(n){if(n instanceof qn)mr.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function hS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=1024,BO=30;class WO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>BO){const o=KO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=r0(),{heartbeatsToSend:r,unsentEntries:i}=HO(this._heartbeatsCache.heartbeats),s=ru(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mr.warn(n),""}}}function r0(){return new Date().toISOString().substring(0,10)}function HO(t,e=$O){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),i0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),i0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xx()?Ox().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function i0(t){return ru(JSON.stringify({version:2,heartbeats:t})).length}function KO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){ji(new ti("platform-logger",e=>new oO(e),"PRIVATE")),ji(new ti("heartbeat",e=>new WO(e),"PRIVATE")),Vn(dp,e0,t),Vn(dp,e0,"esm2017"),Vn("fire-js","")}GO("");function og(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QO=dS,fS=new Ga("auth","Firebase",dS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new rg("@firebase/auth");function YO(t,...e){su.logLevel<=fe.WARN&&su.warn(`Auth (${Gi}): ${t}`,...e)}function mc(t,...e){su.logLevel<=fe.ERROR&&su.error(`Auth (${Gi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw ag(t,...e)}function Fn(t,...e){return ag(t,...e)}function pS(t,e,n){const r=Object.assign(Object.assign({},QO()),{[e]:n});return new Ga("auth","Firebase",r).create(e,{appName:t.name})}function sr(t){return pS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fS.create(t,...e)}function se(t,e,...n){if(!t)throw ag(e,...n)}function er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mc(e),new Error(e)}function gr(t,e){t||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function XO(){return s0()==="http:"||s0()==="https:"}function s0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XO()||Cx()||"connection"in navigator)?navigator.onLine:!0}function ZO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=Px()||Rx()}get(){return JO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Ya(3e4,6e4);function di(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fi(t,e,n,r,i={}){return gS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Qa(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return Ax()||(u.referrerPolicy="no-referrer"),mS.fetch()(yS(t,t.config.apiHost,n,a),u)})}async function gS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eD),e);try{const i=new rD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ql(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pS(t,h,u);En(t,h)}}catch(i){if(i instanceof qn)throw i;En(t,"network-request-failed",{message:String(i)})}}async function Xa(t,e,n,r,i={}){const s=await fi(t,e,n,r,i);return"mfaPendingCredential"in s&&En(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?lg(t.config,i):`${t.config.apiScheme}://${i}`}function nD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),tD.get())})}}function ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fn(t,e,r);return i.customData._tokenResponse=n,i}function o0(t){return t!==void 0&&t.enterprise!==void 0}class iD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sD(t,e){return fi(t,"GET","/v2/recaptchaConfig",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e){return fi(t,"POST","/v1/accounts:delete",e)}async function vS(t,e){return fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aD(t,e=!1){const n=it(t),r=await n.getIdToken(e),i=cg(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ia(Ud(i.auth_time)),issuedAtTime:ia(Ud(i.iat)),expirationTime:ia(Ud(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ud(t){return Number(t)*1e3}function cg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const i=tS(n);return i?JSON.parse(i):(mc("Failed to decode base64 JWT payload"),null)}catch(i){return mc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function a0(t){const e=cg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qn&&lD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ia(this.lastLoginAt),this.creationTime=ia(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ba(t,vS(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_S(s.providerUserInfo):[],a=hD(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function uD(t){const e=it(t);await ou(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _S(t){return t.map(e=>{var{providerId:n}=e,r=og(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e){const n=await gS(t,{},async()=>{const r=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fD(t,e){return fi(t,"POST","/v2/accounts:revokeToken",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=a0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ns;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ns,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ba(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aD(this,e)}reload(){return uD(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ou(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await ba(this,oD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:x,isAnonymous:b,providerData:D,stsTokenManager:I}=n;se(_&&I,e,"internal-error");const w=Ns.fromJSON(this.name,I);se(typeof _=="string",e,"internal-error"),kr(f,e.name),kr(g,e.name),se(typeof x=="boolean",e,"internal-error"),se(typeof b=="boolean",e,"internal-error"),kr(S,e.name),kr(T,e.name),kr(C,e.name),kr(P,e.name),kr(y,e.name),kr(v,e.name);const k=new tr({uid:_,auth:e,email:g,emailVerified:x,displayName:f,isAnonymous:b,photoURL:T,phoneNumber:S,tenantId:C,stsTokenManager:w,createdAt:y,lastLoginAt:v});return D&&Array.isArray(D)&&(k.providerData=D.map(R=>Object.assign({},R))),P&&(k._redirectEventId=P),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ns;i.updateFromServerResponse(n);const s=new tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ou(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_S(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ns;a.updateFromIdToken(r);const c=new tr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;function nr(t){gr(t instanceof Function,"Expected a class definition");let e=l0.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wS.type="NONE";const c0=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t,e,n){return`firebase:${t}:${e}:${n}`}class xs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gc(this.userKey,i.apiKey,s),this.fullPersistenceKey=gc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xs(nr(c0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||nr(c0);const o=gc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=tr._fromJSON(e,h);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new xs(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ES(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kS(e))return"Blackberry";if(AS(e))return"Webos";if(TS(e))return"Safari";if((e.includes("chrome/")||SS(e))&&!e.includes("edge/"))return"Chrome";if(PS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ES(t=kt()){return/firefox\//i.test(t)}function TS(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SS(t=kt()){return/crios\//i.test(t)}function IS(t=kt()){return/iemobile/i.test(t)}function PS(t=kt()){return/android/i.test(t)}function kS(t=kt()){return/blackberry/i.test(t)}function AS(t=kt()){return/webos/i.test(t)}function ug(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pD(t=kt()){var e;return ug(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mD(){return bx()&&document.documentMode===10}function CS(t=kt()){return ug(t)||PS(t)||AS(t)||kS(t)||/windows phone/i.test(t)||IS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e=[]){let n;switch(t){case"Browser":n=u0(kt());break;case"Worker":n=`${u0(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e={}){return fi(t,"GET","/v2/passwordPolicy",di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=6;class _D{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:vD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vS(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ou(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject(sr(this));const n=e?it(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yD(this),n=new _D(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await xs.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qi(t){return it(t)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fx(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ED(t){eh=t}function bS(t){return eh.loadJS(t)}function TD(){return eh.recaptchaEnterpriseScript}function SD(){return eh.gapiScript}function ID(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class PD{constructor(){this.enterprise=new kD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const AD="recaptcha-enterprise",NS="NO_RECAPTCHA";class CD{constructor(e){this.type=AD,this.auth=Qi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{sD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new iD(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;o0(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(NS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PD().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&o0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=TD();c.length!==0&&(c+=a),bS(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Do(t,e,n,r=!1,i=!1){const s=new CD(t);let o;if(i)o=NS;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function yp(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Do(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Do(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Do(t,e,n);return r(t,a).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Do(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const a=await Do(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e){const n=Zu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ui(s,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function bD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ND(t,e,n){const r=Qi(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=xS(e),{host:o,port:a}=xD(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Ui(u,r.config.emulator)&&Ui(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,i||OD()}function xS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xD(t){const e=xS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:d0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:d0(o)}}}function d0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function DD(t,e){return fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e){return Xa(t,"POST","/v1/accounts:signInWithPassword",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){return Xa(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))}async function VD(t,e){return Xa(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends hg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Na(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Na(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,n,"signInWithPassword",LD,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return MD(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,r,"signUpPassword",DD,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return VD(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t,e){return Xa(t,"POST","/v1/accounts:signInWithIdp",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="http://localhost";class zi extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=og(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Os(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Os(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Os(e,n)}buildRequest(){const e={requestUri:FD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jD(t){const e=zo($o(t)).link,n=e?zo($o(e)).deep_link_id:null,r=zo($o(t)).deep_link_id;return(r?zo($o(r)).link:null)||r||n||e||t}class dg{constructor(e){var n,r,i,s,o,a;const c=zo($o(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=UD((i=c.mode)!==null&&i!==void 0?i:null);se(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jD(e);try{return new dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,n){return Na._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dg.parseLink(n);return se(r,"argument-error"),Na._fromEmailAndCode(e,r.code,r.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends OS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ja{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zi._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Ja{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Ja{constructor(){super("twitter.com")}static credential(e,n){return zi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e){return Xa(t,"POST","/v1/accounts:signUp",di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await tr._fromIdTokenResponse(e,r,i),o=f0(r);return new $i({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=f0(r);return new $i({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function f0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,au.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new au(e,n,r,i)}}function DS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?au._fromErrorAndOperation(t,s,e,r):s})}async function $D(t,e,n=!1){const r=await ba(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t,e,n=!1){const{auth:r}=t;if(qt(r.app))return Promise.reject(sr(r));const i="reauthenticate";try{const s=await ba(t,DS(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=cg(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),$i._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&En(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(t,e,n=!1){if(qt(t.app))return Promise.reject(sr(t));const r="signIn",i=await DS(t,r,e),s=await $i._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function WD(t,e){return LS(Qi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(t){const e=Qi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HD(t,e,n){if(qt(t.app))return Promise.reject(sr(t));const r=Qi(t),o=await yp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zD,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&MS(t),c}),a=await $i._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function qD(t,e,n){return qt(t.app)?Promise.reject(sr(t)):WD(it(t),ro.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MS(t),r})}function KD(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function GD(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function QD(t,e,n,r){return it(t).onAuthStateChanged(e,n,r)}const lu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lu,"1"),this.storage.removeItem(lu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1e3,XD=10;class FS extends VS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);mD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FS.type="LOCAL";const JD=FS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends VS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}US.type="SESSION";const jS=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await ZD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=fg("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function tL(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function nL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iL(){return zS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",sL=1,cu="firebaseLocalStorage",BS="fbase_key";class Za{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(t,e){return t.transaction([cu],e?"readwrite":"readonly").objectStore(cu)}function oL(){const t=indexedDB.deleteDatabase($S);return new Za(t).toPromise()}function vp(){const t=indexedDB.open($S,sL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cu,{keyPath:BS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cu)?e(r):(r.close(),await oL(),e(await vp()))})})}async function p0(t,e,n){const r=nh(t,!0).put({[BS]:e,value:n});return new Za(r).toPromise()}async function aL(t,e){const n=nh(t,!1).get(e),r=await new Za(n).toPromise();return r===void 0?null:r.value}function m0(t,e){const n=nh(t,!0).delete(e);return new Za(n).toPromise()}const lL=800,cL=3;class WS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(iL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nL(),!this.activeServiceWorker)return;this.sender=new eL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await p0(e,lu,"1"),await m0(e,lu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>p0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nh(i,!1).getAll();return new Za(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WS.type="LOCAL";const uL=WS;new Ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e){return e?nr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Os(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Os(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Os(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dL(t){return LS(t.auth,new pg(t),t.bypassAuthState)}function fL(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),BD(n,new pg(t),t.bypassAuthState)}async function pL(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),$D(n,new pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dL;case"linkViaPopup":case"linkViaRedirect":return pL;case"reauthViaPopup":case"reauthViaRedirect":return fL;default:En(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new Ya(2e3,1e4);class Ss extends HS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mL.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="pendingRedirect",yc=new Map;class yL extends HS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const r=await vL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vL(t,e){const n=EL(e),r=wL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _L(t,e){yc.set(t._key(),e)}function wL(t){return nr(t._redirectPersistence)}function EL(t){return gc(gL,t.config.apiKey,t.name)}async function TL(t,e,n=!1){if(qt(t.app))return Promise.reject(sr(t));const r=Qi(t),i=hL(r,e),o=await new yL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=10*60*1e3;class IL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SL&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e={}){return fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CL=/^https?/;async function RL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kL(t);for(const n of e)try{if(bL(n))return}catch{}En(t,"unauthorized-domain")}function bL(t){const e=mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CL.test(n))return!1;if(AL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new Ya(3e4,6e4);function y0(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xL(t){return new Promise((e,n)=>{var r,i,s;function o(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),n(Fn(t,"network-request-failed"))},timeout:NL.get()})}if(!((i=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Un().gapi)===null||s===void 0)&&s.load)o();else{const a=ID("iframefcb");return Un()[a]=()=>{gapi.load?o():n(Fn(t,"network-request-failed"))},bS(`${SD()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw vc=null,e})}let vc=null;function OL(t){return vc=vc||xL(t),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new Ya(5e3,15e3),LL="__/auth/iframe",ML="emulator/auth/iframe",VL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UL(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lg(e,ML):`https://${t.config.authDomain}/${LL}`,r={apiKey:e.apiKey,appName:t.name,v:Gi},i=FL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qa(r).slice(1)}`}async function jL(t){const e=await OL(t),n=Un().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:UL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fn(t,"network-request-failed"),a=Un().setTimeout(()=>{s(o)},DL.get());function c(){Un().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$L=500,BL=600,WL="_blank",HL="http://localhost";class v0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qL(t,e,n,r=$L,i=BL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},zL),{width:r.toString(),height:i.toString(),top:s,left:o}),u=kt().toLowerCase();n&&(a=SS(u)?WL:n),ES(u)&&(e=e||HL,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[S,T])=>`${g}${S}=${T},`,"");if(pD(u)&&a!=="_self")return KL(e||"",a),new v0(null);const f=window.open(e||"",a,h);se(f,t,"popup-blocked");try{f.focus()}catch{}return new v0(f)}function KL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="__/auth/handler",QL="emulator/auth/handler",YL=encodeURIComponent("fac");async function _0(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gi,eventId:i};if(e instanceof OS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof Ja){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${YL}=${encodeURIComponent(c)}`:"";return`${XL(t)}?${Qa(a).slice(1)}${u}`}function XL({config:t}){return t.emulator?lg(t,QL):`https://${t.authDomain}/${GL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class JL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jS,this._completeRedirectFn=TL,this._overrideRedirectResult=_L}async _openPopup(e,n,r,i){var s;gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await _0(e,n,r,mp(),i);return qL(e,o,fg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await _0(e,n,r,mp(),i);return tL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jL(e),r=new IL(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[jd];o!==void 0&&n(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CS()||TS()||ug()}}const ZL=JL;var w0="@firebase/auth",E0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n4(t){ji(new ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(t)},u=new wD(r,i,s,c);return bD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ji(new ti("auth-internal",e=>{const n=Qi(e.getProvider("auth").getImmediate());return(r=>new e4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(w0,E0,t4(t)),Vn(w0,E0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=5*60,i4=sS("authIdTokenMaxAge")||r4;let T0=null;const s4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i4)return;const i=n==null?void 0:n.token;T0!==i&&(T0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function At(t=sg()){const e=Zu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RD(t,{popupRedirectResolver:ZL,persistence:[uL,JD,jS]}),r=sS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=s4(s.toString());GD(n,o,()=>o(n.currentUser)),KD(n,a=>o(a))}}const i=nS("auth");return i&&ND(n,`http://${i}`),n}function o4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ED({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",o4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n4("Browser");const a4=()=>{const t=At(),e=Ze(),[n,r]=N.useState(!1),[i,s]=N.useState(""),[o,a]=N.useState(""),[c,u]=N.useState("");return V("div",{className:"signin-container",children:[V("div",{className:"login-section",children:[m("div",{className:"login-section-header",children:m("h3",{children:"Welcome to YarnScape: "})}),V("div",{className:"login-section-input",children:[m("input",{type:"email",placeholder:"Email",value:i,onChange:f=>s(f.target.value)}),m("input",{type:"password",placeholder:"Password",value:o,onChange:f=>a(f.target.value)})]}),m("div",{className:"login-section-submitbtn",children:m("button",{onClick:async()=>{r(!0),u(""),qD(t,i,o).then(f=>{console.log(f.user.uid),e("/")}).catch(f=>{console.log(f),u(f.message),r(!1)})},disabled:n,children:"Login"})}),c&&m("div",{className:"signin-error-message",children:c})]}),m("div",{className:"yes-no-account1",children:V("p",{children:["Don't have an account? ",m("span",{children:m("a",{href:"/signup",children:"Sign Up"})})]})})]})},l4=t=>{const n=/[A-Z]/.test(t),r=/[a-z]/.test(t),i=/\d/.test(t),s=/[!@#$%^&*(),.?":{}|<>]/.test(t);return t.length<8?"Password must be at least 8 characters long":n?r?i?s?null:"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter"},c4=()=>{const t=At(),e=Ze(),[n,r]=N.useState(!1),[i,s]=N.useState(""),[o,a]=N.useState(""),[c,u]=N.useState(""),[h,f]=N.useState(""),[g,S]=N.useState(!1),T=y=>{S(y.target.checked)},C=l4(o);return V("div",{className:"signin-container",children:[V("div",{className:"login-section",children:[m("div",{className:"login-section-header",children:m("h3",{children:" Create an Account: "})}),V("div",{className:"login-section-input",children:[m("input",{type:"email",placeholder:"Email",value:i,onChange:y=>s(y.target.value)}),m("input",{type:"password",placeholder:"Password",value:o,onChange:y=>a(y.target.value)}),m("input",{type:"password",placeholder:"Re-Enter Password",value:c,onChange:y=>u(y.target.value)}),m("div",{className:"termsCheckbox",children:V("label",{children:[m("input",{type:"checkbox",checked:g,onChange:T}),"I agree to the ",m("a",{href:"/termsconditions",children:"Terms and Conditions"})]})})]}),m("div",{className:"login-section-submitbtn",children:m("button",{onClick:async()=>{if(C){f(C);return}else if(o!==c){f("Passwords do not match");return}else if(!g){f("Please agree to the terms and conditions in order to create your YarnScape account.");return}r(!0),f(""),HD(t,i,o).then(y=>{console.log(y.user.uid),e("/")}).catch(y=>{console.log(y),f(y.message),r(!1)})},disabled:n,children:"Create"})}),h&&m("div",{className:"signin-error-message",children:h})]}),m("div",{className:"yes-no-account",children:V("p",{children:["Got an account? ",m("span",{children:m("a",{href:"/login",children:"Log In"})})]})})]})},Wt=t=>{const{children:e}=t,n=At(),r=Ze(),[i,s]=N.useState(!0);return N.useEffect(()=>{const o=QD(n,a=>{a?s(!1):(console.log("unauthorized"),s(!1),r("/login"))});return()=>o()},[n,r]),i?m("p",{}):m("div",{children:e})},el=({currentTab:t,onTabChange:e})=>{const n=Ze(),r=i=>{e(i),n(i)};return V("div",{className:"bottom-nav",children:[m("div",{className:`nav-item ${t==="home"?"active":""}`,onClick:()=>r("/"),children:m(Nt,{icon:ux,size:"2x"})}),m("div",{className:`nav-item ${t==="design"?"active":""}`,onClick:()=>r("/design"),children:m(Nt,{icon:px,size:"2x"})}),m("div",{className:`nav-item ${t==="track"?"active":""}`,onClick:()=>r("/track"),children:m(Nt,{icon:rx,size:"2x"})}),m("div",{className:`nav-item ${t==="library"?"active":""}`,onClick:()=>r("/library"),children:m(Nt,{icon:dx,size:"2x"})}),m("div",{className:`nav-item ${t==="inventory"?"active":""}`,onClick:()=>r("/inventory"),children:m(Nt,{icon:ix,size:"2x"})}),m("div",{className:`nav-item ${t==="userprofile"?"active":""}`,onClick:()=>r("/userprofile"),children:m(Nt,{icon:JT,size:"2x"})})]})};var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,KS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function k(){}k.prototype=w.prototype,I.D=w.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(R,O,L){for(var A=Array(arguments.length-2),j=2;j<arguments.length;j++)A[j-2]=arguments[j];return w.prototype[O].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,w,k){k||(k=0);var R=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)R[O]=w.charCodeAt(k++)|w.charCodeAt(k++)<<8|w.charCodeAt(k++)<<16|w.charCodeAt(k++)<<24;else for(O=0;16>O;++O)R[O]=w[k++]|w[k++]<<8|w[k++]<<16|w[k++]<<24;w=I.g[0],k=I.g[1],O=I.g[2];var L=I.g[3],A=w+(L^k&(O^L))+R[0]+3614090360&4294967295;w=k+(A<<7&4294967295|A>>>25),A=L+(O^w&(k^O))+R[1]+3905402710&4294967295,L=w+(A<<12&4294967295|A>>>20),A=O+(k^L&(w^k))+R[2]+606105819&4294967295,O=L+(A<<17&4294967295|A>>>15),A=k+(w^O&(L^w))+R[3]+3250441966&4294967295,k=O+(A<<22&4294967295|A>>>10),A=w+(L^k&(O^L))+R[4]+4118548399&4294967295,w=k+(A<<7&4294967295|A>>>25),A=L+(O^w&(k^O))+R[5]+1200080426&4294967295,L=w+(A<<12&4294967295|A>>>20),A=O+(k^L&(w^k))+R[6]+2821735955&4294967295,O=L+(A<<17&4294967295|A>>>15),A=k+(w^O&(L^w))+R[7]+4249261313&4294967295,k=O+(A<<22&4294967295|A>>>10),A=w+(L^k&(O^L))+R[8]+1770035416&4294967295,w=k+(A<<7&4294967295|A>>>25),A=L+(O^w&(k^O))+R[9]+2336552879&4294967295,L=w+(A<<12&4294967295|A>>>20),A=O+(k^L&(w^k))+R[10]+4294925233&4294967295,O=L+(A<<17&4294967295|A>>>15),A=k+(w^O&(L^w))+R[11]+2304563134&4294967295,k=O+(A<<22&4294967295|A>>>10),A=w+(L^k&(O^L))+R[12]+1804603682&4294967295,w=k+(A<<7&4294967295|A>>>25),A=L+(O^w&(k^O))+R[13]+4254626195&4294967295,L=w+(A<<12&4294967295|A>>>20),A=O+(k^L&(w^k))+R[14]+2792965006&4294967295,O=L+(A<<17&4294967295|A>>>15),A=k+(w^O&(L^w))+R[15]+1236535329&4294967295,k=O+(A<<22&4294967295|A>>>10),A=w+(O^L&(k^O))+R[1]+4129170786&4294967295,w=k+(A<<5&4294967295|A>>>27),A=L+(k^O&(w^k))+R[6]+3225465664&4294967295,L=w+(A<<9&4294967295|A>>>23),A=O+(w^k&(L^w))+R[11]+643717713&4294967295,O=L+(A<<14&4294967295|A>>>18),A=k+(L^w&(O^L))+R[0]+3921069994&4294967295,k=O+(A<<20&4294967295|A>>>12),A=w+(O^L&(k^O))+R[5]+3593408605&4294967295,w=k+(A<<5&4294967295|A>>>27),A=L+(k^O&(w^k))+R[10]+38016083&4294967295,L=w+(A<<9&4294967295|A>>>23),A=O+(w^k&(L^w))+R[15]+3634488961&4294967295,O=L+(A<<14&4294967295|A>>>18),A=k+(L^w&(O^L))+R[4]+3889429448&4294967295,k=O+(A<<20&4294967295|A>>>12),A=w+(O^L&(k^O))+R[9]+568446438&4294967295,w=k+(A<<5&4294967295|A>>>27),A=L+(k^O&(w^k))+R[14]+3275163606&4294967295,L=w+(A<<9&4294967295|A>>>23),A=O+(w^k&(L^w))+R[3]+4107603335&4294967295,O=L+(A<<14&4294967295|A>>>18),A=k+(L^w&(O^L))+R[8]+1163531501&4294967295,k=O+(A<<20&4294967295|A>>>12),A=w+(O^L&(k^O))+R[13]+2850285829&4294967295,w=k+(A<<5&4294967295|A>>>27),A=L+(k^O&(w^k))+R[2]+4243563512&4294967295,L=w+(A<<9&4294967295|A>>>23),A=O+(w^k&(L^w))+R[7]+1735328473&4294967295,O=L+(A<<14&4294967295|A>>>18),A=k+(L^w&(O^L))+R[12]+2368359562&4294967295,k=O+(A<<20&4294967295|A>>>12),A=w+(k^O^L)+R[5]+4294588738&4294967295,w=k+(A<<4&4294967295|A>>>28),A=L+(w^k^O)+R[8]+2272392833&4294967295,L=w+(A<<11&4294967295|A>>>21),A=O+(L^w^k)+R[11]+1839030562&4294967295,O=L+(A<<16&4294967295|A>>>16),A=k+(O^L^w)+R[14]+4259657740&4294967295,k=O+(A<<23&4294967295|A>>>9),A=w+(k^O^L)+R[1]+2763975236&4294967295,w=k+(A<<4&4294967295|A>>>28),A=L+(w^k^O)+R[4]+1272893353&4294967295,L=w+(A<<11&4294967295|A>>>21),A=O+(L^w^k)+R[7]+4139469664&4294967295,O=L+(A<<16&4294967295|A>>>16),A=k+(O^L^w)+R[10]+3200236656&4294967295,k=O+(A<<23&4294967295|A>>>9),A=w+(k^O^L)+R[13]+681279174&4294967295,w=k+(A<<4&4294967295|A>>>28),A=L+(w^k^O)+R[0]+3936430074&4294967295,L=w+(A<<11&4294967295|A>>>21),A=O+(L^w^k)+R[3]+3572445317&4294967295,O=L+(A<<16&4294967295|A>>>16),A=k+(O^L^w)+R[6]+76029189&4294967295,k=O+(A<<23&4294967295|A>>>9),A=w+(k^O^L)+R[9]+3654602809&4294967295,w=k+(A<<4&4294967295|A>>>28),A=L+(w^k^O)+R[12]+3873151461&4294967295,L=w+(A<<11&4294967295|A>>>21),A=O+(L^w^k)+R[15]+530742520&4294967295,O=L+(A<<16&4294967295|A>>>16),A=k+(O^L^w)+R[2]+3299628645&4294967295,k=O+(A<<23&4294967295|A>>>9),A=w+(O^(k|~L))+R[0]+4096336452&4294967295,w=k+(A<<6&4294967295|A>>>26),A=L+(k^(w|~O))+R[7]+1126891415&4294967295,L=w+(A<<10&4294967295|A>>>22),A=O+(w^(L|~k))+R[14]+2878612391&4294967295,O=L+(A<<15&4294967295|A>>>17),A=k+(L^(O|~w))+R[5]+4237533241&4294967295,k=O+(A<<21&4294967295|A>>>11),A=w+(O^(k|~L))+R[12]+1700485571&4294967295,w=k+(A<<6&4294967295|A>>>26),A=L+(k^(w|~O))+R[3]+2399980690&4294967295,L=w+(A<<10&4294967295|A>>>22),A=O+(w^(L|~k))+R[10]+4293915773&4294967295,O=L+(A<<15&4294967295|A>>>17),A=k+(L^(O|~w))+R[1]+2240044497&4294967295,k=O+(A<<21&4294967295|A>>>11),A=w+(O^(k|~L))+R[8]+1873313359&4294967295,w=k+(A<<6&4294967295|A>>>26),A=L+(k^(w|~O))+R[15]+4264355552&4294967295,L=w+(A<<10&4294967295|A>>>22),A=O+(w^(L|~k))+R[6]+2734768916&4294967295,O=L+(A<<15&4294967295|A>>>17),A=k+(L^(O|~w))+R[13]+1309151649&4294967295,k=O+(A<<21&4294967295|A>>>11),A=w+(O^(k|~L))+R[4]+4149444226&4294967295,w=k+(A<<6&4294967295|A>>>26),A=L+(k^(w|~O))+R[11]+3174756917&4294967295,L=w+(A<<10&4294967295|A>>>22),A=O+(w^(L|~k))+R[2]+718787259&4294967295,O=L+(A<<15&4294967295|A>>>17),A=k+(L^(O|~w))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var k=w-this.blockSize,R=this.B,O=this.h,L=0;L<w;){if(O==0)for(;L<=k;)i(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<w;)if(R[O++]=I.charCodeAt(L++),O==this.blockSize){i(this,R),O=0;break}}else for(;L<w;)if(R[O++]=I[L++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var k=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=k&255,k/=256;for(this.u(I),I=Array(16),w=k=0;4>w;++w)for(var R=0;32>R;R+=8)I[k++]=this.g[w]>>>R&255;return I};function s(I,w){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=w(I)}function o(I,w){this.h=w;for(var k=[],R=!0,O=I.length-1;0<=O;O--){var L=I[O]|0;R&&L==w||(k[O]=L,R=!1)}this.g=k}var a={};function c(I){return-128<=I&&128>I?s(I,function(w){return new o([w|0],0>w?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return P(u(-I));for(var w=[],k=1,R=0;I>=k;R++)w[R]=I/k|0,k*=4294967296;return new o(w,0)}function h(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return P(h(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(w,8)),R=f,O=0;O<I.length;O+=8){var L=Math.min(8,I.length-O),A=parseInt(I.substring(O,O+L),w);8>L?(L=u(Math.pow(w,L)),R=R.j(L).add(u(A))):(R=R.j(k),R=R.add(u(A)))}return R}var f=c(0),g=c(1),S=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-P(this).m();for(var I=0,w=1,k=0;k<this.g.length;k++){var R=this.i(k);I+=(0<=R?R:4294967296+R)*w,w*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(C(this))return"-"+P(this).toString(I);for(var w=u(Math.pow(I,6)),k=this,R="";;){var O=x(k,w).g;k=y(k,O.j(w));var L=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=O,T(k))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function C(I){return I.h==-1}t.l=function(I){return I=y(this,I),C(I)?-1:T(I)?0:1};function P(I){for(var w=I.g.length,k=[],R=0;R<w;R++)k[R]=~I.g[R];return new o(k,~I.h).add(g)}t.abs=function(){return C(this)?P(this):this},t.add=function(I){for(var w=Math.max(this.g.length,I.g.length),k=[],R=0,O=0;O<=w;O++){var L=R+(this.i(O)&65535)+(I.i(O)&65535),A=(L>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);R=A>>>16,L&=65535,A&=65535,k[O]=A<<16|L}return new o(k,k[k.length-1]&-2147483648?-1:0)};function y(I,w){return I.add(P(w))}t.j=function(I){if(T(this)||T(I))return f;if(C(this))return C(I)?P(this).j(P(I)):P(P(this).j(I));if(C(I))return P(this.j(P(I)));if(0>this.l(S)&&0>I.l(S))return u(this.m()*I.m());for(var w=this.g.length+I.g.length,k=[],R=0;R<2*w;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<I.g.length;O++){var L=this.i(R)>>>16,A=this.i(R)&65535,j=I.i(O)>>>16,W=I.i(O)&65535;k[2*R+2*O]+=A*W,v(k,2*R+2*O),k[2*R+2*O+1]+=L*W,v(k,2*R+2*O+1),k[2*R+2*O+1]+=A*j,v(k,2*R+2*O+1),k[2*R+2*O+2]+=L*j,v(k,2*R+2*O+2)}for(R=0;R<w;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=w;R<2*w;R++)k[R]=0;return new o(k,0)};function v(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function _(I,w){this.g=I,this.h=w}function x(I,w){if(T(w))throw Error("division by zero");if(T(I))return new _(f,f);if(C(I))return w=x(P(I),w),new _(P(w.g),P(w.h));if(C(w))return w=x(I,P(w)),new _(P(w.g),w.h);if(30<I.g.length){if(C(I)||C(w))throw Error("slowDivide_ only works with positive integers.");for(var k=g,R=w;0>=R.l(I);)k=b(k),R=b(R);var O=D(k,1),L=D(R,1);for(R=D(R,2),k=D(k,2);!T(R);){var A=L.add(R);0>=A.l(I)&&(O=O.add(k),L=A),R=D(R,1),k=D(k,1)}return w=y(I,O.j(w)),new _(O,w)}for(O=f;0<=I.l(w);){for(k=Math.max(1,Math.floor(I.m()/w.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=u(k),A=L.j(w);C(A)||0<A.l(I);)k-=R,L=u(k),A=L.j(w);T(L)&&(L=g),O=O.add(L),I=y(I,A)}return new _(O,I)}t.A=function(I){return x(this,I).h},t.and=function(I){for(var w=Math.max(this.g.length,I.g.length),k=[],R=0;R<w;R++)k[R]=this.i(R)&I.i(R);return new o(k,this.h&I.h)},t.or=function(I){for(var w=Math.max(this.g.length,I.g.length),k=[],R=0;R<w;R++)k[R]=this.i(R)|I.i(R);return new o(k,this.h|I.h)},t.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),k=[],R=0;R<w;R++)k[R]=this.i(R)^I.i(R);return new o(k,this.h^I.h)};function b(I){for(var w=I.g.length+1,k=[],R=0;R<w;R++)k[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(k,I.h)}function D(I,w){var k=w>>5;w%=32;for(var R=I.g.length-k,O=[],L=0;L<R;L++)O[L]=0<w?I.i(L+k)>>>w|I.i(L+k+1)<<32-w:I.i(L+k);return new o(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Gr=o}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GS,Bo,QS,_c,_p,YS,XS,JS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kl=="object"&&Kl];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var p=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in p))break e;p=p[M]}l=l[l.length-1],E=p[l],d=d(E),d!=E&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var p=0,E=!1,M={next:function(){if(!E&&p<l.length){var F=p++;return{value:d(F,l[F]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function g(l,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function S(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function T(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(E,M,F){for(var G=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)G[Ie-2]=arguments[Ie];return d.prototype[M].apply(E,G)}}function C(l){const d=l.length;if(0<d){const p=Array(d);for(let E=0;E<d;E++)p[E]=l[E];return p}return[]}function P(l,d){for(let p=1;p<arguments.length;p++){const E=arguments[p];if(c(E)){const M=l.length||0,F=E.length||0;l.length=M+F;for(let G=0;G<F;G++)l[M+G]=E[G]}else l.push(E)}}class y{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function v(l){return/^[\s\xa0]*$/.test(l)}function _(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function x(l){return x[" "](l),l}x[" "]=function(){};var b=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function D(l,d,p){for(const E in l)d.call(p,l[E],E,l)}function I(l,d){for(const p in l)d.call(void 0,l[p],p,l)}function w(l){const d={};for(const p in l)d[p]=l[p];return d}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,d){let p,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(p in E)l[p]=E[p];for(let F=0;F<k.length;F++)p=k[F],Object.prototype.hasOwnProperty.call(E,p)&&(l[p]=E[p])}}function O(l){var d=1;l=l.split(":");const p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function L(l){a.setTimeout(()=>{throw l},0)}function A(){var l=K;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class j{constructor(){this.h=this.g=null}add(d,p){const E=W.get();E.set(d,p),this.h?this.h.next=E:this.g=E,this.h=E}}var W=new y(()=>new re,l=>l.reset());class re{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,B=!1,K=new j,Z=()=>{const l=a.Promise.resolve(void 0);Q=()=>{l.then(ge)}};var ge=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(p){L(p)}var d=W;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}B=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function ve(l,d){if(ne.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(b){e:{try{x(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ge[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ve.aa.h.call(this)}}T(ve,ne);var Ge={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var cn="closure_listenable_"+(1e6*Math.random()|0),Rh=0;function ZP(l,d,p,E,M){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!E,this.ha=M,this.key=++Rh,this.da=this.fa=!1}function ll(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function cl(l){this.src=l,this.g={},this.h=0}cl.prototype.add=function(l,d,p,E,M){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var G=Nh(l,d,E,M);return-1<G?(d=l[G],p||(d.fa=!1)):(d=new ZP(d,this.src,F,!!E,M),d.fa=p,l.push(d)),d};function bh(l,d){var p=d.type;if(p in l.g){var E=l.g[p],M=Array.prototype.indexOf.call(E,d,void 0),F;(F=0<=M)&&Array.prototype.splice.call(E,M,1),F&&(ll(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Nh(l,d,p,E){for(var M=0;M<l.length;++M){var F=l[M];if(!F.da&&F.listener==d&&F.capture==!!p&&F.ha==E)return M}return-1}var xh="closure_lm_"+(1e6*Math.random()|0),Oh={};function ry(l,d,p,E,M){if(E&&E.once)return sy(l,d,p,E,M);if(Array.isArray(d)){for(var F=0;F<d.length;F++)ry(l,d[F],p,E,M);return null}return p=Vh(p),l&&l[cn]?l.K(d,p,u(E)?!!E.capture:!!E,M):iy(l,d,p,!1,E,M)}function iy(l,d,p,E,M,F){if(!d)throw Error("Invalid event type");var G=u(M)?!!M.capture:!!M,Ie=Lh(l);if(Ie||(l[xh]=Ie=new cl(l)),p=Ie.add(d,p,E,G,F),p.proxy)return p;if(E=ek(),p.proxy=E,E.src=l,E.listener=p,l.addEventListener)we||(M=G),M===void 0&&(M=!1),l.addEventListener(d.toString(),E,M);else if(l.attachEvent)l.attachEvent(ay(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ek(){function l(p){return d.call(l.src,l.listener,p)}const d=tk;return l}function sy(l,d,p,E,M){if(Array.isArray(d)){for(var F=0;F<d.length;F++)sy(l,d[F],p,E,M);return null}return p=Vh(p),l&&l[cn]?l.L(d,p,u(E)?!!E.capture:!!E,M):iy(l,d,p,!0,E,M)}function oy(l,d,p,E,M){if(Array.isArray(d))for(var F=0;F<d.length;F++)oy(l,d[F],p,E,M);else E=u(E)?!!E.capture:!!E,p=Vh(p),l&&l[cn]?(l=l.i,d=String(d).toString(),d in l.g&&(F=l.g[d],p=Nh(F,p,E,M),-1<p&&(ll(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete l.g[d],l.h--)))):l&&(l=Lh(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Nh(d,p,E,M)),(p=-1<l?d[l]:null)&&Dh(p))}function Dh(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[cn])bh(d.i,l);else{var p=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(p,E,l.capture):d.detachEvent?d.detachEvent(ay(p),E):d.addListener&&d.removeListener&&d.removeListener(E),(p=Lh(d))?(bh(p,l),p.h==0&&(p.src=null,d[xh]=null)):ll(l)}}}function ay(l){return l in Oh?Oh[l]:Oh[l]="on"+l}function tk(l,d){if(l.da)l=!0;else{d=new ve(d,this);var p=l.listener,E=l.ha||l.src;l.fa&&Dh(l),l=p.call(E,d)}return l}function Lh(l){return l=l[xh],l instanceof cl?l:null}var Mh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vh(l){return typeof l=="function"?l:(l[Mh]||(l[Mh]=function(d){return l.handleEvent(d)}),l[Mh])}function pt(){ee.call(this),this.i=new cl(this),this.M=this,this.F=null}T(pt,ee),pt.prototype[cn]=!0,pt.prototype.removeEventListener=function(l,d,p,E){oy(this,l,d,p,E)};function Ct(l,d){var p,E=l.F;if(E)for(p=[];E;E=E.F)p.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new ne(d,l);else if(d instanceof ne)d.target=d.target||l;else{var M=d;d=new ne(E,l),R(d,M)}if(M=!0,p)for(var F=p.length-1;0<=F;F--){var G=d.g=p[F];M=ul(G,E,!0,d)&&M}if(G=d.g=l,M=ul(G,E,!0,d)&&M,M=ul(G,E,!1,d)&&M,p)for(F=0;F<p.length;F++)G=d.g=p[F],M=ul(G,E,!1,d)&&M}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],E=0;E<p.length;E++)ll(p[E]);delete l.g[d],l.h--}}this.F=null},pt.prototype.K=function(l,d,p,E){return this.i.add(String(l),d,!1,p,E)},pt.prototype.L=function(l,d,p,E){return this.i.add(String(l),d,!0,p,E)};function ul(l,d,p,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,F=0;F<d.length;++F){var G=d[F];if(G&&!G.da&&G.capture==p){var Ie=G.listener,st=G.ha||G.src;G.fa&&bh(l.i,G),M=Ie.call(st,E)!==!1&&M}}return M&&!E.defaultPrevented}function ly(l,d,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function cy(l){l.g=ly(()=>{l.g=null,l.i&&(l.i=!1,cy(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class nk extends ee{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:cy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ho(l){ee.call(this),this.h=l,this.g={}}T(ho,ee);var uy=[];function hy(l){D(l.g,function(d,p){this.g.hasOwnProperty(p)&&Dh(d)},l),l.g={}}ho.prototype.N=function(){ho.aa.N.call(this),hy(this)},ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fh=a.JSON.stringify,rk=a.JSON.parse,ik=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Uh(){}Uh.prototype.h=null;function dy(l){return l.h||(l.h=l.i())}function fy(){}var fo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jh(){ne.call(this,"d")}T(jh,ne);function zh(){ne.call(this,"c")}T(zh,ne);var gi={},py=null;function hl(){return py=py||new pt}gi.La="serverreachability";function my(l){ne.call(this,gi.La,l)}T(my,ne);function po(l){const d=hl();Ct(d,new my(d))}gi.STAT_EVENT="statevent";function gy(l,d){ne.call(this,gi.STAT_EVENT,l),this.stat=d}T(gy,ne);function Rt(l){const d=hl();Ct(d,new gy(d,l))}gi.Ma="timingevent";function yy(l,d){ne.call(this,gi.Ma,l),this.size=d}T(yy,ne);function mo(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function go(){this.g=!0}go.prototype.xa=function(){this.g=!1};function sk(l,d,p,E,M,F){l.info(function(){if(l.g)if(F)for(var G="",Ie=F.split("&"),st=0;st<Ie.length;st++){var Ee=Ie[st].split("=");if(1<Ee.length){var mt=Ee[0];Ee=Ee[1];var gt=mt.split("_");G=2<=gt.length&&gt[1]=="type"?G+(mt+"="+Ee+"&"):G+(mt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+p+`
`+G})}function ok(l,d,p,E,M,F,G){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+p+`
`+F+" "+G})}function es(l,d,p,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+lk(l,p)+(E?" "+E:"")})}function ak(l,d){l.info(function(){return"TIMEOUT: "+d})}go.prototype.info=function(){};function lk(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var E=p[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return Fh(p)}catch{return d}}var dl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$h;function fl(){}T(fl,Uh),fl.prototype.g=function(){return new XMLHttpRequest},fl.prototype.i=function(){return{}},$h=new fl;function Er(l,d,p,E){this.j=l,this.i=d,this.l=p,this.R=E||1,this.U=new ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _y}function _y(){this.i=null,this.g="",this.h=!1}var wy={},Bh={};function Wh(l,d,p){l.L=1,l.v=yl(Gn(d)),l.m=p,l.P=!0,Ey(l,null)}function Ey(l,d){l.F=Date.now(),pl(l),l.A=Gn(l.v);var p=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Ly(p.i,"t",E),l.C=0,p=l.j.J,l.h=new _y,l.g=Zy(l.j,p?d:null,!l.m),0<l.O&&(l.M=new nk(g(l.Y,l,l.g),l.O)),d=l.U,p=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(uy[0]=M.toString()),M=uy);for(var F=0;F<M.length;F++){var G=ry(p,M[F],E||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),po(),sk(l.i,l.u,l.A,l.l,l.R,l.m)}Er.prototype.ca=function(l){l=l.target;const d=this.M;d&&Qn(l)==3?d.j():this.Y(l)},Er.prototype.Y=function(l){try{if(l==this.g)e:{const gt=Qn(this.g);var d=this.g.Ba();const rs=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||$y(this.g)))){this.J||gt!=4||d==7||(d==8||0>=rs?po(3):po(2)),Hh(this);var p=this.g.Z();this.X=p;t:if(Ty(this)){var E=$y(this.g);l="";var M=E.length,F=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),yo(this);var G="";break t}this.h.i=new a.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(F&&d==M-1)});E.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,ok(this.i,this.u,this.A,this.l,this.R,gt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,st=this.g;if((Ie=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ie)){var Ee=Ie;break t}}Ee=null}if(p=Ee)es(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qh(this,p);else{this.o=!1,this.s=3,Rt(12),yi(this),yo(this);break e}}if(this.P){p=!0;let un;for(;!this.J&&this.C<G.length;)if(un=ck(this,G),un==Bh){gt==4&&(this.s=4,Rt(14),p=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(un==wy){this.s=4,Rt(15),es(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else es(this.i,this.l,un,null),qh(this,un);if(Ty(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||G.length!=0||this.h.h||(this.s=1,Rt(16),p=!1),this.o=this.o&&p,!p)es(this.i,this.l,G,"[Invalid Chunked Response]"),yi(this),yo(this);else if(0<G.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Jh(mt),mt.M=!0,Rt(11))}}else es(this.i,this.l,G,null),qh(this,G);gt==4&&yi(this),this.o&&!this.J&&(gt==4?Qy(this.j,this):(this.o=!1,pl(this)))}else kk(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),yi(this),yo(this)}}}catch{}finally{}};function Ty(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ck(l,d){var p=l.C,E=d.indexOf(`
`,p);return E==-1?Bh:(p=Number(d.substring(p,E)),isNaN(p)?wy:(E+=1,E+p>d.length?Bh:(d=d.slice(E,E+p),l.C=E+p,d)))}Er.prototype.cancel=function(){this.J=!0,yi(this)};function pl(l){l.S=Date.now()+l.I,Sy(l,l.I)}function Sy(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mo(g(l.ba,l),d)}function Hh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Er.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ak(this.i,this.A),this.L!=2&&(po(),Rt(17)),yi(this),this.s=2,yo(this)):Sy(this,this.S-l)};function yo(l){l.j.G==0||l.J||Qy(l.j,l)}function yi(l){Hh(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,hy(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function qh(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||Kh(p.h,l))){if(!l.K&&Kh(p.h,l)&&p.G==3){try{var E=p.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Sl(p),El(p);else break e;Xh(p),Rt(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=mo(g(p.Za,p),6e3));if(1>=ky(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _i(p,11)}else if((l.K||p.g==l)&&Sl(p),!v(d))for(M=p.Da.g.parse(d),d=0;d<M.length;d++){let Ee=M[d];if(p.T=Ee[0],Ee=Ee[1],p.G==2)if(Ee[0]=="c"){p.K=Ee[1],p.ia=Ee[2];const mt=Ee[3];mt!=null&&(p.la=mt,p.j.info("VER="+p.la));const gt=Ee[4];gt!=null&&(p.Aa=gt,p.j.info("SVER="+p.Aa));const rs=Ee[5];rs!=null&&typeof rs=="number"&&0<rs&&(E=1.5*rs,p.L=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const un=l.g;if(un){const Pl=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var F=E.h;F.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Gh(F,F.h),F.h=null))}if(E.D){const Zh=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Zh&&(E.ya=Zh,Ce(E.I,E.D,Zh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),E=p;var G=l;if(E.qa=Jy(E,E.J?E.ia:null,E.W),G.K){Ay(E.h,G);var Ie=G,st=E.L;st&&(Ie.I=st),Ie.B&&(Hh(Ie),pl(Ie)),E.g=G}else Ky(E);0<p.i.length&&Tl(p)}else Ee[0]!="stop"&&Ee[0]!="close"||_i(p,7);else p.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?_i(p,7):Yh(p):Ee[0]!="noop"&&p.l&&p.l.ta(Ee),p.v=0)}}po(4)}catch{}}var uk=class{constructor(l,d){this.g=l,this.map=d}};function Iy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Py(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ky(l){return l.h?1:l.g?l.g.size:0}function Kh(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Gh(l,d){l.g?l.g.add(d):l.h=d}function Ay(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Iy.prototype.cancel=function(){if(this.i=Cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Cy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const p of l.g.values())d=d.concat(p.D);return d}return C(l.i)}function hk(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],p=l.length,E=0;E<p;E++)d.push(l[E]);return d}d=[],p=0;for(E in l)d[p++]=l[E];return d}function dk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(const E in l)d[p++]=E;return d}}}function Ry(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=dk(l),E=hk(l),M=E.length,F=0;F<M;F++)d.call(void 0,E[F],p&&p[F],l)}var by=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fk(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var E=l[p].indexOf("="),M=null;if(0<=E){var F=l[p].substring(0,E);M=l[p].substring(E+1)}else F=l[p];d(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function vi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof vi){this.h=l.h,ml(this,l.j),this.o=l.o,this.g=l.g,gl(this,l.s),this.l=l.l;var d=l.i,p=new wo;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Ny(this,p),this.m=l.m}else l&&(d=String(l).match(by))?(this.h=!1,ml(this,d[1]||"",!0),this.o=vo(d[2]||""),this.g=vo(d[3]||"",!0),gl(this,d[4]),this.l=vo(d[5]||"",!0),Ny(this,d[6]||"",!0),this.m=vo(d[7]||"")):(this.h=!1,this.i=new wo(null,this.h))}vi.prototype.toString=function(){var l=[],d=this.j;d&&l.push(_o(d,xy,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(_o(d,xy,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(_o(p,p.charAt(0)=="/"?gk:mk,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",_o(p,vk)),l.join("")};function Gn(l){return new vi(l)}function ml(l,d,p){l.j=p?vo(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function gl(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Ny(l,d,p){d instanceof wo?(l.i=d,_k(l.i,l.h)):(p||(d=_o(d,yk)),l.i=new wo(d,l.h))}function Ce(l,d,p){l.i.set(d,p)}function yl(l){return Ce(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function vo(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function _o(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,pk),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function pk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var xy=/[#\/\?@]/g,mk=/[#\?:]/g,gk=/[#\?]/g,yk=/[#\?@]/g,vk=/#/g;function wo(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tr(l){l.g||(l.g=new Map,l.h=0,l.i&&fk(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=wo.prototype,t.add=function(l,d){Tr(this),this.i=null,l=ts(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function Oy(l,d){Tr(l),d=ts(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Dy(l,d){return Tr(l),d=ts(l,d),l.g.has(d)}t.forEach=function(l,d){Tr(this),this.g.forEach(function(p,E){p.forEach(function(M){l.call(d,M,E,this)},this)},this)},t.na=function(){Tr(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let E=0;E<d.length;E++){const M=l[E];for(let F=0;F<M.length;F++)p.push(d[E])}return p},t.V=function(l){Tr(this);let d=[];if(typeof l=="string")Dy(this,l)&&(d=d.concat(this.g.get(ts(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},t.set=function(l,d){return Tr(this),this.i=null,l=ts(this,l),Dy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ly(l,d,p){Oy(l,d),0<p.length&&(l.i=null,l.g.set(ts(l,d),C(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var E=d[p];const F=encodeURIComponent(String(E)),G=this.V(E);for(E=0;E<G.length;E++){var M=F;G[E]!==""&&(M+="="+encodeURIComponent(String(G[E]))),l.push(M)}}return this.i=l.join("&")};function ts(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function _k(l,d){d&&!l.j&&(Tr(l),l.i=null,l.g.forEach(function(p,E){var M=E.toLowerCase();E!=M&&(Oy(this,E),Ly(this,M,p))},l)),l.j=d}function wk(l,d){const p=new go;if(a.Image){const E=new Image;E.onload=S(Sr,p,"TestLoadImage: loaded",!0,d,E),E.onerror=S(Sr,p,"TestLoadImage: error",!1,d,E),E.onabort=S(Sr,p,"TestLoadImage: abort",!1,d,E),E.ontimeout=S(Sr,p,"TestLoadImage: timeout",!1,d,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Ek(l,d){const p=new go,E=new AbortController,M=setTimeout(()=>{E.abort(),Sr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(F=>{clearTimeout(M),F.ok?Sr(p,"TestPingServer: ok",!0,d):Sr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Sr(p,"TestPingServer: error",!1,d)})}function Sr(l,d,p,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(p)}catch{}}function Tk(){this.g=new ik}function Sk(l,d,p){const E=p||"";try{Ry(l,function(M,F){let G=M;u(M)&&(G=Fh(M)),d.push(E+F+"="+encodeURIComponent(G))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function vl(l){this.l=l.Ub||null,this.j=l.eb||!1}T(vl,Uh),vl.prototype.g=function(){return new _l(this.l,this.j)},vl.prototype.i=function(l){return function(){return l}}({});function _l(l,d){pt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(_l,pt),t=_l.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,To(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,To(this)),this.g&&(this.readyState=3,To(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;My(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function My(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Eo(this):To(this),this.readyState==3&&My(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Eo(this))},t.Qa=function(l){this.g&&(this.response=l,Eo(this))},t.ga=function(){this.g&&Eo(this)};function Eo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,To(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function To(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Vy(l){let d="";return D(l,function(p,E){d+=E,d+=":",d+=p,d+=`\r
`}),d}function Qh(l,d,p){e:{for(E in p){var E=!1;break e}E=!0}E||(p=Vy(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ce(l,d,p))}function je(l){pt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(je,pt);var Ik=/^https?$/i,Pk=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$h.g(),this.v=this.o?dy(this.o):dy($h),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(F){Fy(this,F);return}if(l=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)p.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const F of E.keys())p.set(F,E.get(F));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Pk,d,void 0))||E||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of p)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zy(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Fy(this,F)}};function Fy(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Uy(l),wl(l)}function Uy(l){l.A||(l.A=!0,Ct(l,"complete"),Ct(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ct(this,"complete"),Ct(this,"abort"),wl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wl(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jy(this):this.bb())},t.bb=function(){jy(this)};function jy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Qn(l)!=4||l.Z()!=2)){if(l.u&&Qn(l)==4)ly(l.Ea,0,l);else if(Ct(l,"readystatechange"),Qn(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var E;if(E=G===0){var M=String(l.D).match(by)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),E=!Ik.test(M?M.toLowerCase():"")}p=E}if(p)Ct(l,"complete"),Ct(l,"success");else{l.m=6;try{var F=2<Qn(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Uy(l)}}finally{wl(l)}}}}function wl(l,d){if(l.g){zy(l);const p=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Ct(l,"ready");try{p.onreadystatechange=E}catch{}}}function zy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Qn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),rk(d)}};function $y(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function kk(l){const d={};l=(l.g&&2<=Qn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(v(l[E]))continue;var p=O(l[E]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=d[M]||[];d[M]=F,F.push(p)}I(d,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function By(l){this.Aa=0,this.i=[],this.j=new go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,l),this.cb=So("retryDelaySeedMs",1e4,l),this.Wa=So("forwardChannelMaxRetries",2,l),this.wa=So("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Iy(l&&l.concurrentRequestLimit),this.Da=new Tk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=By.prototype,t.la=8,t.G=1,t.connect=function(l,d,p,E){Rt(0),this.W=l,this.H=d||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.I=Jy(this,null,this.W),Tl(this)};function Yh(l){if(Wy(l),l.G==3){var d=l.U++,p=Gn(l.I);if(Ce(p,"SID",l.K),Ce(p,"RID",d),Ce(p,"TYPE","terminate"),Io(l,p),d=new Er(l,l.j,d),d.L=2,d.v=yl(Gn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=Zy(d.j,null),d.g.ea(d.v)),d.F=Date.now(),pl(d)}Xy(l)}function El(l){l.g&&(Jh(l),l.g.cancel(),l.g=null)}function Wy(l){El(l),l.u&&(a.clearTimeout(l.u),l.u=null),Sl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Tl(l){if(!Py(l.h)&&!l.s){l.s=!0;var d=l.Ga;Q||Z(),B||(Q(),B=!0),K.add(d,l),l.B=0}}function Ak(l,d){return ky(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mo(g(l.Ga,l,d),Yy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Er(this,this.j,l);let F=this.o;if(this.S&&(F?(F=w(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=qy(this,M,d),p=Gn(this.I),Ce(p,"RID",l),Ce(p,"CVER",22),this.D&&Ce(p,"X-HTTP-Session-Id",this.D),Io(this,p),F&&(this.O?d="headers="+encodeURIComponent(String(Vy(F)))+"&"+d:this.m&&Qh(p,this.m,F)),Gh(this.h,M),this.Ua&&Ce(p,"TYPE","init"),this.P?(Ce(p,"$req",d),Ce(p,"SID","null"),M.T=!0,Wh(M,p,null)):Wh(M,p,d),this.G=2}}else this.G==3&&(l?Hy(this,l):this.i.length==0||Py(this.h)||Hy(this))};function Hy(l,d){var p;d?p=d.l:p=l.U++;const E=Gn(l.I);Ce(E,"SID",l.K),Ce(E,"RID",p),Ce(E,"AID",l.T),Io(l,E),l.m&&l.o&&Qh(E,l.m,l.o),p=new Er(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=qy(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Gh(l.h,p),Wh(p,E,d)}function Io(l,d){l.H&&D(l.H,function(p,E){Ce(d,E,p)}),l.l&&Ry({},function(p,E){Ce(d,E,p)})}function qy(l,d,p){p=Math.min(l.i.length,p);var E=l.l?g(l.l.Na,l.l,l):null;e:{var M=l.i;let F=-1;for(;;){const G=["count="+p];F==-1?0<p?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Ie=!0;for(let st=0;st<p;st++){let Ee=M[st].g;const mt=M[st].map;if(Ee-=F,0>Ee)F=Math.max(0,M[st].g-100),Ie=!1;else try{Sk(mt,G,"req"+Ee+"_")}catch{E&&E(mt)}}if(Ie){E=G.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,E}function Ky(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Q||Z(),B||(Q(),B=!0),K.add(d,l),l.v=0}}function Xh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mo(g(l.Fa,l),Yy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Gy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mo(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),El(this),Gy(this))};function Jh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Gy(l){l.g=new Er(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Gn(l.qa);Ce(d,"RID","rpc"),Ce(d,"SID",l.K),Ce(d,"AID",l.T),Ce(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ce(d,"TO",l.ja),Ce(d,"TYPE","xmlhttp"),Io(l,d),l.m&&l.o&&Qh(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=yl(Gn(d)),p.m=null,p.P=!0,Ey(p,l)}t.Za=function(){this.C!=null&&(this.C=null,El(this),Xh(this),Rt(19))};function Sl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Qy(l,d){var p=null;if(l.g==d){Sl(l),Jh(l),l.g=null;var E=2}else if(Kh(l.h,d))p=d.D,Ay(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;E=hl(),Ct(E,new yy(E,p)),Tl(l)}else Ky(l);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&Ak(l,d)||E==2&&Xh(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),M){case 1:_i(l,5);break;case 4:_i(l,10);break;case 3:_i(l,6);break;default:_i(l,2)}}}function Yy(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function _i(l,d){if(l.j.info("Error code "+d),d==2){var p=g(l.fb,l),E=l.Xa;const M=!E;E=new vi(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ml(E,"https"),yl(E),M?wk(E.toString(),p):Ek(E.toString(),p)}else Rt(2);l.G=0,l.l&&l.l.sa(d),Xy(l),Wy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Xy(l){if(l.G=0,l.ka=[],l.l){const d=Cy(l.h);(d.length!=0||l.i.length!=0)&&(P(l.ka,d),P(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function Jy(l,d,p){var E=p instanceof vi?Gn(p):new vi(p);if(E.g!="")d&&(E.g=d+"."+E.g),gl(E,E.s);else{var M=a.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var F=new vi(null);E&&ml(F,E),d&&(F.g=d),M&&gl(F,M),p&&(F.l=p),E=F}return p=l.D,d=l.ya,p&&d&&Ce(E,p,d),Ce(E,"VER",l.la),Io(l,E),E}function Zy(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new je(new vl({eb:p})):new je(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ev(){}t=ev.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(l,d){return new Bt(l,d)};function Bt(l,d){pt.call(this),this.g=new By(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!v(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!v(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new ns(this)}T(Bt,pt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Yh(this.g)},Bt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Fh(l),l=p);d.i.push(new uk(d.Ya++,l)),d.G==3&&Tl(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Yh(this.g),delete this.g,Bt.aa.N.call(this)};function tv(l){jh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}T(tv,jh);function nv(){zh.call(this),this.status=1}T(nv,zh);function ns(l){this.g=l}T(ns,ev),ns.prototype.ua=function(){Ct(this.g,"a")},ns.prototype.ta=function(l){Ct(this.g,new tv(l))},ns.prototype.sa=function(l){Ct(this.g,new nv)},ns.prototype.ra=function(){Ct(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,JS=function(){return new Il},XS=function(){return hl()},YS=gi,_p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dl.NO_ERROR=0,dl.TIMEOUT=8,dl.HTTP_ERROR=6,_c=dl,vy.COMPLETE="complete",QS=vy,fy.EventType=fo,fo.OPEN="a",fo.CLOSE="b",fo.ERROR="c",fo.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Bo=fy,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,GS=je}).apply(typeof Kl<"u"?Kl:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore",P0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new rg("@firebase/firestore");function ss(){return Bi.logLevel}function Y(t,...e){if(Bi.logLevel<=fe.DEBUG){const n=e.map(mg);Bi.debug(`Firestore (${io}): ${t}`,...n)}}function yr(t,...e){if(Bi.logLevel<=fe.ERROR){const n=e.map(mg);Bi.error(`Firestore (${io}): ${t}`,...n)}}function Bs(t,...e){if(Bi.logLevel<=fe.WARN){const n=e.map(mg);Bi.warn(`Firestore (${io}): ${t}`,...n)}}function mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: `+t;throw yr(e),new Error(e)}function Te(t,e){t||oe()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class h4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class d4{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new ZS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new wt(e)}}class f4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class p4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new f4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m4{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new k0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new k0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=g4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=-62135596800,C0=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*C0);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<A0)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Xe(0,0))}static max(){return new le(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="__name__";class bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=bn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=bn.isNumericId(e),i=bn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?bn.extractNumericId(e).compare(bn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class Ne extends bn{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends bn{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return y4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new ut([R0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ne.fromString(e))}static fromName(e){return new ie(Ne.fromString(e).popFirst(5))}static empty(){return new ie(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=-1;function v4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new ni(i,ie.empty(),e)}function _4(t){return new ni(t.readTime,t.key,xa)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(le.min(),ie.empty(),xa)}static max(){return new ni(le.max(),ie.empty(),xa)}}function w4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==E4)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function S4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function ih(t){return t==null}function uu(t){return t===0&&1/t==-1/0}function I4(t){return typeof t=="number"&&Number.isInteger(t)&&!uu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="";function P4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=b0(e)),e=k4(t.get(n),e);return b0(e)}function k4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case tI:n+="";break;default:n+=s}}return n}function b0(t){return t+tI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gl(this.root,e,this.comparator,!0)}}class Gl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(e){return new x0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class x0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new Je(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rI("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const A4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(Te(!!t),typeof t=="string"){let e=0;const n=A4.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ii(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="server_timestamp",sI="__type__",oI="__previous_value__",aI="__local_write_time__";function yg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sI])===null||n===void 0?void 0:n.stringValue)===iI}function sh(t){const e=t.mapValue.fields[oI];return yg(e)?sh(e):e}function Oa(t){const e=ri(t.mapValue.fields[aI].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}const hu="(default)";class Da{constructor(e,n){this.projectId=e,this.database=n||hu}static empty(){return new Da("","")}get isDefaultDatabase(){return this.database===hu}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="__type__",cI="__max__",Ql={mapValue:{fields:{__type__:{stringValue:cI}}}},uI="__vector__",du="value";function si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yg(t)?4:b4(t)?9007199254740991:R4(t)?10:11:oe()}function $n(t,e){if(t===e)return!0;const n=si(t);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oa(t).isEqual(Oa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ri(i.timestampValue),a=ri(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ii(i.bytesValue).isEqual(ii(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=$e(i.doubleValue),a=$e(s.doubleValue);return o===a?uu(o)===uu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(N0(o)!==N0(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!$n(o[c],a[c])))return!1;return!0}(t,e);default:return oe()}}function La(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function Hs(t,e){if(t===e)return 0;const n=si(t),r=si(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=$e(s.integerValue||s.doubleValue),c=$e(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return O0(t.timestampValue,e.timestampValue);case 4:return O0(Oa(t),Oa(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ii(s),c=ii(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=me(a[u],c[u]);if(h!==0)return h}return me(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=me($e(s.latitude),$e(o.latitude));return a!==0?a:me($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return D0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,h;const f=s.fields||{},g=o.fields||{},S=(a=f[du])===null||a===void 0?void 0:a.arrayValue,T=(c=g[du])===null||c===void 0?void 0:c.arrayValue,C=me(((u=S==null?void 0:S.values)===null||u===void 0?void 0:u.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:D0(S,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ql.mapValue&&o===Ql.mapValue)return 0;if(s===Ql.mapValue)return 1;if(o===Ql.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const g=me(c[f],h[f]);if(g!==0)return g;const S=Hs(a[c[f]],u[h[f]]);if(S!==0)return S}return me(c.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function O0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=ri(t),r=ri(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function D0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Hs(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function qs(t){return wp(t)}function wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=wp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${wp(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function wc(t){switch(si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sh(t);return e?16+wc(e):16;case 5:return 2*t.stringValue.length;case 6:return ii(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+wc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return pi(r.fields,(s,o)=>{i+=s.length+wc(o)}),i}(t.mapValue);default:throw oe()}}function L0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ep(t){return!!t&&"integerValue"in t}function vg(t){return!!t&&"arrayValue"in t}function M0(t){return!!t&&"nullValue"in t}function V0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ec(t){return!!t&&"mapValue"in t}function R4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lI])===null||n===void 0?void 0:n.stringValue)===uI}function sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ec(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(sa(this.value))}}function hI(t){const e=[];return pi(t.fields,(n,r)=>{const i=new ut([n]);if(Ec(r)){const s=hI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,le.min(),le.min(),le.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,le.min(),le.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,le.min(),le.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.position=e,this.inclusive=n}}function F0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Hs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function U0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function N4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{}class qe extends dI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new O4(e,n,r):n==="array-contains"?new M4(e,r):n==="in"?new V4(e,r):n==="not-in"?new F4(e,r):n==="array-contains-any"?new U4(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D4(e,r):new L4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hs(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(Hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends dI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Tn(e,n)}matches(e){return fI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fI(t){return t.op==="and"}function pI(t){return x4(t)&&fI(t)}function x4(t){for(const e of t.filters)if(e instanceof Tn)return!1;return!0}function Tp(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(pI(t))return t.filters.map(e=>Tp(e)).join(",");{const e=t.filters.map(n=>Tp(n)).join(",");return`${t.op}(${e})`}}function mI(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(t,e):t instanceof Tn?function(r,i){return i instanceof Tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mI(o,i.filters[a]),!0):!1}(t,e):void oe()}function gI(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(t):t instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(gI).join(" ,")+"}"}(t):"Filter"}class O4 extends qe{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class D4 extends qe{constructor(e,n){super(e,"in",n),this.keys=yI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L4 extends qe{constructor(e,n){super(e,"not-in",n),this.keys=yI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class M4 extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vg(n)&&La(n.arrayValue,this.value)}}class V4 extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&La(this.value.arrayValue,n)}}class F4 extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(La(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!La(this.value.arrayValue,n)}}class U4 extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>La(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function j0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new j4(t,e,n,r,i,s,o)}function _g(t){const e=ce(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qs(r)).join(",")),e.le=n}return e.le}function wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U0(t.startAt,e.startAt)&&U0(t.endAt,e.endAt)}function Sp(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function z4(t,e,n,r,i,s,o,a){return new tl(t,e,n,r,i,s,o,a)}function Eg(t){return new tl(t)}function z0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vI(t){return t.collectionGroup!==null}function oa(t){const e=ce(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new pu(s,r))}),n.has(ut.keyField().canonicalString())||e.he.push(new pu(ut.keyField(),r))}return e.he}function jn(t){const e=ce(t);return e.Pe||(e.Pe=$4(e,oa(t))),e.Pe}function $4(t,e){if(t.limitType==="F")return j0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pu(i.field,s)});const n=t.endAt?new fu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fu(t.startAt.position,t.startAt.inclusive):null;return j0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ip(t,e){const n=t.filters.concat([e]);return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pp(t,e,n){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return wg(jn(t),jn(e))&&t.limitType===e.limitType}function _I(t){return`${_g(jn(t))}|lt:${t.limitType}`}function os(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gI(i)).join(", ")}]`),ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qs(i)).join(",")),`Target(${r})`}(jn(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=F0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,oa(r),i)||r.endAt&&!function(o,a,c){const u=F0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,oa(r),i))}(t,e)}function B4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wI(t){return(e,n)=>{let r=!1;for(const i of oa(t)){const s=W4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function W4(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Hs(c,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=new Ue(ie.comparator);function vr(){return H4}const EI=new Ue(ie.comparator);function Wo(...t){let e=EI;for(const n of t)e=e.insert(n.key,n);return e}function TI(t){let e=EI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return aa()}function SI(){return aa()}function aa(){return new Yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const q4=new Ue(ie.comparator),K4=new Je(ie.comparator);function pe(...t){let e=K4;for(const n of t)e=e.add(n);return e}const G4=new Je(me);function Q4(){return G4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(e)?"-0":e}}function II(t){return{integerValue:""+t}}function Y4(t,e){return I4(e)?II(e):Tg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function X4(t,e,n){return t instanceof mu?function(i,s){const o={fields:{[sI]:{stringValue:iI},[aI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yg(s)&&(s=sh(s)),s&&(o.fields[oI]=s),{mapValue:o}}(n,e):t instanceof Ma?kI(t,e):t instanceof Va?AI(t,e):function(i,s){const o=PI(i,s),a=$0(o)+$0(i.Ie);return Ep(o)&&Ep(i.Ie)?II(a):Tg(i.serializer,a)}(t,e)}function J4(t,e,n){return t instanceof Ma?kI(t,e):t instanceof Va?AI(t,e):n}function PI(t,e){return t instanceof gu?function(r){return Ep(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mu extends lh{}class Ma extends lh{constructor(e){super(),this.elements=e}}function kI(t,e){const n=CI(e);for(const r of t.elements)n.some(i=>$n(i,r))||n.push(r);return{arrayValue:{values:n}}}class Va extends lh{constructor(e){super(),this.elements=e}}function AI(t,e){let n=CI(e);for(const r of t.elements)n=n.filter(i=>!$n(i,r));return{arrayValue:{values:n}}}class gu extends lh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function $0(t){return $e(t.integerValue||t.doubleValue)}function CI(t){return vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ma&&i instanceof Ma||r instanceof Va&&i instanceof Va?Ws(r.elements,i.elements,$n):r instanceof gu&&i instanceof gu?$n(r.Ie,i.Ie):r instanceof mu&&i instanceof mu}(t.transform,e.transform)}class eM{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ch{}function RI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sg(t.key,on.none()):new nl(t.key,t.data,on.none());{const n=t.data,r=Ft.empty();let i=new Je(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new mi(t.key,r,new Gt(i.toArray()),on.none())}}function tM(t,e,n){t instanceof nl?function(i,s,o){const a=i.value.clone(),c=W0(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mi?function(i,s,o){if(!Tc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=W0(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(bI(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function la(t,e,n,r){return t instanceof nl?function(s,o,a,c){if(!Tc(s.precondition,o))return a;const u=s.value.clone(),h=H0(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof mi?function(s,o,a,c){if(!Tc(s.precondition,o))return a;const u=H0(s.fieldTransforms,c,o),h=o.data;return h.setAll(bI(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Tc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PI(r.transform,i||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,s))}return n||null}function B0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ws(r,i,(s,o)=>Z4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nl extends ch{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mi extends ch{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function W0(t,e,n){const r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,J4(o,a,n[i]))}return r}function H0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,X4(s,o,e))}return r}class Sg extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rM extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=la(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=la(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=RI(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,r)=>B0(n,r))&&Ws(this.baseMutations,e.baseMutations,(n,r)=>B0(n,r))}}class Ig{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return q4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ig(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,ye;function aM(t){switch(t){case $.OK:return oe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return oe()}}function NI(t){if(t===void 0)return yr("GRPC error has no .code"),$.UNKNOWN;switch(t){case We.OK:return $.OK;case We.CANCELLED:return $.CANCELLED;case We.UNKNOWN:return $.UNKNOWN;case We.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case We.INTERNAL:return $.INTERNAL;case We.UNAVAILABLE:return $.UNAVAILABLE;case We.UNAUTHENTICATED:return $.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case We.NOT_FOUND:return $.NOT_FOUND;case We.ALREADY_EXISTS:return $.ALREADY_EXISTS;case We.PERMISSION_DENIED:return $.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case We.ABORTED:return $.ABORTED;case We.OUT_OF_RANGE:return $.OUT_OF_RANGE;case We.UNIMPLEMENTED:return $.UNIMPLEMENTED;case We.DATA_LOSS:return $.DATA_LOSS;default:return oe()}}(ye=We||(We={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new Gr([4294967295,4294967295],0);function q0(t){const e=lM().encode(t),n=new KS;return n.update(e),new Uint8Array(n.digest())}function K0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gr([n,r],0),new Gr([i,s],0)]}class Pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Gr.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Gr.fromNumber(r)));return i.compare(cM)===1&&(i=new Gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=q0(e),[r,i]=K0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Pg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=q0(e),[r,i]=K0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uh(le.min(),i,new Ue(me),vr(),pe())}}class rl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class xI{constructor(e,n){this.targetId=e,this.ge=n}}class OI{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G0{constructor(){this.pe=0,this.ye=Q0(),this.we=ft.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=pe(),n=pe(),r=pe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new rl(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=Q0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Te(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class uM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vr(),this.$e=Yl(),this.Ke=Yl(),this.Ue=new Ue(me)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Sp(s))if(r===0){const o=new ie(s.path);this.ze(n,o,Tt.newNoDocument(o,le.min()))}else Te(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),c=a?this.nt(a,e,o):1;if(c!==0){this.Ye(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ii(r).toUint8Array()}catch(c){if(c instanceof rI)return Bs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Pg(o,i,s)}catch(c){return Bs(c instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Sp(a.target)){const c=new ie(a.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,Tt.newNoDocument(c,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=pe();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Xe(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new uh(e,n,this.Ue,this.Qe,r);return this.Qe=vr(),this.$e=Yl(),this.Ke=Yl(),this.Ue=new Ue(me),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new G0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Je(me),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Je(me),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new G0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Yl(){return new Ue(ie.comparator)}function Q0(){return new Ue(ie.comparator)}const hM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),dM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),fM=(()=>({and:"AND",or:"OR"}))();class pM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kp(t,e){return t.useProto3Json||ih(e)?e:{value:e}}function yu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mM(t,e){return yu(t,e.toTimestamp())}function zn(t){return Te(!!t),le.fromTimestamp(function(n){const r=ri(n);return new Xe(r.seconds,r.nanos)}(t))}function kg(t,e){return Ap(t,e).canonicalString()}function Ap(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LI(t){const e=Ne.fromString(t);return Te(jI(e)),e}function Cp(t,e){return kg(t.databaseId,e.path)}function zd(t,e){const n=LI(e);if(n.get(1)!==t.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(VI(n))}function MI(t,e){return kg(t.databaseId,e)}function gM(t){const e=LI(t);return e.length===4?Ne.emptyPath():VI(e)}function Rp(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VI(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Y0(t,e,n){return{name:Cp(t,e),fields:n.value.mapValue.fields}}function yM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Te(h===void 0||typeof h=="string"),ft.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?$.UNKNOWN:NI(u.code);return new J(h,u.message||"")}(o);n=new OI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zd(t,r.document.name),s=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):le.min(),a=new Ft({mapValue:{fields:r.document.fields}}),c=Tt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Sc(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zd(t,r.document),s=r.readTime?zn(r.readTime):le.min(),o=Tt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Sc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zd(t,r.document),s=r.removedTargetIds||[];n=new Sc([],s,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new oM(i,s),a=r.targetId;n=new xI(a,o)}}return n}function vM(t,e){let n;if(e instanceof nl)n={update:Y0(t,e.key,e.value)};else if(e instanceof Sg)n={delete:Cp(t,e.key)};else if(e instanceof mi)n={update:Y0(t,e.key,e.data),updateMask:AM(e.fieldMask)};else{if(!(e instanceof rM))return oe();n={verify:Cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ma)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Va)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function _M(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zn(i.updateTime):zn(s);return o.isEqual(le.min())&&(o=zn(s)),new eM(o,i.transformResults||[])}(n,e))):[]}function wM(t,e){return{documents:[MI(t,e.path)]}}function EM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MI(t,i);const s=function(u){if(u.length!==0)return UI(Tn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:as(g.field),direction:IM(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=kp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function TM(t){let e=gM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const g=FI(f);return g instanceof Tn&&pI(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(T){return new pu(ls(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,ih(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){const g=!!f.before,S=f.values||[];return new fu(S,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,S=f.values||[];return new fu(S,g)}(n.endAt)),z4(e,i,o,s,a,"F",c,u)}function SM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ls(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ls(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ls(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ls(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(r=>FI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function IM(t){return hM[t]}function PM(t){return dM[t]}function kM(t){return fM[t]}function as(t){return{fieldPath:t.canonicalString()}}function ls(t){return ut.fromServerFormat(t.fieldPath)}function UI(t){return t instanceof qe?function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NAN"}};if(M0(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NAN"}};if(M0(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(n.field),op:PM(n.op),value:n.value}}}(t):t instanceof Tn?function(n){const r=n.getFilters().map(i=>UI(i));return r.length===1?r[0]:{compositeFilter:{op:kM(n.op),filters:r}}}(t):oe()}function AM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,s=le.min(),o=le.min(),a=ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.Tt=e}}function RM(t){const e=TM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.Tn=new NM}addToCollectionParentIndex(e,n){return this.Tn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ni.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class NM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zI=41943040;class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(zI,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ks(0)}static Un(){return new Ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="LruGarbageCollector",xM=1048576;function Z0([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class OM{constructor(e){this.Hn=e,this.buffer=new Je(Z0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Z0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Y(J0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?Y(J0,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.er(3e5)})}}class LM{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(rh.ae);const r=new OM(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(X0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ss()<=fe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function MM(t,e){return new LM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.changes=new Yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&la(r.mutation,i,Gt.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wo();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vr();const o=aa(),a=function(){return aa()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof mi)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),la(h.mutation,u,h.mutation.getFieldMask(),Xe.now())):o.set(u.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new FM(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=aa();let i=new Ue((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Gt.empty();h=a.applyToLocalView(u,h),r.set(c,h);const f=(i.get(a.batchId)||pe()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=SI();h.forEach(g=>{if(!s.has(g)){const S=RI(n.get(g),r.get(g));S!==null&&f.set(g,S),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Ai());let a=xa,c=s;return o.next(u=>z.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,pe())).next(h=>({batchId:a,changes:TI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Wo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wo();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,c=>{const u=function(f,g){return new tl(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Tt.newInvalidDocument(h)))});let a=Wo();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&la(h.mutation,u,Gt.empty(),Xe.now()),ah(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:RM(i.bundledQuery),readTime:zn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.overlays=new Ue(ie.comparator),this.Rr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Ai(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Ai(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ai(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return z.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sM(n,r));let s=this.Rr.get(n);s===void 0&&(s=pe(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.Vr=new Je(tt.mr),this.gr=new Je(tt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new tt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new tt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new ie(new Ne([])),r=new tt(n,e),i=new tt(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ie(new Ne([])),r=new tt(n,e),i=new tt(n,e+1);let s=pe();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ie.comparator(e.key,n.key)||me(e.Cr,n.Cr)}static pr(e,n){return me(e.Cr,n.Cr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Je(tt.mr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?gg:this.Fr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(me);return n.forEach(i=>{const s=new tt(i,0),o=new tt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new tt(new ie(s),0);let a=new Je(me);return this.Mr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Cr)),!0)},o),z.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return z.forEach(n.mutations,i=>{const s=new tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new tt(n,0),i=this.Mr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.kr=e,this.docs=function(){return new Ue(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vr();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||w4(_4(h),r)<=0||(i.has(h.key)||ah(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}qr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HM(this)}getSize(e){return z.resolve(this.size)}}class HM extends VM{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.persistence=e,this.Qr=new Yi(n=>_g(n),wg),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ag,this.targetCount=0,this.Ur=Ks.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.zn(n),z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new rh(0),this.zr=!1,this.zr=!0,this.jr=new $M,this.referenceDelegate=e(this),this.Hr=new qM(this),this.indexManager=new bM,this.remoteDocumentCache=function(i){return new WM(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new CM(n),this.Yr=new jM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new BM(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new KM(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class KM extends T4{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.ti=new Ag,this.ni=null}static ri(e){return new Cg(e)}get ii(){if(this.ni)return this.ni;throw oe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),z.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.ii,r=>{const i=ie.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return z.or([()=>z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vu{constructor(e,n){this.persistence=e,this.oi=new Yi(r=>P4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=MM(this,n)}static ri(e,n){return new vu(e,n)}Zr(){}Xr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return z.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wc(e.data.value)),n}ar(e,n,r){return z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Rg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Nx()?8:S4(kt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new GM;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(ss()<=fe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),z.resolve()):(ss()<=fe.DEBUG&&Y("QueryEngine","Query:",os(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ss()<=fe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):z.resolve())}rs(e,n){if(z0(n))return z.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pp(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.cs(n,a);return this.ls(n,u,o,c.readTime)?this.rs(e,Pp(n,null,"F")):this.hs(e,u,n,c)}))})))}ss(e,n,r,i){return z0(n)||i.isEqual(le.min())?z.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?z.resolve(null):(ss()<=fe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),os(n)),this.hs(e,o,n,v4(i,xa)).next(a=>a))})}cs(e,n){let r=new Je(wI(e));return n.forEach((i,s)=>{ah(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return ss()<=fe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",os(n)),this.ns.getDocumentsMatchingQuery(e,n,ni.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="LocalStore",YM=3e8;class XM{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ue(me),this.Is=new Yi(s=>_g(s),wg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function JM(t,e,n,r){return new XM(t,e,n,r)}async function BI(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=pe();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function ZM(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,g=f.keys();let S=z.resolve();return g.forEach(T=>{S=S.next(()=>h.getEntry(c,T)).next(C=>{const P=u.docVersions.get(T);Te(P!==null),C.version.compareTo(P)<0&&(f.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),h.addEntry(C)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WI(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function eV(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((h,f)=>{const g=i.get(f);if(!g)return;a.push(n.Hr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,h.addedDocuments,f)));let S=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?S=S.withResumeToken(ft.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(h.resumeToken,r)),i=i.insert(f,S),function(C,P,y){return C.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=YM?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(g,S,h)&&a.push(n.Hr.updateTargetData(s,S))});let c=vr(),u=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(tV(s,o,e.documentUpdates).next(h=>{c=h.Vs,u=h.fs})),!r.isEqual(le.min())){const h=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ts=i,s))}function tV(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vr();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Y(bg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Vs:o,fs:i}})}function nV(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rV(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function bp(t,e,n){const r=ce(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!oo(o))throw o;Y(bg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function ew(t,e,n){const r=ce(t);let i=le.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=ce(c),g=f.Is.get(h);return g!==void 0?z.resolve(f.Ts.get(g)):f.Hr.getTargetData(u,h)}(r,o,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:pe())).next(a=>(iV(r,B4(e),a),{documents:a,gs:s})))}function iV(t,e,n){let r=t.Es.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class tw{constructor(){this.activeTargetIds=Q4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sV{constructor(){this.ho=new tw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="ConnectivityMonitor";class rw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Y(nw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Y(nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=null;function Np(){return Xl===null?Xl=function(){return 268435456+Math.round(2147483648*Math.random())}():Xl++,"0x"+Xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",aV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===hu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){const o=Np(),a=this.So(e,n.toUriEncodedString());Y($d,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,a,c,r).then(u=>(Y($d,`Received RPC '${e}' ${o}: `,u),u),u=>{throw Bs($d,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){const r=aV[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class uV extends lV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Np();return new Promise((o,a)=>{const c=new GS;c.setWithCredentials(!0),c.listenOnce(QS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _c.NO_ERROR:const h=c.getResponseJson();Y(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case _c.TIMEOUT:Y(_t,`RPC '${e}' ${s} timed out`),a(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const f=c.getStatus();if(Y(_t,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const T=function(P){const y=P.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(S.status);a(new J(T,S.message))}else a(new J($.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new J($.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Y(_t,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Y(_t,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Wo(e,n,r){const i=Np(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=JS(),a=XS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");Y(_t,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=o.createWebChannel(h,c);let g=!1,S=!1;const T=new cV({Fo:P=>{S?Y(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(Y(_t,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Y(_t,`RPC '${e}' stream ${i} sending:`,P),f.send(P))},Mo:()=>f.close()}),C=(P,y,v)=>{P.listen(y,_=>{try{v(_)}catch(x){setTimeout(()=>{throw x},0)}})};return C(f,Bo.EventType.OPEN,()=>{S||(Y(_t,`RPC '${e}' stream ${i} transport opened.`),T.Qo())}),C(f,Bo.EventType.CLOSE,()=>{S||(S=!0,Y(_t,`RPC '${e}' stream ${i} transport closed`),T.Ko())}),C(f,Bo.EventType.ERROR,P=>{S||(S=!0,Bs(_t,`RPC '${e}' stream ${i} transport errored:`,P),T.Ko(new J($.UNAVAILABLE,"The operation could not be completed")))}),C(f,Bo.EventType.MESSAGE,P=>{var y;if(!S){const v=P.data[0];Te(!!v);const _=v,x=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(x){Y(_t,`RPC '${e}' stream ${i} received error:`,x);const b=x.status;let D=function(k){const R=We[k];if(R!==void 0)return NI(R)}(b),I=x.message;D===void 0&&(D=$.INTERNAL,I="Unknown error status: "+b+" with message "+x.message),S=!0,T.Ko(new J(D,I)),f.close()}else Y(_t,`RPC '${e}' stream ${i} received:`,v),T.Uo(v)}}),C(a,YS.STAT_EVENT,P=>{P.stat===_p.PROXY?Y(_t,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===_p.NOPROXY&&Y(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){return new pM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="PersistentStream";class qI{constructor(e,n,r,i,s,o,a,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new HI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Y(iw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Y(iw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hV extends qI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=yM(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?zn(o.readTime):le.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Rp(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Sp(c)?{documents:wM(s,c)}:{query:EM(s,c).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DI(s,o.resumeToken);const u=kp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=yu(s,o.snapshotVersion.toTimestamp());const u=kp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=SM(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Rp(this.serializer),n.removeTarget=e,this.I_(n)}}class dV extends qI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=_M(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Rp(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vM(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{}class pV extends fV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,Ap(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J($.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Ap(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J($.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yr(n),this.N_=!1):Y("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class gV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Xi(this)&&(Y(Wi,"Restarting streams for network reachability change."),await async function(c){const u=ce(c);u.W_.add(4),await il(u),u.j_.set("Unknown"),u.W_.delete(4),await dh(u)}(this))})}),this.j_=new mV(r,i)}}async function dh(t){if(Xi(t))for(const e of t.G_)await e(!0)}async function il(t){for(const e of t.G_)await e(!1)}function KI(t,e){const n=ce(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Dg(n)?Og(n):ao(n).c_()&&xg(n,e))}function Ng(t,e){const n=ce(t),r=ao(n);n.U_.delete(e),r.c_()&&GI(n,e),n.U_.size===0&&(r.c_()?r.P_():Xi(n)&&n.j_.set("Unknown"))}function xg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ao(t).y_(e)}function GI(t,e){t.H_.Ne(e),ao(t).w_(e)}function Og(t){t.H_=new uM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ao(t).start(),t.j_.B_()}function Dg(t){return Xi(t)&&!ao(t).u_()&&t.U_.size>0}function Xi(t){return ce(t).W_.size===0}function QI(t){t.H_=void 0}async function yV(t){t.j_.set("Online")}async function vV(t){t.U_.forEach((e,n)=>{xg(t,e)})}async function _V(t,e){QI(t),Dg(t)?(t.j_.q_(e),Og(t)):t.j_.set("Unknown")}async function wV(t,e,n){if(t.j_.set("Online"),e instanceof OI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Y(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _u(t,r)}else if(e instanceof Sc?t.H_.We(e):e instanceof xI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(le.min()))try{const r=await WI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.U_.get(u);h&&s.U_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.U_.get(c);if(!h)return;s.U_.set(c,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),GI(s,c);const f=new Vr(h.target,c,u,h.sequenceNumber);xg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(Wi,"Failed to raise snapshot:",r),await _u(t,r)}}async function _u(t,e,n){if(!oo(e))throw e;t.W_.add(1),await il(t),t.j_.set("Offline"),n||(n=()=>WI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Wi,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await dh(t)})}function YI(t,e){return e().catch(n=>_u(t,n,e))}async function fh(t){const e=ce(t),n=oi(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:gg;for(;EV(e);)try{const i=await nV(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,TV(e,i)}catch(i){await _u(e,i)}XI(e)&&JI(e)}function EV(t){return Xi(t)&&t.K_.length<10}function TV(t,e){t.K_.push(e);const n=oi(t);n.c_()&&n.b_&&n.S_(e.mutations)}function XI(t){return Xi(t)&&!oi(t).u_()&&t.K_.length>0}function JI(t){oi(t).start()}async function SV(t){oi(t).C_()}async function IV(t){const e=oi(t);for(const n of t.K_)e.S_(n.mutations)}async function PV(t,e,n){const r=t.K_.shift(),i=Ig.from(r,e,n);await YI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fh(t)}async function kV(t,e){e&&oi(t).b_&&await async function(r,i){if(function(o){return aM(o)&&o!==$.ABORTED}(i.code)){const s=r.K_.shift();oi(r).h_(),await YI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fh(r)}}(t,e),XI(t)&&JI(t)}async function sw(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Y(Wi,"RemoteStore received new credentials");const r=Xi(n);n.W_.add(3),await il(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await dh(n)}async function AV(t,e){const n=ce(t);e?(n.W_.delete(2),await dh(n)):e||(n.W_.add(2),await il(n),n.j_.set("Unknown"))}function ao(t){return t.J_||(t.J_=function(n,r,i){const s=ce(n);return s.M_(),new hV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:yV.bind(null,t),No:vV.bind(null,t),Lo:_V.bind(null,t),p_:wV.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Dg(t)?Og(t):t.j_.set("Unknown")):(await t.J_.stop(),QI(t))})),t.J_}function oi(t){return t.Y_||(t.Y_=function(n,r,i){const s=ce(n);return s.M_(),new dV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:SV.bind(null,t),Lo:kV.bind(null,t),D_:IV.bind(null,t),v_:PV.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await fh(t)):(await t.Y_.stop(),t.K_.length>0&&(Y(Wi,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Lg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(t,e){if(yr("AsyncQueue",`${e}: ${t}`),oo(t))return new J($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Wo(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ds;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.Z_=new Ue(ie.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):oe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gs{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gs(e,n,Ds.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class RV{constructor(){this.queries=aw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=aw(),s.forEach((o,a)=>{for(const c of a.ta)c.onError(r)})})(this,new J($.ABORTED,"Firestore shutting down"))}}function aw(){return new Yi(t=>_I(t),oh)}async function ZI(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new CV,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Mg(o,`Initialization of query '${os(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&Vg(n)}async function eP(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bV(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&Vg(n)}function NV(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function Vg(t){t.ia.forEach(e=>{e.next()})}var xp,lw;(lw=xp||(xp={}))._a="default",lw.Cache="cache";class tP{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.key=e}}class rP{constructor(e){this.key=e}}class xV{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pe(),this.mutatedKeys=pe(),this.ya=wI(e),this.wa=new Ds(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new ow,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const g=i.get(h),S=ah(this.query,f)?f:null,T=!!g&&this.mutatedKeys.has(g.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;g&&S?g.data.isEqual(S.data)?T!==C&&(r.track({type:3,doc:S}),P=!0):this.va(g,S)||(r.track({type:2,doc:S}),P=!0,(c&&this.ya(S,c)>0||u&&this.ya(S,u)<0)&&(a=!0)):!g&&S?(r.track({type:0,doc:S}),P=!0):g&&!S&&(r.track({type:1,doc:g}),P=!0,(c||u)&&(a=!0)),P&&(S?(o=o.add(S),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,f)=>function(S,T){const C=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return C(S)-C(T)}(h.type,f.type)||this.ya(h.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,u=c!==this.ga;return this.ga=c,o.length!==0||u?{snapshot:new Gs(this.query,e.wa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ow,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new rP(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new nP(r))}),n}Oa(e){this.fa=e.gs,this.pa=pe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Gs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fg="SyncEngine";class OV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DV{constructor(e){this.key=e,this.Ba=!1}}class LV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Yi(a=>_I(a),oh),this.qa=new Map,this.Qa=new Set,this.$a=new Ue(ie.comparator),this.Ka=new Map,this.Ua=new Ag,this.Wa={},this.Ga=new Map,this.za=Ks.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MV(t,e,n=!0){const r=cP(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await iP(r,e,n,!0),i}async function VV(t,e){const n=cP(t);await iP(n,e,!0,!1)}async function iP(t,e,n,r){const i=await rV(t.localStore,jn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await FV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KI(t.remoteStore,i),a}async function FV(t,e,n,r,i){t.Ha=(f,g,S)=>async function(C,P,y,v){let _=P.view.Sa(y);_.ls&&(_=await ew(C.localStore,P.query,!1).then(({documents:I})=>P.view.Sa(I,_)));const x=v&&v.targetChanges.get(P.targetId),b=v&&v.targetMismatches.get(P.targetId)!=null,D=P.view.applyChanges(_,C.isPrimaryClient,x,b);return uw(C,P.targetId,D.Ma),D.snapshot}(t,f,g,S);const s=await ew(t.localStore,e,!0),o=new xV(e,s.gs),a=o.Sa(s.documents),c=rl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);uw(t,n,u.Ma);const h=new OV(e,n,o);return t.ka.set(e,h),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function UV(t,e,n){const r=ce(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!oh(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ng(r.remoteStore,i.targetId),Op(r,i.targetId)}).catch(so)):(Op(r,i.targetId),await bp(r.localStore,i.targetId,!0))}async function jV(t,e){const n=ce(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ng(n.remoteStore,r.targetId))}async function zV(t,e,n){const r=GV(t);try{const i=await function(o,a){const c=ce(o),u=Xe.now(),h=a.reduce((S,T)=>S.add(T.key),pe());let f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",S=>{let T=vr(),C=pe();return c.ds.getEntries(S,h).next(P=>{T=P,T.forEach((y,v)=>{v.isValidDocument()||(C=C.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(S,T)).next(P=>{f=P;const y=[];for(const v of a){const _=nM(v,f.get(v.key).overlayedDocument);_!=null&&y.push(new mi(v.key,_,hI(_.value.mapValue),on.exists(!0)))}return c.mutationQueue.addMutationBatch(S,u,y,a)}).next(P=>{g=P;const y=P.applyToLocalDocumentSet(f,C);return c.documentOverlayCache.saveOverlays(S,P.batchId,y)})}).then(()=>({batchId:g.batchId,changes:TI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Wa[o.currentUser.toKey()];u||(u=new Ue(me)),u=u.insert(a,c),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),await sl(r,i.changes),await fh(r.remoteStore)}catch(i){const s=Mg(i,"Failed to persist write");n.reject(s)}}async function sP(t,e){const n=ce(t);try{const r=await eV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Te(o.Ba):i.removedDocuments.size>0&&(Te(o.Ba),o.Ba=!1))}),await sl(n,r,e)}catch(r){await so(r)}}function cw(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=ce(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const g of f.ta)g.sa(a)&&(u=!0)}),u&&Vg(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $V(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Ue(ie.comparator);o=o.insert(s,Tt.newNoDocument(s,le.min()));const a=pe().add(s),c=new uh(le.min(),new Map,new Ue(me),o,a);await sP(r,c),r.$a=r.$a.remove(s),r.Ka.delete(e),Ug(r)}else await bp(r.localStore,e,!1).then(()=>Op(r,e,n)).catch(so)}async function BV(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await ZM(n.localStore,e);aP(n,r,null),oP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sl(n,i)}catch(i){await so(i)}}async function WV(t,e,n){const r=ce(t);try{const i=await function(o,a){const c=ce(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Te(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);aP(r,e,n),oP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sl(r,i)}catch(i){await so(i)}}function oP(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function aP(t,e,n){const r=ce(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Op(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||lP(t,r)})}function lP(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Ng(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Ug(t))}function uw(t,e,n){for(const r of n)r instanceof nP?(t.Ua.addReference(r.key,e),HV(t,r)):r instanceof rP?(Y(Fg,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||lP(t,r.key)):oe()}function HV(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Y(Fg,"New document in limbo: "+n),t.Qa.add(r),Ug(t))}function Ug(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ie(Ne.fromString(e)),r=t.za.next();t.Ka.set(r,new DV(n)),t.$a=t.$a.insert(n,r),KI(t.remoteStore,new Vr(jn(Eg(n.path)),r,"TargetPurposeLimboResolution",rh.ae))}}async function sl(t,e,n){const r=ce(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,c)=>{o.push(r.Ha(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Rg.Yi(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.La.p_(i),await async function(c,u){const h=ce(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,g=>z.forEach(g.Hi,S=>h.persistence.referenceDelegate.addReference(f,g.targetId,S)).next(()=>z.forEach(g.Ji,S=>h.persistence.referenceDelegate.removeReference(f,g.targetId,S)))))}catch(f){if(!oo(f))throw f;Y(bg,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const S=h.Ts.get(g),T=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(T);h.Ts=h.Ts.insert(g,C)}}}(r.localStore,s))}async function qV(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Y(Fg,"User change. New user:",e.toKey());const r=await BI(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(c=>{c.reject(new J($.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sl(n,r.Rs)}}function KV(t,e){const n=ce(t),r=n.Ka.get(e);if(r&&r.Ba)return pe().add(r.key);{let i=pe();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function cP(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$V.bind(null,e),e.La.p_=bV.bind(null,e.eventManager),e.La.Ja=NV.bind(null,e.eventManager),e}function GV(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WV.bind(null,e),e}class wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return JM(this.persistence,new QM,e.initialUser,this.serializer)}Xa(e){return new $I(Cg.ri,this.serializer)}Za(e){return new sV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wu.provider={build:()=>new wu};class QV extends wu{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Te(this.persistence.referenceDelegate instanceof vu);const r=this.persistence.referenceDelegate.garbageCollector;return new DM(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new $I(r=>vu.ri(r,n),this.serializer)}}class Dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qV.bind(null,this.syncEngine),await AV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RV}()}createDatastore(e){const n=hh(e.databaseInfo.databaseId),r=function(s){return new uV(s)}(e.databaseInfo);return function(s,o,a,c){return new pV(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new gV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cw(this.syncEngine,n,0),function(){return rw.D()?new rw:new oV}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,h){const f=new LV(i,s,o,a,c,u);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);Y(Wi,"RemoteStore shutting down."),s.W_.add(5),await il(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dp.provider={build:()=>new Dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="FirestoreClient";class YV{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=eI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(ai,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(ai,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wd(t,e){t.asyncQueue.verifyOperationInProgress(),Y(ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XV(t);Y(ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sw(e.remoteStore,i)),t._onlineComponents=e}async function XV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(ai,"Using user provided OfflineComponentProvider");try{await Wd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await Wd(t,new wu)}}else Y(ai,"Using default OfflineComponentProvider"),await Wd(t,new QV(void 0));return t._offlineComponents}async function hP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(ai,"Using user provided OnlineComponentProvider"),await hw(t,t._uninitializedComponentsProvider._online)):(Y(ai,"Using default OnlineComponentProvider"),await hw(t,new Dp))),t._onlineComponents}function JV(t){return hP(t).then(e=>e.syncEngine)}async function dP(t){const e=await hP(t),n=e.eventManager;return n.onListen=MV.bind(null,e.syncEngine),n.onUnlisten=UV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jV.bind(null,e.syncEngine),n}function ZV(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new uP({next:g=>{h.su(),o.enqueueAndForget(()=>eP(s,f));const S=g.docs.has(a);!S&&g.fromCache?u.reject(new J($.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&g.fromCache&&c&&c.source==="server"?u.reject(new J($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new tP(Eg(a.path),h,{includeMetadataChanges:!0,Ta:!0});return ZI(s,f)}(await dP(t),t.asyncQueue,e,n,r)),r.promise}function eF(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new uP({next:g=>{h.su(),o.enqueueAndForget(()=>eP(s,f)),g.fromCache&&c.source==="server"?u.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new tP(a,h,{includeMetadataChanges:!0,Ta:!0});return ZI(s,f)}(await dP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tF(t,e,n,r){if(e===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fw(t){if(!ie.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pw(t){if(ie.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ph(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(t);throw new J($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="firestore.googleapis.com",mw=!0;class gw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mP,this.ssl=mw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xM)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u4;switch(r.type){case"firstParty":return new p4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dw.get(n);r&&(Y("ComponentProvider","Removing Datastore"),dw.delete(n),r.terminate())}(this),Promise.resolve()}}function nF(t,e,n,r={}){var i;const s=(t=Sn(t,mh))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==mP&&s.host!==a&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Ui(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=wt.MOCK_USER;else{u=oS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new wt(f)}t._authCredentials=new h4(new ZS(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class Qr extends lo{constructor(e,n,r){super(e,n,Eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ie(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function Pe(t,e,...n){if(t=it(t),pP("collection","path",e),t instanceof mh){const r=Ne.fromString(e,...n);return pw(r),new Qr(t,null,r)}{if(!(t instanceof Ot||t instanceof Qr))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return pw(r),new Qr(t.firestore,null,r)}}function ke(t,e,...n){if(t=it(t),arguments.length===1&&(e=eI.newId()),pP("doc","path",e),t instanceof mh){const r=Ne.fromString(e,...n);return fw(r),new Ot(t,null,new ie(r))}{if(!(t instanceof Ot||t instanceof Qr))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return fw(r),new Ot(t.firestore,t instanceof Qr?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="AsyncQueue";class vw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new HI(this,"async_queue_retry"),this.bu=()=>{const r=Bd();r&&Y(yw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=Bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new or;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!oo(e))throw e;Y(yw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Lg.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&oe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ji extends mh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vw(e),this._firestoreClient=void 0,await e}}}function Zi(t,e){const n=typeof t=="object"?t:sg(),r=typeof t=="string"?t:e||hu,i=Zu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rS("firestore");s&&nF(i,...s)}return i}function jg(t){if(t._terminated)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rF(t),t._firestoreClient}function rF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,h){return new C4(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fP(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new YV(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(ft.fromBase64String(e))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=/^__.*__$/;class sF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new nl(e,this.data,n,this.fieldTransforms)}}class gP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class Wg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Eu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(yP(this.Lu)&&iF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class oF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hh(e)}ju(e,n,r,i=!1){return new Wg({Lu:e,methodName:n,zu:r,path:ut.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(t){const e=t._freezeSettings(),n=hh(t._databaseId);return new oF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vP(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);Hg("Data must be an object, but it was:",o,r);const a=_P(r,o);let c,u;if(s.merge)c=new Gt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const g=Lp(e,f,n);if(!o.contains(g))throw new J($.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);EP(h,g)||h.push(g)}c=new Gt(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new sF(new Ft(a),c,u)}class vh extends zg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function aF(t,e,n,r){const i=t.ju(1,e,n);Hg("Data must be an object, but it was:",i,r);const s=[],o=Ft.empty();pi(r,(c,u)=>{const h=qg(e,c,n);u=it(u);const f=i.Ku(h);if(u instanceof vh)s.push(h);else{const g=ol(u,f);g!=null&&(s.push(h),o.set(h,g))}});const a=new Gt(s);return new gP(o,a,i.fieldTransforms)}function lF(t,e,n,r,i,s){const o=t.ju(1,e,n),a=[Lp(e,r,n)],c=[i];if(s.length%2!=0)throw new J($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Lp(e,s[g])),c.push(s[g+1]);const u=[],h=Ft.empty();for(let g=a.length-1;g>=0;--g)if(!EP(u,a[g])){const S=a[g];let T=c[g];T=it(T);const C=o.Ku(S);if(T instanceof vh)u.push(S);else{const P=ol(T,C);P!=null&&(u.push(S),h.set(S,P))}}const f=new Gt(u);return new gP(h,f,o.fieldTransforms)}function cF(t,e,n,r=!1){return ol(n,t.ju(r?4:3,e))}function ol(t,e){if(wP(t=it(t)))return Hg("Unsupported field value:",e,t),_P(t,e);if(t instanceof zg)return function(r,i){if(!yP(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=ol(a,i.Uu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xe.fromDate(r);return{timestampValue:yu(i.serializer,s)}}if(r instanceof Xe){const s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yu(i.serializer,s)}}if(r instanceof $g)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qs)return{bytesValue:DI(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bg)return function(o,a){return{mapValue:{fields:{[lI]:{stringValue:uI},[du]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return Tg(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ph(r)}`)}(t,e)}function _P(t,e){const n={};return nI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(t,(r,i)=>{const s=ol(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof $g||t instanceof Qs||t instanceof Ot||t instanceof zg||t instanceof Bg)}function Hg(t,e,n){if(!wP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ph(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Lp(t,e,n){if((e=it(e))instanceof gh)return e._internalPath;if(typeof e=="string")return qg(t,e);throw Eu("Field path arguments must be of type string or ",t,!1,void 0,n)}const uF=new RegExp("[~\\*/\\[\\]]");function qg(t,e,n){if(e.search(uF)>=0)throw Eu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gh(...e.split("."))._internalPath}catch{throw Eu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new J($.INVALID_ARGUMENT,a+t+c)}function EP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hF extends TP{data(){return super.data()}}function Kg(t,e){return typeof e=="string"?qg(t,e):e instanceof gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}class fF extends Gg{}function lt(t,e,...n){let r=[];e instanceof Gg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Qg).length,a=s.filter(c=>c instanceof _h).length;if(o>1||o>0&&a>0)throw new J($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _h extends fF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _h(e,n,r)}_apply(e){const n=this._parse(e);return SP(e._query,n),new lo(e.firestore,e.converter,Ip(e._query,n))}_parse(e){const n=yh(e.firestore);return function(s,o,a,c,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ww(f,h);const T=[];for(const C of f)T.push(_w(c,s,C));g={arrayValue:{values:T}}}else g=_w(c,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ww(f,h),g=cF(a,o,f,h==="in"||h==="not-in");return qe.create(u,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function be(t,e,n){const r=e,i=Kg("where",t);return _h._create(i,r,n)}class Qg extends Gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)SP(o,c),o=Ip(o,c)}(e._query,n),new lo(e.firestore,e.converter,Ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _w(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new J($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vI(e)&&n.indexOf("/")!==-1)throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!ie.isDocumentKey(r))throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L0(t,new ie(r))}if(n instanceof Ot)return L0(t,n._key);throw new J($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function ww(t,e){if(!Array.isArray(t)||t.length===0)throw new J($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SP(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pF{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[du].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>$e(o.doubleValue));return new Bg(s)}convertGeoPoint(e){return new $g($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oa(e));default:return null}}convertTimestamp(e){const n=ri(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);Te(jI(r));const i=new Da(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||yr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PP extends TP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ic extends PP{data(e={}){return super.data(e)}}class mF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ic(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new Ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new Ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:gF(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){t=Sn(t,Ot);const e=Sn(t.firestore,Ji);return ZV(jg(e),t._key).then(n=>vF(e,t,n))}class kP extends pF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function ct(t){t=Sn(t,lo);const e=Sn(t.firestore,Ji),n=jg(e),r=new kP(e);return dF(t._query),eF(n,t._query).then(i=>new mF(e,r,t,i))}function yF(t,e,n){t=Sn(t,Ot);const r=Sn(t.firestore,Ji),i=IP(t.converter,e,n);return wh(r,[vP(yh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,on.none())])}function Bn(t,e,n,...r){t=Sn(t,Ot);const i=Sn(t.firestore,Ji),s=yh(i);let o;return o=typeof(e=it(e))=="string"||e instanceof gh?lF(s,"updateDoc",t._key,e,n,r):aF(s,"updateDoc",t._key,e),wh(i,[o.toMutation(t._key,on.exists(!0))])}function Ni(t){return wh(Sn(t.firestore,Ji),[new Sg(t._key,on.none())])}function Wn(t,e){const n=Sn(t.firestore,Ji),r=ke(t),i=IP(t.converter,e);return wh(n,[vP(yh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,on.exists(!1))]).then(()=>r)}function wh(t,e){return function(r,i){const s=new or;return r.asyncQueue.enqueueAndForget(async()=>zV(await JV(r),i,s)),s.promise}(jg(t),e)}function vF(t,e,n){const r=n.docs.get(e._key),i=new kP(t);return new PP(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){io=i})(Gi),ji(new ti("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ji(new d4(r.getProvider("auth-internal")),new m4(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vn(I0,P0,e),Vn(I0,P0,"esm2017")})();const _F=()=>{const e=At().currentUser,[n,r]=N.useState([]),[i,s]=N.useState(!0),[o,a]=N.useState([]),[c,u]=N.useState([]),[h,f]=N.useState(!0),[g,S]=N.useState([]),T=Ze(),C=()=>{T("/settings")};N.useEffect(()=>{e&&(async()=>{const W=lt(Pe(ae,"my-patterns"),be("userId","==",e.uid)),re=await ct(W),Q=[];re.forEach(B=>{const K=B.data();K.title&&Q.push({id:B.id,title:K.title,published:K.published||!1})}),r(Q),s(!1),P()})()},[ae,e]),N.useEffect(()=>{e&&(async()=>{const W=lt(Pe(ae,"tracking-projects"),be("userId","==",e.uid)),re=await ct(W),Q=[];re.forEach(B=>{var Z;const K=B.data();Q.push({id:B.id,title:K.title,completed:K.completed||!1,lastEdited:((Z=K.lastEdited)==null?void 0:Z.toDate().toISOString())||""})}),a(Q),f(!1),P()})()},[e,ae]),N.useEffect(()=>{e&&(async()=>{const W=lt(Pe(ae,"saved-patterns"),be("userId","==",e.uid)),re=await ct(W),Q=[];re.forEach(B=>{const K=B.data();K.title&&Q.push({id:B.id,title:K.title,published:K.published||!1})}),u(Q)})()},[e,ae]);const P=j=>{const W=[];n.length>0&&W.push("Created Your First Pattern!"),o.filter(Q=>Q.completed).length>=5&&W.push("Project Prodigy!"),n.length>=10&&W.push("Master Creator!"),S(W)},[y,v]=N.useState("userprofile"),_=j=>{v(j)},x=async(j,W)=>{const re=ke(ae,"my-patterns",j);await Bn(re,{published:!W});const Q=n.map(B=>B.id===j?{...B,published:!W}:B);r(Q)},b=j=>{T(`/edit/${j}`)},D=async j=>{if(!e){alert("Please log in to track patterns.");return}try{const W=lt(Pe(ae,"tracking-projects"),be("userId","==",e.uid),be("patternId","==",j)),re=await ct(W);if(re.empty){const Q=ke(ae,"my-patterns",j),B=await ar(Q);if(!B.exists()){alert("Pattern not found.");return}const K=B.data(),Z={userId:e.uid,patternId:j,title:K==null?void 0:K.title,type:K==null?void 0:K.type,sections:K==null?void 0:K.sections,tags:K==null?void 0:K.tags,materials:K==null?void 0:K.materials,skillLevel:K==null?void 0:K.skillLevel,createdAt:new Date,goal:"",timeSpent:0,lastEdited:new Date,completed:!1,lastRowIndex:0},ge=await Wn(Pe(ae,"tracking-projects"),Z);console.log("Tracking Project ID:",ge.id),T(`/tracking/${ge.id}`)}else{const Q=re.docs[0];if(Q.data().completed){alert("You have already completed tracking this pattern.");return}const K=Q.id;T(`/tracking/${K}`)}}catch(W){console.error("Error handling track:",W),alert("There was an error tracking the pattern.")}},I=async j=>{try{const W=ke(ae,"tracking-projects",j);await Bn(W,{completed:!0,lastEdited:new Date}),a(re=>re.map(Q=>Q.id===j?{...Q,completed:!0,lastEdited:new Date().toISOString()}:Q)),alert("Project marked as completed!")}catch(W){console.error("Error marking project as completed:",W),alert("There was an error marking the project as completed.")}},w=j=>{T(`/tracking/${j}`)},k=j=>{T(`/tracking/${j}`)},R=async j=>{if(!e){alert("Please log in to delete patterns.");return}try{const W=ke(ae,"my-patterns",j);await Ni(W);const re=lt(Pe(ae,"tracking-projects"),be("patternId","==",j),be("userId","==",e.uid));(await ct(re)).forEach(async K=>{await Ni(K.ref)});const B=n.filter(K=>K.id!==j);r(B),alert("Pattern deleted successfully.")}catch(W){console.error("Error deleting pattern:",W),alert("There was an error deleting the pattern.")}},O=async j=>{try{const W=ke(ae,"saved-patterns",j);await Ni(W);const re=c.filter(Q=>Q.id!==j);u(re),alert("Pattern removed from saved patterns.")}catch(W){console.error("Error unsaving pattern:",W),alert("There was an error unsaving the pattern.")}},L=async j=>{if(!e){alert("Please log in to track patterns.");return}try{const W=ke(ae,"saved-patterns",j),re=await ar(W);if(!re.exists()){alert("Pattern not found."),console.log('Pattern not found in "saved-patterns" collection:',j);return}const Q=re.data();console.log("Pattern found:",Q);const B=lt(Pe(ae,"tracking-projects"),be("userId","==",e.uid),be("patternId","==",j)),K=await ct(B);if(K.empty){const Z={userId:e.uid,patternId:j,title:Q==null?void 0:Q.title,type:Q==null?void 0:Q.type,sections:Q==null?void 0:Q.sections,tags:Q==null?void 0:Q.tags,materials:Q==null?void 0:Q.materials,skillLevel:Q==null?void 0:Q.skillLevel,createdAt:new Date,goal:"",timeSpent:0,lastEdited:new Date,completed:!1,lastRowIndex:0},ge=await Wn(Pe(ae,"tracking-projects"),Z);T(`/tracking/${ge.id}`)}else{const Z=K.docs[0];if(Z.data().completed){alert("You have already completed tracking this pattern.");return}const ee=Z.id;T(`/tracking/${ee}`)}}catch(W){console.error("Error handling track pattern:",W),alert("There was an error tracking the pattern.")}},A=j=>{T(`/pattern/${j}`)};return V("div",{className:"profile-container",children:[V("div",{className:"profile-header",children:[m("h1",{children:"User Profile"}),m("div",{className:"setting-icon",onClick:C,children:m(Nt,{icon:lx,size:"2x"})})]}),V("div",{className:"profile-body",children:[V("div",{className:"badges-section",children:[m("h3",{children:"Badges:"}),m("div",{className:"badges-list",children:g.length>0?g.map((j,W)=>m("span",{className:"badge",children:j},W)):m("p",{children:"No badges earned yet."})})]}),V("div",{className:"my-projects",children:[m("h2",{children:"My Projects: "}),m("div",{className:"trackingProjects-container",children:h?m("p",{children:"Loading..."}):m("div",{className:"trackingProjects-column",children:o.length>0?m("ul",{children:o.map(j=>m("li",{children:V("div",{className:"trackingProject-item",children:[m("span",{children:j.title}),m("div",{className:"trackingProject-actions",children:j.completed?m("button",{onClick:()=>k(j.id),children:"View Project"}):V(Qk,{children:[m("button",{onClick:()=>w(j.id),children:"Continue Tracking"}),m("button",{onClick:()=>I(j.id),children:"Mark as Complete"})]})})]})},j.id))}):m("p",{children:"No tracking projects found."})})})]}),V("div",{className:"my-patterns",children:[m("h2",{children:"My Patterns: "}),m("div",{className:"myPatterns-container",children:i?m("p",{children:"Loading..."}):m("div",{className:"myPatterns-column",children:n.length>0?m("ul",{children:n.map(j=>{const W=o.some(re=>re.title===j.title&&re.completed);return m("li",{children:V("div",{className:"myPatterns-item",children:[m("span",{children:j.title}),V("div",{className:"myPatterns-columnbtns",children:[j.published?m("button",{onClick:()=>x(j.id,j.published),children:"Unpublish"}):m("button",{onClick:()=>b(j.id),children:"Edit"}),!W&&m("button",{onClick:()=>D(j.id),children:"Track"}),m("button",{onClick:()=>R(j.id),children:"Delete"})]})]})},j.id)})}):m("p",{children:"No patterns"})})})]}),V("div",{className:"my-patterns",children:[m("h2",{children:"Saved Patterns: "}),m("div",{className:"myPatterns-container",children:i?m("p",{children:"Loading..."}):m("div",{className:"myPatterns-column",children:c.length>0?m("ul",{children:c.map(j=>m("li",{children:V("div",{className:"myPatterns-item",children:[m("span",{children:j.title}),V("div",{className:"myPatterns-columnbtns",children:[m("button",{onClick:()=>L(j.id),children:"Track"}),m("button",{onClick:()=>O(j.id),children:"Unsave"}),m("button",{onClick:()=>A(j.id),children:"View"})]})]})},j.id))}):m("p",{children:"No saved patterns."})})})]})]}),m(el,{currentTab:y,onTabChange:_})]})},wF=()=>{const[t,e]=N.useState("light");N.useEffect(()=>{const r=localStorage.getItem("theme");r&&e(r)},[]);const n=()=>{const r=t==="light"?"dark":"light";e(r),localStorage.setItem("theme",r)};return N.useEffect(()=>{document.body.classList.remove("light","dark"),document.body.classList.add(t)},[t]),V("div",{className:"colourPref-container",children:[V("label",{children:[m("input",{type:"radio",value:"light-mode",checked:t==="light",onChange:n}),"Light"]}),V("label",{children:[m("input",{type:"radio",value:"dark-mode",checked:t==="dark",onChange:n}),"Dark"]})]})},EF=()=>{const[t,e]=N.useState("normal");N.useEffect(()=>{const r=localStorage.getItem("textSize");r&&e(r)},[]);const n=r=>{const i=r.target.value;e(i),localStorage.setItem("textSize",i)};return N.useEffect(()=>{switch(document.body.classList.remove("small-text","normal-text","large-text"),t){case"small":document.body.classList.add("small-text");break;case"normal":document.body.classList.add("normal-text");break;case"large":document.body.classList.add("large-text");break;default:document.body.classList.add("normal-text")}},[t]),V("div",{className:"textPref-container",style:{padding:"20px"},children:[V("label",{children:[m("input",{type:"radio",value:"small",checked:t==="small",onChange:n}),"Small"]}),V("label",{children:[m("input",{type:"radio",value:"normal",checked:t==="normal",onChange:n}),"Normal"]}),V("label",{children:[m("input",{type:"radio",value:"large",checked:t==="large",onChange:n}),"Large"]})]})},TF=()=>{const t=At(),e=Ze(),n=()=>{e("/privacypolicy")},r=()=>{e("/termsconditions")},i=()=>{e("/userprofile")},[s,o]=N.useState(null);return N.useEffect(()=>{const u=At().currentUser;u&&o(u.email)},[]),V("div",{className:"settings-container",children:[V("div",{className:"settings-header",children:[m("div",{className:"back-icon",onClick:i,children:m(Nt,{icon:Xu,size:"2x"})}),m("h1",{children:"Settings and Preferences"})]}),V("div",{className:"setting-body-preferences",children:[V("div",{className:"colour-mode-preference",children:[m("h3",{children:"Colour preference: "}),m(wF,{})]}),V("div",{className:"text-size-preference",children:[m("h3",{children:"Text-size preference: "}),m(EF,{})]}),m("div",{className:"notification-preference",children:m("h3",{children:"Notifications: "})}),V("div",{className:"personal-details",children:[m("h3",{children:"Account details: "}),s?V("p",{children:["Email: ",s]}):m("p",{children:"error..."})]})]}),V("div",{className:"setting-body-buttons",children:[m("button",{onClick:n,children:"Privacy Policy"}),m("button",{onClick:r,children:"Terms and Conditions"}),m("button",{children:"Change Password"}),m("button",{onClick:async()=>{try{await t.signOut(),window.location.href="/login"}catch(c){console.log(c)}},children:"Log Out"}),m("button",{children:"Delete Account"})]}),V("div",{className:"settings-footer",children:[m(Nt,{icon:sx,size:"2x"}),m("span",{children:"enquiries@yarnscape.com"})]})]})},SF=()=>{const t=Ze();return V("div",{className:"policy-container",children:[V("div",{className:"policy-header",children:[m("div",{className:"profile-icon",onClick:()=>{t("/settings")},children:m(Nt,{icon:Xu,size:"2x"})}),m("h1",{children:"YarnScape's Privacy Policy"}),m("h2",{children:"Effective Date: 01/03/2025"})]}),V("div",{className:"policy-body",children:[m("p",{children:'At YarnScape, we are committed to protecting and respecting your privacy. This Privacy Policy explains how we collect, use, and disclose information when you use our mobile app ("YarnScape"). By accessing or using the YarnScape app, you consent to the data practices described in this policy.'}),m("h3",{children:"1. Information We Collect"}),m("p",{children:"When you use YarnScape, we may collect the following:"}),m("p",{children:"[1.1] Personal Information: When you create an account, we collect information such as your name, email address, and password. We may also request additional personal information for user support purposes."}),m("p",{children:"[1.2] User-Generated Content: As part of the app’s functionality, you can create and store knitting/crochet patterns, track projects, and manage your yarn and tool inventory. This data is stored in your account and is used to improve your experience."}),m("p",{children:"[1.3] Device and Usage Information: We may collect information about your mobile device, operating system, IP address, device identifiers, browser type, and usage statistics (such as the features you use and the time spent within the app) for analytical purposes."}),m("h3",{children:"2. How We Use Your Information"}),m("p",{children:"We use the information we collect to provide, personalize, and improve the YarnScape app and services. Specifically, we may use your information for:"}),m("p",{children:". Creating and managing your user account"}),m("p",{children:". Providing customer support and responding to inquiries"}),m("p",{children:". Storing and managing your knitting/crochet patterns, projects, yarn, and tool inventory"}),m("p",{children:". Analyzing usage trends to improve the app’s features and functionality"}),m("p",{children:". Sending you updates, newsletters, and promotional content, with your consent"}),m("h3",{children:"3. Sharing Your Information"}),m("p",{children:"We do not share, sell, or rent your personal information to third parties, except in the following circumstances:"}),m("p",{children:"[3.1] Service Providers: We may share your information with third-party service providers who assist in operating the app, such as hosting services, data storage, analytics services, and customer support."}),m("p",{children:"[3.2] Legal Compliance: We may disclose your information if required to do so by law or if we believe that such action is necessary to comply with legal obligations, protect our rights or safety, or respond to requests from public authorities."}),m("h3",{children:"4. Data Security"}),m("p",{children:"We take reasonable measures to protect your personal information from unauthorized access, alteration, or destruction. However, please note that no data transmission over the internet can be guaranteed to be completely secure, and we cannot ensure the security of information you transmit to us."}),m("h3",{children:"5. Your Choices"}),m("p",{children:"[5.1] Account Information: You can update or delete your account information at any time by logging into your account within the app or contacting customer support."}),m("p",{children:"[5.2] Push Notifications: You can manage push notification preferences through your device settings. If you no longer wish to receive notifications from YarnScape, you can disable them in your device’s notification settings."}),m("h3",{children:"6. Data Retention"}),m("p",{children:"We retain your personal information and user-generated content as long as necessary to fulfill the purposes outlined in this Privacy Policy or as required by law. If you delete your account, we may retain some information for legal and administrative purposes, but we will not actively use your data for other purposes."}),m("h3",{children:"7. Changes To This Privacy Policy"}),m("p",{children:"We may update this Privacy Policy from time to time. When we do, we will post the updated policy within the app and update the effective date at the top of this page. We encourage you to review this policy periodically to stay informed about how we are protecting your information."}),m("h3",{children:"8. Contact Us"}),m("p",{children:"If you have any questions or concerns about this Privacy Policy or how we handle your personal information, please contact us at:"}),m("p",{className:"emailAdress",children:"enquiries@yarnscape.com"}),m("p",{children:"By using YarnScape, you acknowledge that you have read and understand this Privacy Policy and agree to its terms."})]})]})},IF=()=>{const t=Ze();return V("div",{className:"termscons-container",children:[V("div",{className:"termscons-header",children:[m("div",{className:"profile-icon",onClick:()=>{t(-1)},children:m(Nt,{icon:Xu,size:"2x"})}),m("h1",{children:"YarnScape's Terms and Conditions"}),m("h2",{children:"Effective Date: 01/03/2025"})]}),V("div",{className:"termscons-body",children:[m("p",{children:'Welcome to YarnScape! These Terms and Conditions ("Terms") govern your use of the YarnScape mobile application (the "App"), which allows users to create knitting/crochet patterns, track projects, find free patterns, and manage yarn and tool inventory. By downloading, accessing, or using YarnScape, you agree to be bound by these Terms and all applicable laws and regulations. If you do not agree to these Terms, please do not use the App.'}),m("h3",{children:"1. Acceptance of Terms"}),m("p",{children:"By using YarnScape, you acknowledge that you have read, understood, and agree to be bound by these Terms. If you do not agree with these Terms, you must stop using the App immediately. We reserve the right to update or modify these Terms at any time without notice. The most recent version of these Terms will be posted in the App and on our website."}),m("h3",{children:"2. Use of YarnScape"}),m("p",{children:"[2.1] Eligibility: To use YarnScape, you must be at least 10 years of age. If you are under 10, you may not use the App."}),m("p",{children:"[2.2] Account Creation: To access features of the App, you are required to create an account. You agree to provide accurate, complete, and up-to-date information when creating an account. You are responsible for maintaining the confidentiality of your account information and for all activities under your account."}),m("p",{children:"[2.3] License: We grant you a limited, non-exclusive, non-transferable, and revocable license to use the App for personal, non-commercial purposes, subject to these Terms. You may not reverse engineer, decompile, or otherwise attempt to derive the source code of the App."}),m("h3",{children:"3. User-Generated Content"}),m("p",{children:'[3.1] Content Creation: YarnScape allows you to create and store knitting/crochet patterns, track projects, and manage your yarn and tool inventory ("User Content"). By submitting User Content to the App, you grant YarnScape a worldwide, royalty-free, sublicensable license to use, display, and distribute the content in connection with the operation and promotion of the App.'}),m("p",{children:"[3.2] Prohibited Content: You agree not to upload or share content that:"}),m("p",{children:". Infringes on the intellectual property rights of others."}),m("p",{children:". Is illegal, obscene, defamatory, abusive, or otherwise harmful"}),m("p",{children:". Violates any applicable laws or regulations"}),m("p",{children:". Contains viruses, malware, or other harmful code"}),m("h3",{children:"4. Use of Features"}),m("p",{children:"[4.1] Knitting/Crochet Patterns: YarnScape offers tools to create and store patterns. You may also search for and follow free patterns shared by other users. You are responsible for ensuring that the patterns you create or download comply with any applicable copyright laws."}),m("p",{children:"[4.2] Inventory Management: You can manage your yarn and tool inventory within the App. You are solely responsible for ensuring the accuracy and completeness of the information in your inventory."}),m("p",{children:"[4.3] Project Tracking: YarnScape provides project tracking tools. You are responsible for maintaining your project information, and we are not liable for any discrepancies in your project tracking."}),m("h3",{children:"5. Third-Party Content and Links"}),m("p",{children:"YarnScape may contain links to third-party websites, resources, or services. We do not control or endorse these third-party sites or services and are not responsible for their content, accuracy, or availability. You acknowledge and agree that YarnScape is not liable for any damages or loss resulting from your use of third-party websites or services."}),m("h3",{children:"6. Data and Privacy"}),m("p",{children:"Your use of YarnScape is also governed by our Privacy Policy, which explains how we collect, use, and protect your personal data. By using the App, you agree to the terms outlined in the Privacy Policy."}),m("h3",{children:"7. Limitations of Liability"}),m("p",{children:'[7.1] No Warranty: YarnScape is provided on an "as is" and "as available" basis. We do not warrant that the App will be uninterrupted, error-free, or free from viruses or other harmful components.'}),m("p",{children:"[7.2] Limitation of Liability: To the maximum extent permitted by law, YarnScape shall not be liable for any direct, indirect, incidental, special, consequential, or punitive damages arising out of your use of the App, including but not limited to damages for loss of profits, data, or use, even if YarnScape has been advised of the possibility of such damages."}),m("h3",{children:"8. Idemnification"}),m("p",{children:"You agree to indemnify, defend, and hold harmless YarnScape, its officers, directors, employees, agents, and affiliates from and against any and all claims, liabilities, damages, losses, costs, and expenses (including reasonable attorneys' fees) arising out of or in connection with your use of the App, violation of these Terms, or infringement of any intellectual property or other rights of any third party."}),m("h3",{children:"9. Termination"}),m("p",{children:"We reserve the right to suspend or terminate your access to the App at our sole discretion, without notice, for any reason, including if you violate these Terms. Upon termination, your right to use the App will immediately cease, and you agree to stop using the App."}),m("h3",{children:"10. Governing Law"}),m("p",{children:"These Terms will be governed by and construed in accordance with the laws of The United Kingdom, without regard to its conflict of law principles. Any dispute arising out of or in connection with these Terms shall be subject to the exclusive jurisdiction of the courts located in The United Kingdom."}),m("h3",{children:"11. Dispute Resolution"}),m("p",{children:"If you have any concerns or disputes regarding the App, please contact us first at: "}),m("p",{className:"emailaddress",children:"enquiries@yarnscape.com"}),m("p",{children:"We will attempt to resolve any disputes amicably through informal negotiations. If the dispute cannot be resolved informally, it shall be resolved through binding arbitration, in accordance with the rules of The United Kingdom."}),m("h3",{children:"12. Miscellaneous"}),m("p",{children:"[12.1] Entire Agreement: These Terms constitute the entire agreement between you and YarnScape regarding your use of the App and supersede all prior or contemporaneous communications, whether electronic, oral, or written, between you and YarnScape."}),m("p",{children:"[12.2] Severability: If any provision of these Terms is found to be unlawful, void, or unenforceable, that provision will be deemed severed from these Terms, and the remainder of the Terms will remain in full force and effect."}),m("p",{children:"Waiver: Failure to enforce any provision of these Terms shall not be deemed a waiver of that provision."}),m("h3",{children:"13. Contact Us"}),m("p",{children:"f you have any questions or concerns regarding these terms, please contact us at: "}),m("p",{className:"emailaddress",children:"enquiries@yarnscape.com"}),m("p",{children:"By using YarnScape, you acknowledge that you have read and understood these Terms and Conditions and agree to be bound by them."})]})]})},PF=()=>{const t=At(),e=Zi(),n=t.currentUser,[r,i]=N.useState([]),[s,o]=N.useState(!0),a=Ze();N.useEffect(()=>{n&&(async()=>{const T=lt(Pe(e,"tracking-projects"),be("userId","==",n.uid)),C=await ct(T),P=[];C.forEach(y=>{const v=y.data();P.push({id:y.id,title:v.title,lastEdited:v.createdAt.toDate().toISOString(),completed:v.completed||!1})}),i(P),o(!1)})()},[e,n]);const c=S=>{a(`/tracking/${S}`)},u=async S=>{try{const T=ke(e,"tracking-projects",S);await Bn(T,{completed:!0,lastEdited:new Date}),i(C=>C.map(P=>P.id===S?{...P,completed:!0,lastEdited:new Date().toISOString()}:P)),alert("Project marked as completed!")}catch(T){console.error("Error marking project as completed:",T),alert("There was an error completing the project.")}},[h,f]=N.useState("track"),g=S=>{f(S)};return V("div",{className:"track-container",children:[m("h3",{children:"Select the project that you would like to keep working on: "}),s?m("p",{children:"Loading..."}):m("div",{className:"tracking-projects-list",children:r.length>0?r.map(S=>V("div",{className:`project-item ${S.completed?"completed":""}`,children:[m("span",{className:"project-title",onClick:()=>c(S.id),children:S.title}),V("span",{className:"project-date",children:["Last Edited: ",new Date(S.lastEdited).toLocaleString()]}),m("button",{className:"clear-btn",onClick:()=>u(S.id),disabled:S.completed,children:S.completed?"Completed":"Mark as Completed"})]},S.id)):m("p",{children:"No tracking projects found."})}),m(el,{currentTab:h,onTabChange:g})]})},kF=()=>{const e=At().currentUser,[n,r]=N.useState([]),[i,s]=N.useState(!0),[o,a]=N.useState([]),c=Ze(),u=()=>{c("/create")};N.useEffect(()=>{e&&(async()=>{const v=lt(Pe(ae,"my-patterns"),be("userId","==",e.uid)),_=await ct(v),x=[];_.forEach(b=>{const D=b.data();D.title&&x.push({id:b.id,title:D.title,published:D.published})}),r(x),s(!1),h()})()},[ae,e]);const h=async()=>{if(!e)return;const y=lt(Pe(ae,"tracking-projects"),be("userId","==",e.uid),be("completed","==",!0)),v=await ct(y),_=[];v.forEach(x=>{_.push(x.data().patternId)}),a(_)},f=y=>{c(`/edit/${y}`)},g=async y=>{if(!e){alert("Please log in to track patterns.");return}try{const v=lt(Pe(ae,"tracking-projects"),be("userId","==",e.uid),be("patternId","==",y)),_=await ct(v);if(_.empty){const x=ke(ae,"my-patterns",y),b=await ar(x);if(!b.exists()){alert("Pattern not found.");return}const D=b.data(),I={userId:e.uid,patternId:y,title:D==null?void 0:D.title,type:D==null?void 0:D.type,sections:D==null?void 0:D.sections,tags:D==null?void 0:D.tags,materials:D==null?void 0:D.materials,skillLevel:D==null?void 0:D.skillLevel,createdAt:new Date,goal:"",timeSpent:0,lastEdited:new Date,completed:!1,lastRowIndex:0},w=await Wn(Pe(ae,"tracking-projects"),I);console.log("Tracking Project ID:",w.id),c(`/tracking/${w.id}`)}else{const x=_.docs[0];if(x.data().completed){alert("You have already completed tracking this pattern.");return}const D=x.id;c(`/tracking/${D}`)}}catch(v){console.error("Error handling track:",v),alert("There was an error tracking the pattern.")}},S=async y=>{try{const v=ke(ae,"published-patterns",y);await Ni(v);const _=ke(ae,"my-patterns",y);await Bn(_,{published:!1}),r(x=>x.map(b=>b.id===y?{...b,published:!1}:b))}catch(v){console.error("Error unpublishing pattern:",v),alert("There was an error while unpublishing the pattern.")}},[T,C]=N.useState("design"),P=y=>{C(y)};return V("div",{className:"design-container",children:[m("div",{className:"design-header",children:m("h1",{children:"Pattern Design"})}),V("div",{className:"design-body",children:[m("button",{className:"createPattern-button",onClick:u,children:"+ Create new pattern"}),m("h3",{children:"My patterns: "}),i?m("p",{children:"Loading..."}):m("div",{className:"myPattern-column",children:n.length>0?m("ul",{children:n.map(y=>m("li",{children:V("div",{className:"myPattern-item",children:[m("span",{children:y.title}),V("div",{className:"myPattern-columnbtns",children:[y.published?m("button",{onClick:()=>S(y.id),children:"Unpublish"}):m("button",{onClick:()=>f(y.id),children:"Edit"}),!o.includes(y.id)&&m("button",{onClick:()=>g(y.id),children:"Track"})]})]})},y.id))}):m("p",{children:"No patterns"})})]}),m(el,{currentTab:T,onTabChange:P})]})},AF=()=>{const t=Ze(),n=At().currentUser,[r,i]=N.useState([]),[s,o]=N.useState(""),[a,c]=N.useState(""),[u,h]=N.useState(""),[f,g]=N.useState(r),[S,T]=N.useState(new Set);N.useEffect(()=>{(async()=>{try{const D=Pe(ae,"published-patterns"),I=lt(D,be("published","==",!0)),w=await ct(I),k=[];w.forEach(R=>{const O=R.data();k.push({id:R.id,title:O.title,author:O.author,type:O.type,skillLevel:O.skillLevel,published:O.published,coverImageUrl:O.coverImageUrl,sections:O.sections,tags:O.tags,materials:O.materials})}),i(k)}catch(D){console.error("Error fetching patterns:",D)}})()},[n==null?void 0:n.uid]),N.useEffect(()=>{const b=r.filter(D=>{const I=D.title.toLowerCase().includes(s.toLowerCase())||D.author.toLowerCase().includes(s.toLowerCase()),w=a?D.type.toLowerCase()===a.toLowerCase():!0,k=u?D.skillLevel.toLowerCase()===u.toLowerCase():!0;return I&&w&&k});g(b)},[s,a,u,r]),N.useEffect(()=>{(async()=>{if(n!=null&&n.uid)try{const D=Pe(ae,"saved-patterns"),I=lt(D,be("userId","==",n.uid)),w=await ct(I),k=new Set;w.forEach(R=>{k.add(R.data().patternId)}),T(k)}catch(D){console.error("Error fetching saved patterns:",D)}})()},[n==null?void 0:n.uid]);const[C,P]=N.useState("library"),y=b=>{P(b)},v=b=>{t(`/pattern/${b}`)},_=async b=>{if(n!=null&&n.uid)try{const D=r.find(I=>I.id===b);D&&(await Wn(Pe(ae,"saved-patterns"),{userId:n.uid,patternId:D.id,title:D.title,author:D.author,type:D.type,skillLevel:D.skillLevel,sections:D.sections,tags:D.tags,materials:D.materials,coverImageUrl:D.coverImageUrl,published:D.published}),T(I=>new Set(I).add(D.id)),console.log("Pattern saved:",D.id))}catch(D){console.error("Error saving pattern:",D)}},x=async b=>{if(n!=null&&n.uid)try{const D=lt(Pe(ae,"saved-patterns"),be("userId","==",n.uid),be("patternId","==",b));(await ct(D)).forEach(async w=>{await Ni(w.ref)}),T(w=>{const k=new Set(w);return k.delete(b),k}),console.log("Pattern unsaved:",b)}catch(D){console.error("Error unsaving pattern:",D)}};return V("div",{className:"library-container",children:[m("h1",{children:"Pattern Library"}),m("div",{className:"search-bar",children:m("input",{type:"text",placeholder:"Search by pattern name or author",value:s,onChange:b=>o(b.target.value)})}),V("div",{className:"filter-options",children:[V("select",{value:a,onChange:b=>c(b.target.value),children:[m("option",{value:"",children:"All Types"}),m("option",{value:"crochet",children:"Crochet"}),m("option",{value:"knitting",children:"Knitting"})]}),V("select",{value:u,onChange:b=>h(b.target.value),children:[m("option",{value:"",children:"All Skill Levels"}),m("option",{value:"beginner",children:"Beginner"}),m("option",{value:"intermediate",children:"Intermediate"}),m("option",{value:"advanced",children:"Advanced"})]})]}),m("div",{className:"patterns-list",children:f.length===0?m("p",{children:"No patterns found."}):f.map(b=>V("div",{className:"pattern-card",children:[m("div",{className:"pattern-photo",children:b.coverImageUrl?m("img",{src:b.coverImageUrl,alt:b.title}):m("div",{className:"no-photo-box",children:"No Photo"})}),m("h3",{className:"pattern-title",onClick:()=>v(b.id),children:b.title}),V("p",{children:["Author: ",b.author]}),V("p",{children:["Type: ",b.type]}),S.has(b.id)?m("button",{onClick:()=>x(b.id),className:"unsave-button",children:"Unsave"}):m("button",{onClick:()=>_(b.id),className:"save-button",children:"Save"})]},b.id))}),m(el,{currentTab:C,onTabChange:y})]})},CF=({isOpen:t,onClose:e,setYarnInventory:n,user:r})=>{const i=Zi(),[s,o]=N.useState(""),[a,c]=N.useState(""),[u,h]=N.useState(""),[f,g]=N.useState(1),S=async()=>{if(!(s.trim()===""||a.trim()===""||u.trim()===""))try{await Wn(Pe(i,"yarn-inventory"),{userId:r==null?void 0:r.uid,yarnName:s,type:a,colour:u,quantity:f,createdAt:new Date}),n(T=>[...T,{yarnName:s,type:a,colour:u,quantity:f}]),o(""),c(""),h(""),g(1),e()}catch(T){console.error("Error adding yarn: ",T)}};return t?m("div",{className:"modal-overlay",children:V("div",{className:"modal-content",children:[m("h2",{children:"Add New Yarn"}),V("form",{onSubmit:T=>T.preventDefault(),children:[V("div",{children:[m("label",{children:"Yarn Name:"}),m("input",{type:"text",value:s,onChange:T=>o(T.target.value),placeholder:"Enter yarn name"})]}),V("div",{children:[m("label",{children:"Type:"}),m("input",{type:"text",value:a,onChange:T=>c(T.target.value),placeholder:"Enter yarn type"})]}),V("div",{children:[m("label",{children:"Colour:"}),m("input",{type:"text",value:u,onChange:T=>h(T.target.value),placeholder:"Enter yarn colour"})]}),V("div",{children:[m("label",{children:"Quantity:"}),m("input",{type:"number",value:f,onChange:T=>g(Number(T.target.value)),min:"1"})]}),V("div",{className:"modal-buttons",children:[m("button",{type:"button",onClick:e,children:"Cancel"}),m("button",{type:"button",onClick:S,children:"Add Yarn"})]})]})]})}):null},RF=({isOpen:t,onClose:e,setToolInventory:n,user:r})=>{const i=Zi(),[s,o]=N.useState(""),[a,c]=N.useState(""),[u,h]=N.useState(1),f=async()=>{if(!(s.trim()===""||a.trim()===""))try{await Wn(Pe(i,"tool-inventory"),{userId:r==null?void 0:r.uid,toolName:s,type:a,quantity:u,createdAt:new Date}),n(g=>[...g,{toolName:s,type:a,quantity:u}]),o(""),c(""),h(1),e()}catch(g){console.error("Error adding tool: ",g)}};return t?m("div",{className:"modal-overlay",children:V("div",{className:"modal-content",children:[m("h2",{children:"Add New Tool"}),V("form",{onSubmit:g=>g.preventDefault(),children:[V("div",{children:[m("label",{children:"Tool Name:"}),m("input",{type:"text",value:s,onChange:g=>o(g.target.value),placeholder:"Enter tool name"})]}),V("div",{children:[m("label",{children:"Type:"}),m("input",{type:"text",value:a,onChange:g=>c(g.target.value),placeholder:"Enter tool type"})]}),V("div",{children:[m("label",{children:"Quantity:"}),m("input",{type:"number",value:u,onChange:g=>h(Number(g.target.value)),min:"1"})]}),V("div",{className:"modal-buttons",children:[m("button",{type:"button",onClick:e,children:"Cancel"}),m("button",{type:"button",onClick:f,children:"Add Tool"})]})]})]})}):null},bF=()=>{const t=At(),[e,n]=N.useState(!1),[r,i]=N.useState(!1),[s,o]=N.useState([]),[a,c]=N.useState([]),[u,h]=N.useState(!0),f=t.currentUser;N.useEffect(()=>{f&&((async()=>{const _=lt(Pe(ae,"yarn-inventory"),be("userId","==",f.uid)),x=await ct(_),b=[];x.forEach(D=>{b.push({id:D.id,...D.data()})}),c(b),h(!1)})(),(async()=>{const _=lt(Pe(ae,"tool-inventory"),be("userId","==",f.uid)),x=await ct(_),b=[];x.forEach(D=>{b.push({id:D.id,...D.data()}),o(b),h(!1)})})())},[ae,f]);const g=async(y,v)=>{const _=ke(ae,"yarn-inventory",y),x=a.find(D=>D.id===y);if(!x){console.error(`Yarn with id ${y} not found`);return}const b=v==="increase"?x.quantity+1:x.quantity-1;if(!(b<0))try{await Bn(_,{quantity:b}),c(D=>D.map(I=>I.id===y?{...I,quantity:b}:I))}catch(D){console.error("Error updating quantity:",D)}},S=async(y,v)=>{const _=ke(ae,"tool-inventory",y),x=s.find(D=>D.id===y);if(!x){console.error(`Tool with id ${y} not found`);return}const b=v==="increase"?x.quantity+1:x.quantity-1;if(!(b<0))try{await Bn(_,{quantity:b}),o(D=>D.map(I=>I.id===y?{...I,quantity:b}:I))}catch(D){console.error("Error updating quantity:",D)}},[T,C]=N.useState("inventory"),P=y=>{C(y)};return V("div",{className:"inventory-container",children:[m("div",{className:"inventory-header",children:m("h1",{children:"Inventory"})}),V("div",{className:"tools-inventory",children:[m("h3",{children:"Tools: "}),m("button",{className:"addToolBtn",onClick:()=>i(!0),children:"Add Tool"}),m(RF,{isOpen:r,onClose:()=>i(!1),setToolInventory:o,user:f}),m("div",{className:"tool-inventory",children:u?m("p",{children:"Loading..."}):m("ul",{children:s.map(y=>V("li",{children:[" ",m("strong",{children:y.toolName})," (",y.type,")",V("div",{className:"quantity",children:[m("button",{onClick:()=>S(y.id,"increase"),children:"+"}),m("span",{children:y.quantity}),m("button",{onClick:()=>S(y.id,"decrease"),children:"-"})]})]},y.id))})})]}),V("div",{className:"yarn-inventory",children:[m("h3",{children:"Yarn: "}),m("button",{className:"addYarnBtn",onClick:()=>n(!0),children:"Add Yarn"}),m(CF,{isOpen:e,onClose:()=>n(!1),setYarnInventory:c,user:f}),m("div",{className:"yarn",children:u?m("p",{children:"Loading..."}):m("ul",{children:a.map(y=>V("li",{children:[" ",m("strong",{children:y.yarnName})," (",y.type,", ",y.colour,")",V("div",{className:"quantity",children:[m("button",{onClick:()=>g(y.id,"increase"),children:"+"}),m("span",{children:y.quantity}),m("button",{onClick:()=>g(y.id,"decrease"),children:"-"})]})]},y.id))})})]}),m(el,{currentTab:T,onTabChange:P})]})};function AP(t,e){return function(){return t.apply(e,arguments)}}const{toString:NF}=Object.prototype,{getPrototypeOf:Yg}=Object,Eh=(t=>e=>{const n=NF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kn=t=>(t=t.toLowerCase(),e=>Eh(e)===t),Th=t=>e=>typeof e===t,{isArray:co}=Array,Fa=Th("undefined");function xF(t){return t!==null&&!Fa(t)&&t.constructor!==null&&!Fa(t.constructor)&&Yt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const CP=kn("ArrayBuffer");function OF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&CP(t.buffer),e}const DF=Th("string"),Yt=Th("function"),RP=Th("number"),Sh=t=>t!==null&&typeof t=="object",LF=t=>t===!0||t===!1,Pc=t=>{if(Eh(t)!=="object")return!1;const e=Yg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},MF=kn("Date"),VF=kn("File"),FF=kn("Blob"),UF=kn("FileList"),jF=t=>Sh(t)&&Yt(t.pipe),zF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yt(t.append)&&((e=Eh(t))==="formdata"||e==="object"&&Yt(t.toString)&&t.toString()==="[object FormData]"))},$F=kn("URLSearchParams"),[BF,WF,HF,qF]=["ReadableStream","Request","Response","Headers"].map(kn),KF=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function al(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),co(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function bP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ci=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),NP=t=>!Fa(t)&&t!==Ci;function Mp(){const{caseless:t}=NP(this)&&this||{},e={},n=(r,i)=>{const s=t&&bP(e,i)||i;Pc(e[s])&&Pc(r)?e[s]=Mp(e[s],r):Pc(r)?e[s]=Mp({},r):co(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&al(arguments[r],n);return e}const GF=(t,e,n,{allOwnKeys:r}={})=>(al(e,(i,s)=>{n&&Yt(i)?t[s]=AP(i,n):t[s]=i},{allOwnKeys:r}),t),QF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),YF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},XF=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Yg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},JF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ZF=t=>{if(!t)return null;if(co(t))return t;let e=t.length;if(!RP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},eU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yg(Uint8Array)),tU=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},nU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},rU=kn("HTMLFormElement"),iU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Ew=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),sU=kn("RegExp"),xP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};al(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},oU=t=>{xP(t,(e,n)=>{if(Yt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Yt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},aU=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return co(t)?r(t):r(String(t).split(e)),n},lU=()=>{},cU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uU(t){return!!(t&&Yt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const hU=t=>{const e=new Array(10),n=(r,i)=>{if(Sh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=co(r)?[]:{};return al(r,(o,a)=>{const c=n(o,i+1);!Fa(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return n(t,0)},dU=kn("AsyncFunction"),fU=t=>t&&(Sh(t)||Yt(t))&&Yt(t.then)&&Yt(t.catch),OP=((t,e)=>t?setImmediate:e?((n,r)=>(Ci.addEventListener("message",({source:i,data:s})=>{i===Ci&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ci.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Yt(Ci.postMessage)),pU=typeof queueMicrotask<"u"?queueMicrotask.bind(Ci):typeof process<"u"&&process.nextTick||OP,U={isArray:co,isArrayBuffer:CP,isBuffer:xF,isFormData:zF,isArrayBufferView:OF,isString:DF,isNumber:RP,isBoolean:LF,isObject:Sh,isPlainObject:Pc,isReadableStream:BF,isRequest:WF,isResponse:HF,isHeaders:qF,isUndefined:Fa,isDate:MF,isFile:VF,isBlob:FF,isRegExp:sU,isFunction:Yt,isStream:jF,isURLSearchParams:$F,isTypedArray:eU,isFileList:UF,forEach:al,merge:Mp,extend:GF,trim:KF,stripBOM:QF,inherits:YF,toFlatObject:XF,kindOf:Eh,kindOfTest:kn,endsWith:JF,toArray:ZF,forEachEntry:tU,matchAll:nU,isHTMLForm:rU,hasOwnProperty:Ew,hasOwnProp:Ew,reduceDescriptors:xP,freezeMethods:oU,toObjectSet:aU,toCamelCase:iU,noop:lU,toFiniteNumber:cU,findKey:bP,global:Ci,isContextDefined:NP,isSpecCompliantForm:uU,toJSONObject:hU,isAsyncFn:dU,isThenable:fU,setImmediate:OP,asap:pU};function ue(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}U.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const DP=ue.prototype,LP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{LP[t]={value:t}});Object.defineProperties(ue,LP);Object.defineProperty(DP,"isAxiosError",{value:!0});ue.from=(t,e,n,r,i,s)=>{const o=Object.create(DP);return U.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ue.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const mU=null;function Vp(t){return U.isPlainObject(t)||U.isArray(t)}function MP(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function Tw(t,e,n){return t?t.concat(e).map(function(i,s){return i=MP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function gU(t){return U.isArray(t)&&!t.some(Vp)}const yU=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Ih(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,P){return!U.isUndefined(P[C])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function u(T){if(T===null)return"";if(U.isDate(T))return T.toISOString();if(!c&&U.isBlob(T))throw new ue("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(T)||U.isTypedArray(T)?c&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function h(T,C,P){let y=T;if(T&&!P&&typeof T=="object"){if(U.endsWith(C,"{}"))C=r?C:C.slice(0,-2),T=JSON.stringify(T);else if(U.isArray(T)&&gU(T)||(U.isFileList(T)||U.endsWith(C,"[]"))&&(y=U.toArray(T)))return C=MP(C),y.forEach(function(_,x){!(U.isUndefined(_)||_===null)&&e.append(o===!0?Tw([C],x,s):o===null?C:C+"[]",u(_))}),!1}return Vp(T)?!0:(e.append(Tw(P,C,s),u(T)),!1)}const f=[],g=Object.assign(yU,{defaultVisitor:h,convertValue:u,isVisitable:Vp});function S(T,C){if(!U.isUndefined(T)){if(f.indexOf(T)!==-1)throw Error("Circular reference detected in "+C.join("."));f.push(T),U.forEach(T,function(y,v){(!(U.isUndefined(y)||y===null)&&i.call(e,y,U.isString(v)?v.trim():v,C,g))===!0&&S(y,C?C.concat(v):[v])}),f.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return S(t),e}function Sw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xg(t,e){this._pairs=[],t&&Ih(t,this,e)}const VP=Xg.prototype;VP.append=function(e,n){this._pairs.push([e,n])};VP.toString=function(e){const n=e?function(r){return e.call(this,r,Sw)}:Sw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function vU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function FP(t,e,n){if(!e)return t;const r=n&&n.encode||vU;U.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=U.isURLSearchParams(e)?e.toString():new Xg(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class _U{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Iw=_U,UP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wU=typeof URLSearchParams<"u"?URLSearchParams:Xg,EU=typeof FormData<"u"?FormData:null,TU=typeof Blob<"u"?Blob:null,SU={isBrowser:!0,classes:{URLSearchParams:wU,FormData:EU,Blob:TU},protocols:["http","https","file","blob","url","data"]},Jg=typeof window<"u"&&typeof document<"u",Fp=typeof navigator=="object"&&navigator||void 0,IU=Jg&&(!Fp||["ReactNative","NativeScript","NS"].indexOf(Fp.product)<0),PU=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),kU=Jg&&window.location.href||"http://localhost",AU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jg,hasStandardBrowserEnv:IU,hasStandardBrowserWebWorkerEnv:PU,navigator:Fp,origin:kU},Symbol.toStringTag,{value:"Module"})),St={...AU,...SU};function CU(t,e){return Ih(t,new St.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return St.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function RU(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bU(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function jP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&U.isArray(i)?i.length:o,c?(U.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!U.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&U.isArray(i[o])&&(i[o]=bU(i[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,i)=>{e(RU(r),i,n,0)}),n}return null}function NU(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Zg={transitional:UP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=U.isObject(e);if(s&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i?JSON.stringify(jP(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return CU(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ih(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),NU(e)):e}],transformResponse:[function(e){const n=this.transitional||Zg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ue.from(a,ue.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:St.classes.FormData,Blob:St.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{Zg.headers[t]={}});const ey=Zg,xU=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OU=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&xU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Pw=Symbol("internals");function Lo(t){return t&&String(t).trim().toLowerCase()}function kc(t){return t===!1||t==null?t:U.isArray(t)?t.map(kc):String(t)}function DU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const LU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hd(t,e,n,r,i){if(U.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function MU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function VU(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ph{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,c,u){const h=Lo(c);if(!h)throw new Error("header name must be a non-empty string");const f=U.findKey(i,h);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=kc(a))}const o=(a,c)=>U.forEach(a,(u,h)=>s(u,h,c));if(U.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(U.isString(e)&&(e=e.trim())&&!LU(e))o(OU(e),n);else if(U.isHeaders(e))for(const[a,c]of e.entries())s(c,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Lo(e),e){const r=U.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return DU(i);if(U.isFunction(n))return n.call(this,i,r);if(U.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Lo(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Hd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Lo(o),o){const a=U.findKey(r,o);a&&(!n||Hd(r,r[a],a,n))&&(delete r[a],i=!0)}}return U.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Hd(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return U.forEach(this,(i,s)=>{const o=U.findKey(r,s);if(o){n[o]=kc(i),delete n[s];return}const a=e?MU(s):String(s).trim();a!==s&&delete n[s],n[a]=kc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Pw]=this[Pw]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Lo(o);r[a]||(VU(i,o),r[a]=!0)}return U.isArray(e)?e.forEach(s):s(e),this}}Ph.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Ph.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(Ph);const vn=Ph;function qd(t,e){const n=this||ey,r=e||n,i=vn.from(r.headers);let s=r.data;return U.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function zP(t){return!!(t&&t.__CANCEL__)}function uo(t,e,n){ue.call(this,t??"canceled",ue.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(uo,ue,{__CANCEL__:!0});function $P(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function FU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function UU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=r[s];o||(o=u),n[i]=c,r[i]=u;let f=s,g=0;for(;f!==i;)g+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const S=h&&u-h;return S?Math.round(g*1e3/S):void 0}}function jU(t,e){let n=0,r=1e3/e,i,s;const o=(u,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?o(u,h):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Tu=(t,e,n=3)=>{let r=0;const i=UU(50,250);return jU(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),h=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&h?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},kw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Aw=t=>(...e)=>U.asap(()=>t(...e)),zU=St.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,St.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(St.origin),St.navigator&&/(msie|trident)/i.test(St.navigator.userAgent)):()=>!0,$U=St.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),U.isString(r)&&o.push("path="+r),U.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function WU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function BP(t,e,n){let r=!BU(e);return t&&r||n==!1?WU(t,e):e}const Cw=t=>t instanceof vn?{...t}:t;function Hi(t,e){e=e||{};const n={};function r(u,h,f,g){return U.isPlainObject(u)&&U.isPlainObject(h)?U.merge.call({caseless:g},u,h):U.isPlainObject(h)?U.merge({},h):U.isArray(h)?h.slice():h}function i(u,h,f,g){if(U.isUndefined(h)){if(!U.isUndefined(u))return r(void 0,u,f,g)}else return r(u,h,f,g)}function s(u,h){if(!U.isUndefined(h))return r(void 0,h)}function o(u,h){if(U.isUndefined(h)){if(!U.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h,f)=>i(Cw(u),Cw(h),f,!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||i,g=f(t[h],e[h],h);U.isUndefined(g)&&f!==a||(n[h]=g)}),n}const WP=t=>{const e=Hi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=vn.from(o),e.url=FP(BP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(U.isFormData(n)){if(St.hasStandardBrowserEnv||St.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(St.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&zU(e.url))){const u=i&&s&&$U.read(s);u&&o.set(i,u)}return e},HU=typeof XMLHttpRequest<"u",qU=HU&&function(t){return new Promise(function(n,r){const i=WP(t);let s=i.data;const o=vn.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,h,f,g,S,T;function C(){S&&S(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function y(){if(!P)return;const _=vn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),b={data:!a||a==="text"||a==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:_,config:t,request:P};$P(function(I){n(I),C()},function(I){r(I),C()},b),P=null}"onloadend"in P?P.onloadend=y:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(y)},P.onabort=function(){P&&(r(new ue("Request aborted",ue.ECONNABORTED,t,P)),P=null)},P.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const b=i.transitional||UP;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new ue(x,b.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,P)),P=null},s===void 0&&o.setContentType(null),"setRequestHeader"in P&&U.forEach(o.toJSON(),function(x,b){P.setRequestHeader(b,x)}),U.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),a&&a!=="json"&&(P.responseType=i.responseType),u&&([g,T]=Tu(u,!0),P.addEventListener("progress",g)),c&&P.upload&&([f,S]=Tu(c),P.upload.addEventListener("progress",f),P.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(h=_=>{P&&(r(!_||_.type?new uo(null,t,P):_),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const v=FU(i.url);if(v&&St.protocols.indexOf(v)===-1){r(new ue("Unsupported protocol "+v+":",ue.ERR_BAD_REQUEST,t));return}P.send(s||null)})},KU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof ue?h:new uo(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>U.asap(a),c}},GU=KU,QU=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},YU=async function*(t,e){for await(const n of XU(t))yield*QU(n,e)},XU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Rw=(t,e,n,r)=>{const i=YU(t,e);let s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await i.next();if(u){a(),c.close();return}let f=h.byteLength;if(n){let g=s+=f;n(g)}c.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},kh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",HP=kh&&typeof ReadableStream=="function",JU=kh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),qP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ZU=HP&&qP(()=>{let t=!1;const e=new Request(St.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),bw=64*1024,Up=HP&&qP(()=>U.isReadableStream(new Response("").body)),Su={stream:Up&&(t=>t.body)};kh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Su[e]&&(Su[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ue(`Response type '${e}' is not supported`,ue.ERR_NOT_SUPPORT,r)})})})(new Response);const e3=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(St.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await JU(t)).byteLength},t3=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??e3(e)},n3=kh&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:g}=WP(t);u=u?(u+"").toLowerCase():"text";let S=GU([i,s&&s.toAbortSignal()],o),T;const C=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let P;try{if(c&&ZU&&n!=="get"&&n!=="head"&&(P=await t3(h,r))!==0){let b=new Request(e,{method:"POST",body:r,duplex:"half"}),D;if(U.isFormData(r)&&(D=b.headers.get("content-type"))&&h.setContentType(D),b.body){const[I,w]=kw(P,Tu(Aw(c)));r=Rw(b.body,bw,I,w)}}U.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;T=new Request(e,{...g,signal:S,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let v=await fetch(T);const _=Up&&(u==="stream"||u==="response");if(Up&&(a||_&&C)){const b={};["status","statusText","headers"].forEach(k=>{b[k]=v[k]});const D=U.toFiniteNumber(v.headers.get("content-length")),[I,w]=a&&kw(D,Tu(Aw(a),!0))||[];v=new Response(Rw(v.body,bw,I,()=>{w&&w(),C&&C()}),b)}u=u||"text";let x=await Su[U.findKey(Su,u)||"text"](v,t);return!_&&C&&C(),await new Promise((b,D)=>{$P(b,D,{data:x,headers:vn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:T})})}catch(y){throw C&&C(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,t,T),{cause:y.cause||y}):ue.from(y,y&&y.code,t,T)}}),jp={http:mU,xhr:qU,fetch:n3};U.forEach(jp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Nw=t=>`- ${t}`,r3=t=>U.isFunction(t)||t===null||t===!1,KP={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!r3(n)&&(r=jp[(o=String(n)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Nw).join(`
`):" "+Nw(s[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:jp};function Kd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new uo(null,t)}function xw(t){return Kd(t),t.headers=vn.from(t.headers),t.data=qd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KP.getAdapter(t.adapter||ey.adapter)(t).then(function(r){return Kd(t),r.data=qd.call(t,t.transformResponse,r),r.headers=vn.from(r.headers),r},function(r){return zP(r)||(Kd(t),r&&r.response&&(r.response.data=qd.call(t,t.transformResponse,r.response),r.response.headers=vn.from(r.response.headers))),Promise.reject(r)})}const GP="1.8.3",Ah={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ah[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ow={};Ah.transitional=function(e,n,r){function i(s,o){return"[Axios v"+GP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ue(i(o," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!Ow[o]&&(Ow[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Ah.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function i3(t,e,n){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new ue("option "+s+" must be "+c,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+s,ue.ERR_BAD_OPTION)}}const Ac={assertOptions:i3,validators:Ah},Cn=Ac.validators;class Iu{constructor(e){this.defaults=e,this.interceptors={request:new Iw,response:new Iw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Hi(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ac.assertOptions(r,{silentJSONParsing:Cn.transitional(Cn.boolean),forcedJSONParsing:Cn.transitional(Cn.boolean),clarifyTimeoutError:Cn.transitional(Cn.boolean)},!1),i!=null&&(U.isFunction(i)?n.paramsSerializer={serialize:i}:Ac.assertOptions(i,{encode:Cn.function,serialize:Cn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ac.assertOptions(n,{baseUrl:Cn.spelling("baseURL"),withXsrfToken:Cn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&U.merge(s.common,s[n.method]);s&&U.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),n.headers=vn.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(c=c&&C.synchronous,a.unshift(C.fulfilled,C.rejected))});const u=[];this.interceptors.response.forEach(function(C){u.push(C.fulfilled,C.rejected)});let h,f=0,g;if(!c){const T=[xw.bind(this),void 0];for(T.unshift.apply(T,a),T.push.apply(T,u),g=T.length,h=Promise.resolve(n);f<g;)h=h.then(T[f++],T[f++]);return h}g=a.length;let S=n;for(f=0;f<g;){const T=a[f++],C=a[f++];try{S=T(S)}catch(P){C.call(this,P);break}}try{h=xw.call(this,S)}catch(T){return Promise.reject(T)}for(f=0,g=u.length;f<g;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=Hi(this.defaults,e);const n=BP(e.baseURL,e.url,e.allowAbsoluteUrls);return FP(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){Iu.prototype[e]=function(n,r){return this.request(Hi(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Hi(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Iu.prototype[e]=n(),Iu.prototype[e+"Form"]=n(!0)});const Cc=Iu;class ty{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new uo(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ty(function(i){e=i}),cancel:e}}}const s3=ty;function o3(t){return function(n){return t.apply(null,n)}}function a3(t){return U.isObject(t)&&t.isAxiosError===!0}const zp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zp).forEach(([t,e])=>{zp[e]=t});const l3=zp;function QP(t){const e=new Cc(t),n=AP(Cc.prototype.request,e);return U.extend(n,Cc.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return QP(Hi(t,i))},n}const Ke=QP(ey);Ke.Axios=Cc;Ke.CanceledError=uo;Ke.CancelToken=s3;Ke.isCancel=zP;Ke.VERSION=GP;Ke.toFormData=Ih;Ke.AxiosError=ue;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=o3;Ke.isAxiosError=a3;Ke.mergeConfig=Hi;Ke.AxiosHeaders=vn;Ke.formToJSON=t=>jP(U.isHTMLForm(t)?new FormData(t):t);Ke.getAdapter=KP.getAdapter;Ke.HttpStatusCode=l3;Ke.default=Ke;const Ch=Ke,c3=()=>{const t=Ze(),e=Zi(),r=At().currentUser,[i,s]=N.useState(""),[o,a]=N.useState([{title:"",instructions:"",photoUrl:""}]),[c,u]=N.useState([]),[h,f]=N.useState([]),[g,S]=N.useState("crochet"),[T,C]=N.useState("beginner"),P=A=>{s(A.target.value)},y=A=>{u(A.target.value.split(",").map(j=>j.trim()))},v=A=>{f(A.target.value.split(",").map(j=>j.trim()))},_=(A,j,W)=>{const re=[...o];re[A]={...re[A],[j]:W},a(re)},x=()=>{a([...o,{title:"",instructions:"",photoUrl:""}])},b=A=>{const j=o.filter((W,re)=>re!==A);a(j)},D=A=>{S(A.target.value)},I=A=>{C(A)},w=async(A,j)=>{var Q;const W=(Q=A.target.files)==null?void 0:Q[0];if(!W)return;const re=new FormData;re.append("file",W),re.append("upload_preset","yarnscape-images");try{const K=(await Ch.post("https://api.cloudinary.com/v1_1/dm2icxasv/image/upload",re)).data.secure_url,Z=[...o];Z[j].photoUrl=K,a(Z)}catch(B){console.error("Error uploading image:",B),alert("Failed to upload image.")}},k=A=>{const j=[...o];j[A].photoUrl="",a(j)},R=async A=>{A.preventDefault();try{await Wn(Pe(e,"my-patterns"),{userId:r==null?void 0:r.uid,title:i,sections:o,tags:c,materials:h,type:g,published:!1,skillLevel:T}),s(""),a([{title:"",instructions:"",photoUrl:""}]),u([]),f([]),S("crochet"),C("beginner"),t("/design")}catch(j){console.error("Error adding pattern:",j)}},O=()=>{s(""),a([{title:"",instructions:"",photoUrl:""}]),u([]),f([]),t("/design")},L=async()=>{try{if(!i.trim()){alert("Please enter a title");return}for(const j of o)if(!j.title.trim()||!j.instructions.trim()){alert("Please make sure all section titles and instructions are filled out.");return}const A=await Wn(Pe(e,"my-patterns"),{userId:r==null?void 0:r.uid,title:i,sections:o,tags:c,materials:h,type:g,published:!1,skillLevel:T});s(""),a([{title:"",instructions:"",photoUrl:""}]),u([]),f([]),S("crochet"),C("beginner"),t(`/publish/${A.id}`)}catch(A){console.error("Error saving pattern:",A),alert("There was an error while saving the pattern.")}};return m("div",{className:"create-container",children:V("form",{onSubmit:R,children:[V("div",{className:"create-headerSection",children:[m("div",{className:"create-patternTitle",children:m("input",{placeholder:"Pattern title...",type:"text",value:i,onChange:P,required:!0})}),V("div",{className:"create-patternType",children:[V("label",{children:[m("input",{type:"radio",name:"patternType",value:"crochet",checked:g==="crochet",onChange:D}),"Crochet"]}),V("label",{children:[m("input",{type:"radio",name:"patternType",value:"knitting",checked:g==="knitting",onChange:D}),"Knitting"]})]}),V("div",{className:"create-skillLevel",children:[V("label",{children:[m("input",{type:"radio",name:"skillLevel",value:"beginner",checked:T==="beginner",onChange:()=>I("beginner")}),"Beginner"]}),V("label",{children:[m("input",{type:"radio",name:"skillLevel",value:"intermediate",checked:T==="intermediate",onChange:()=>I("intermediate")}),"Intermediate"]}),V("label",{children:[m("input",{type:"radio",name:"skillLevel",value:"advanced",checked:T==="advanced",onChange:()=>I("advanced")}),"Advanced"]})]})]}),V("div",{className:"create-body-sections",children:[m("label",{className:"sectionLabel",children:"Sections"}),o.map((A,j)=>V("div",{children:[m("div",{children:m("input",{type:"text",placeholder:"section title...",value:A.title,onChange:W=>_(j,"title",W.target.value),required:!0})}),m("div",{children:m("textarea",{placeholder:"section instructions...",value:A.instructions,onChange:W=>_(j,"instructions",W.target.value),required:!0})}),V("div",{children:[m("input",{type:"file",accept:"image/*",capture:"user",onChange:W=>w(W,j)}),A.photoUrl&&V("div",{children:[m("img",{src:A.photoUrl,alt:"Section",style:{width:100,height:100}}),m("button",{className:"deletePhotoBtn",type:"button",onClick:()=>k(j),children:"Delete Photo"})]})]}),m("button",{className:"sectionButton",type:"button",onClick:()=>b(j),children:"Remove Section"})]},j)),m("button",{className:"sectionButton",type:"button",onClick:x,children:"Add Section"})]}),V("div",{className:"create-optional",children:[V("div",{className:"create-tags",children:[m("label",{children:"Tags (comma separated): "}),m("input",{type:"text",value:c.join(", "),onChange:y})]}),V("div",{className:"create-materials",children:[m("label",{children:"Materials (comma separated): "}),m("input",{type:"text",value:h.join(", "),onChange:v})]})]}),V("div",{className:"createbuttons",children:[V("div",{className:"createbuttons-row",children:[m("button",{type:"submit",children:"Save"}),m("button",{type:"button",onClick:L,children:"Publish"})]}),m("button",{onClick:O,children:"Cancel"})]})]})})},u3=()=>{const{projectId:t}=Wu(),e=Zi(),r=At().currentUser,i=Ze(),[s,o]=N.useState(!0),[a,c]=N.useState(null),[u,h]=N.useState(""),[f,g]=N.useState(0),[S,T]=N.useState(!1);N.useState(null);const[C,P]=N.useState([]),[y,v]=N.useState(null),[_,x]=N.useState([]),[b,D]=N.useState([]),[I,w]=N.useState(!1),[k,R]=N.useState(null);N.useEffect(()=>{if("webkitSpeechRecognition"in window){const ee=window.webkitSpeechRecognition,ne=new ee;ne.interimResults=!0,ne.lang="en-US",ne.onresult=we=>{const ve=we.results[we.results.length-1][0].transcript;we.results[0].isFinal&&D(Ge=>[...Ge,ve])},R(ne)}else alert("Speech Recognition is not supported in this browser.")},[]);const O=()=>{k&&(w(!0),k.start())},L=()=>{k&&(w(!1),k.stop())};N.useEffect(()=>{if(!t){console.error("No projectId provided"),alert("Project ID is missing. Please check the URL."),i("/track");return}(async()=>{try{const ne=ke(e,"tracking-projects",t),we=await ar(ne);if(we.exists()){const ve=we.data();c(ve),h(ve.goal),g(ve.timeSpent),T(ve.completed),v(ve.lastRowIndex),P(new Array(ve.sections.length).fill(!0)),x(ve.patternPhotos||[]),D(ve.notes||[])}else console.error("Pattern not found"),alert("Project not found."),i("/track")}catch(ne){console.error("Error fetching project:",ne),alert("Error fetching project."),i("/track")}finally{o(!1)}})()},[t,e,i,r]);const A=(ee,ne)=>{const we=[...b];we[ee]=ne,D(we)},j=()=>{D([...b,""])},W=ee=>{const ne=b.filter((we,ve)=>ve!==ee);D(ne)},re=async ee=>{const ne=ee.target.files;if(!ne)return;const we=new FormData;we.append("upload_preset","yarnscape-images");try{const ve=[..._];for(let Ge=0;Ge<ne.length;Ge++){we.append("file",ne[Ge]);const Rh=(await Ch.post("https://api.cloudinary.com/v1_1/dm2icxasv/image/upload",we)).data.secure_url;ve.push(Rh)}x(ve)}catch(ve){console.error("Error uploading image:",ve),alert("Failed to upload image.")}},Q=ee=>{const ne=_.filter((we,ve)=>ve!==ee);x(ne)},B=async()=>{if(!t||!a)return;const ee={...a,goal:u,timeSpent:f,completed:S,lastRowIndex:y!==null?y:a.lastRowIndex,lastEdited:new Date,patternPhotos:_,notes:b};try{const ne=ke(e,"tracking-projects",t);await Bn(ne,ee),alert("Project progress saved successfully!"),i("/track")}catch(ne){console.error("Error saving project progress:",ne),alert("Error saving project progress.")}},K=ee=>{v(ee)},Z=ee=>{P(ne=>ne.map((we,ve)=>ve===ee?!we:we))},ge=()=>{i(-1)};return s?m("div",{children:"Loading..."}):a?V("div",{className:"tracking-page",children:[V("div",{className:"project-header",children:[m("h1",{children:a.title}),V("div",{children:[V("span",{children:[m("strong",{children:"Type:"})," ",a.type]}),V("span",{children:[m("strong",{children:"Skill Level:"})," ",a.skillLevel]})]})]}),V("div",{className:"project-meta",children:[V("p",{children:[m("strong",{children:"Created At:"})," ",a.createdAt.toDate().toLocaleDateString()]}),V("p",{children:[m("strong",{children:"Time Spent:"})," ",f," hours"]})]}),m("div",{className:"goal",children:V("label",{children:[m("strong",{children:"Goal:"}),m("input",{type:"text",value:u,onChange:ee=>h(ee.target.value)})]})}),V("div",{className:"sections",children:[m("h2",{className:"sectionName",children:"Sections: "}),a.sections.map((ee,ne)=>{const we=ee.instructions.split(`
`);return V("div",{children:[m("div",{onClick:()=>Z(ne),style:{cursor:"pointer",fontWeight:"bold",padding:"5px 0"},children:ee.title}),!C[ne]&&V("div",{children:[we.map((ve,Ge)=>m("div",{onClick:()=>K(Ge),style:{backgroundColor:y===Ge?"lightblue":"transparent",padding:"5px",cursor:"pointer"},children:ve},Ge)),ee.photoUrl&&m("img",{src:ee.photoUrl,alt:ee.title})]})]},ne)})]}),V("div",{className:"pattern-photos",children:[m("h3",{children:"Upload Photos for the Pattern: "}),m("input",{type:"file",accept:"image/*",multiple:!0,onChange:re}),_.length>0&&V("div",{children:[m("h4",{children:"Uploaded Photos:"}),_.map((ee,ne)=>V("div",{children:[m("img",{src:ee,alt:"Pattern",style:{width:100,height:100}}),m("button",{type:"button",onClick:()=>Q(ne),children:"Delete"})]},ne))]})]}),V("div",{className:"notes",children:[m("h3",{children:"Notes: "}),b.map((ee,ne)=>V("div",{children:[m("textarea",{value:ee,onChange:we=>A(ne,we.target.value),rows:3,cols:50}),m("button",{onClick:()=>W(ne),children:"Delete Note"})]},ne)),m("button",{onClick:j,children:"Add Note"}),m("div",{children:I?m("button",{onClick:L,children:"Stop Recording"}):m("button",{onClick:O,children:"Start Recording"})})]}),V("div",{className:"actions",children:[m("button",{onClick:B,children:"Save Progress"}),m("button",{onClick:ge,children:"Cancel"})]})]}):m("div",{children:"Project not found"})},h3=()=>{const t=Ze(),{patternId:e}=Wu(),n=Zi();At().currentUser;const[i,s]=N.useState(""),[o,a]=N.useState([{title:"",instructions:"",photoUrl:""}]),[c,u]=N.useState([]),[h,f]=N.useState([]),[g,S]=N.useState("crochet"),[T,C]=N.useState("beginner");N.useEffect(()=>{(async()=>{if(!e)return;const W=ke(n,"my-patterns",e),re=await ar(W);if(re.exists()){const Q=re.data();s(Q.title),a(Q.sections),u(Q.tags),f(Q.materials),S(Q.type),C(Q.skillLevel)}else console.error("Pattern not found")})()},[e,n]);const P=j=>{s(j.target.value)},y=j=>{u(j.target.value.split(",").map(W=>W.trim()))},v=j=>{f(j.target.value.split(",").map(W=>W.trim()))},_=(j,W,re)=>{const Q=[...o];Q[j]={...Q[j],[W]:re},a(Q)},x=()=>{a([...o,{title:"",instructions:"",photoUrl:""}])},b=j=>{const W=o.filter((re,Q)=>Q!==j);a(W)},D=j=>{S(j.target.value)},I=j=>{C(j)},w=async(j,W)=>{var B;const re=(B=j.target.files)==null?void 0:B[0];if(!re)return;const Q=new FormData;Q.append("file",re),Q.append("upload_preset","yarnscape-images");try{const Z=(await Ch.post("https://api.cloudinary.com/v1_1/dm2icxasv/image/upload",Q)).data.secure_url,ge=[...o];ge[W].photoUrl=Z,a(ge)}catch(K){console.error("Error uploading image:",K),alert("Failed to upload image.")}},k=j=>{const W=[...o];W[j].photoUrl="",a(W)},R=async j=>{j.preventDefault();try{if(!e)return;const W=ke(n,"my-patterns",e);await Bn(W,{title:i,sections:o,tags:c,materials:h,type:g,published:!1,skillLevel:T}),t("/design")}catch(W){console.error("Error updating pattern: ",W)}},O=()=>{t("/design")},L=async()=>{if(!e){console.error("Pattern ID is missing"),alert("Pattern ID is missing");return}if(window.confirm("Are you sure you want to delete this pattern?"))try{const W=ke(n,"my-patterns",e);await Ni(W),alert("Pattern deleted successfully!"),t("/design")}catch(W){console.error("Error deleting pattern: ",W),alert("Error deleting pattern")}else console.log("Pattern deletion cancelled")},A=async j=>{if(j.preventDefault(),!!e)try{const W=ke(n,"my-patterns",e);await Bn(W,{patternID:e,title:i,sections:o,tags:c,materials:h,type:g,published:!1,skillLevel:T}),t(`/publish/${e}`)}catch(W){console.error("Error publishing pattern: ",W),alert("Error publishing pattern")}};return m("div",{className:"edit-container",children:V("form",{onSubmit:R,children:[V("div",{className:"edit-headerSection",children:[m("div",{className:"edit-patternTitle",children:m("input",{placeholder:"Pattern title...",type:"text",value:i,onChange:P,required:!0})}),V("div",{className:"edit-patternType",children:[V("label",{children:[m("input",{type:"radio",name:"patternType",value:"crochet",checked:g==="crochet",onChange:D}),"Crochet"]}),V("label",{children:[m("input",{type:"radio",name:"patternType",value:"knitting",checked:g==="knitting",onChange:D}),"Knitting"]})]})]}),V("div",{className:"edit-skillLevel",children:[V("label",{children:[m("input",{type:"radio",name:"skillLevel",value:"beginner",checked:T==="beginner",onChange:()=>I("beginner")}),"Beginner"]}),V("label",{children:[m("input",{type:"radio",name:"skillLevel",value:"intermediate",checked:T==="intermediate",onChange:()=>I("intermediate")}),"Intermediate"]}),V("label",{children:[m("input",{type:"radio",name:"skillLevel",value:"advanced",checked:T==="advanced",onChange:()=>I("advanced")}),"Advanced"]})]}),V("div",{className:"edit-body-sections",children:[m("label",{className:"edit-sectionLabel",children:"Sections"}),o.map((j,W)=>V("div",{children:[m("div",{children:m("input",{type:"text",placeholder:"Section title...",value:j.title,onChange:re=>_(W,"title",re.target.value),required:!0})}),m("div",{children:m("textarea",{placeholder:"Section instructions...",value:j.instructions,onChange:re=>_(W,"instructions",re.target.value),required:!0})}),V("div",{children:[m("input",{type:"file",accept:"image/*",capture:"user",onChange:re=>w(re,W)}),j.photoUrl&&V("div",{children:[m("img",{src:j.photoUrl,alt:"Section",style:{width:100,height:100}}),m("button",{className:"editDeletePhotoBtn",type:"button",onClick:()=>k(W),children:"Remove Photo"})]})]}),m("button",{className:"editSectionBtn",type:"button",onClick:()=>b(W),children:"Remove Section"})]},W)),m("button",{className:"editSectionBtn",type:"button",onClick:x,children:"Add Section"})]}),V("div",{className:"edit-optional",children:[V("div",{className:"create-tags",children:[m("label",{children:"Tags (comma separated): "}),m("input",{type:"text",value:c.join(", "),onChange:y})]}),V("div",{className:"edit-materials",children:[m("label",{children:"Materials (comma separated): "}),m("input",{type:"text",value:h.join(", "),onChange:v})]})]}),V("div",{className:"editbuttons",children:[V("div",{className:"editbuttons-row",children:[m("button",{type:"submit",children:"Save"}),m("button",{onClick:A,children:"Publish"})]}),V("div",{className:"editbuttons-row2",children:[m("button",{onClick:O,children:"Cancel"}),m("button",{onClick:L,children:"Delete"})]})]})]})})},d3=()=>{At().currentUser;const e=Ze(),{patternId:n}=Wu(),[r,i]=N.useState(null),[s,o]=N.useState(""),[a,c]=N.useState(null),[u,h]=N.useState(""),[f,g]=N.useState(!1);N.useEffect(()=>{(async()=>{if(n){const x=ke(ae,"my-patterns",n),b=await ar(x);b.exists()?i(b.data()):(console.log("Pattern not found!"),e("/design"))}})()},[n,ae,e]);const S=_=>{o(_.target.value)},T=()=>{g(!f)},C=async _=>{var D;const x=(D=_.target.files)==null?void 0:D[0];if(!x)return;const b=new FormData;b.append("file",x),b.append("upload_preset","yarnscape-images");try{const w=(await Ch.post("https://api.cloudinary.com/v1_1/dm2icxasv/image/upload",b)).data.secure_url;h(w),c(x)}catch(I){console.error("Error uploading image:",I),alert("Failed to upload image.")}},P=()=>{h(""),c(null)},y=async()=>{if(!f){alert("You must agree that the pattern is not copyrighted!");return}if(!n){console.error("Pattern ID is required.");return}try{const _=ke(ae,"my-patterns",n);await Bn(_,{published:!0}),await Wn(Pe(ae,"published-patterns"),{...r,published:!0,author:s,coverImageUrl:u,datePublished:new Date}),alert("Pattern published successfully!"),e("/design")}catch(_){console.error("Error publishing pattern:",_),alert("There was an error while publishing your pattern.")}},v=()=>{n&&e(`/edit/${n}`)};return r?V("div",{className:"publish-container",children:[m("div",{className:"publish-header",children:m("h2",{children:r.title})}),V("div",{className:"publish-subheading",children:[V("p",{children:["Type: ",r.type]}),V("p",{children:["Sections: ",r.sections.length]})]}),V("div",{className:"publish-author",children:[m("label",{children:"Author Name: "}),m("input",{type:"text",value:s,onChange:S,required:!0})]}),V("div",{className:"cover-image-upload",children:[m("label",{children:"Cover Image (Optional): "}),m("input",{type:"file",accept:"image/*",onChange:C}),u&&V("div",{className:"cover-image-preview",children:[m("img",{src:u,alt:"Cover Preview",style:{width:"100%",maxWidth:"300px"}}),m("button",{onClick:P,className:"remove-image-button",children:"Remove Image"})]})]}),m("div",{className:"publish-checkbox",children:V("label",{children:[m("input",{type:"checkbox",checked:f,onChange:T}),"I agree that this pattern is not copyrighted."]})}),V("div",{className:"publish-buttons",children:[m("button",{onClick:y,className:"publish-button",children:"Publish"}),m("button",{onClick:v,className:"cancel-button",children:"Cancel"})]})]}):m("div",{children:"Loading..."})},f3=()=>{const t=At(),e=Ze(),n=t.currentUser,{patternId:r}=Wu(),[i,s]=N.useState(null),[o,a]=N.useState(!0),[c,u]=N.useState(!1),[h,f]=N.useState(null),g=()=>{e(-1)};N.useEffect(()=>{if(!r){f("Pattern ID is missing."),a(!1);return}r&&(async()=>{try{let y=ke(ae,"published-patterns",r),v=await ar(y);if(v.exists()||(y=ke(ae,"saved-patterns",r),v=await ar(y)),v.exists()){const _=v.data();if(s({id:v.id,title:_.title,type:_.type,skillLevel:_.skillLevel,sections:_.sections,tags:_.tags,materials:_.materials,published:_.published??!0}),n){const x=Pe(ae,"saved-patterns"),b=lt(x,be("userId","==",n.uid),be("patternId","==",r));(await ct(b)).empty||u(!0)}}else f("Pattern not found.")}catch{f("Error fetching pattern details.")}finally{a(!1)}})()},[r]);const S=async()=>{if(n&&i){const P=ke(ae,"saved-patterns",`${n.uid}-${i.id}`);await yF(P,{userId:n.uid,patternId:i.id,title:i.title,type:i.type,skillLevel:i.skillLevel,sections:i.sections,tags:i.tags,materials:i.materials,published:i.published}),u(!0)}},T=async()=>{if(n&&i){const P=ke(ae,"saved-patterns",`${n.uid}-${i.id}`);await Ni(P),u(!1)}},C=async P=>{if(!n){alert("Please log in to track patterns.");return}try{const y=lt(Pe(ae,"tracking-projects"),be("userId","==",n.uid),be("patternId","==",P)),v=await ct(y);if(v.empty){const _=ke(ae,"published-patterns",P),x=await ar(_);if(!x.exists()){alert("Pattern not found.");return}const b=x.data(),D={userId:n.uid,patternId:P,title:b==null?void 0:b.title,type:b==null?void 0:b.type,sections:b==null?void 0:b.sections,tags:b==null?void 0:b.tags,materials:b==null?void 0:b.materials,skillLevel:b==null?void 0:b.skillLevel,author:b.author,createdAt:new Date,goal:"",timeSpent:0,lastEdited:new Date,completed:!1,lastRowIndex:0},I=await Wn(Pe(ae,"tracking-projects"),D);console.log("Tracking Project ID:",I.id),e(`/tracking/${I.id}`)}else{const _=v.docs[0];if(_.data().completed){alert("You have already completed tracking this pattern.");return}const b=_.id;e(`/tracking/${b}`)}}catch(y){console.error("Error handling track:",y),alert("There was an error tracking the pattern.")}};return o?m("div",{children:"Loading..."}):h?m("div",{children:h}):i?V("div",{className:"pattern-details-container",children:[m("div",{className:"back-icon",onClick:g,children:m(Nt,{icon:Xu,size:"1x"})}),m("h1",{children:i.title}),V("div",{className:"pattern-facts",children:[V("p",{children:[m("strong",{children:"Type:"})," ",i.type]}),V("p",{children:[m("strong",{children:"Skill Level:"})," ",i.skillLevel]})]}),V("div",{className:"pattern-sections",children:[m("h2",{children:"Sections:"}),i.sections.map((P,y)=>V("div",{className:"section",children:[m("h3",{children:P.title}),m("div",{children:P.instructions.split(`
`).map((v,_)=>m("p",{children:v},_))}),P.photoUrl&&m("img",{src:`${P.photoUrl}`,alt:P.title,className:"section-photo"})]},y))]}),V("div",{className:"pattern-material",children:[m("h2",{children:"Materials Needed:"}),m("ul",{children:i.materials.map((P,y)=>m("li",{children:P},y))})]}),V("div",{className:"pattern-tags",children:[m("h2",{children:"Tags:"}),m("ul",{children:i.tags.map((P,y)=>m("li",{children:P},y))})]}),V("div",{className:"pattern-buttons",children:[!c&&n&&m("button",{onClick:S,children:"Save Pattern"}),c&&n&&m("button",{onClick:T,children:"Unsave Pattern"}),m("button",{onClick:()=>C(i.id),children:"Track"})]})]}):m("div",{children:"No pattern found"})};var p3="firebase",m3="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(p3,m3,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="firebasestorage.googleapis.com",g3="storageBucket",y3=2*60*1e3,v3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends qn{constructor(e,n,r=0){super(Gd(e),`Firebase Storage: ${n} (${Gd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hn||(Hn={}));function Gd(t){return"storage/"+t}function _3(){const t="An unknown error occurred, please check the error payload for server response.";return new Kn(Hn.UNKNOWN,t)}function w3(){return new Kn(Hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E3(){return new Kn(Hn.CANCELED,"User canceled the upload/download.")}function T3(t){return new Kn(Hn.INVALID_URL,"Invalid URL '"+t+"'.")}function S3(t){return new Kn(Hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Dw(t){return new Kn(Hn.INVALID_ARGUMENT,t)}function XP(){return new Kn(Hn.APP_DELETED,"The Firebase app was deleted.")}function I3(t){return new Kn(Hn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mn.makeFromUrl(e,n)}catch{return new mn(e,"")}if(r.path==="")return r;throw S3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",S=new RegExp(`^https?://${f}/${h}/b/${i}/o${g}`,"i"),T={bucket:1,path:3},C=n===YP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",y=new RegExp(`^https?://${C}/${i}/${P}`,"i"),_=[{regex:a,indices:c,postModify:s},{regex:S,indices:T,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<_.length;x++){const b=_[x],D=b.regex.exec(e);if(D){const I=D[b.indices.bucket];let w=D[b.indices.path];w||(w=""),r=new mn(I,w),b.postModify(r);break}}if(r==null)throw T3(e);return r}}class P3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function h(...P){u||(u=!0,e.apply(null,P))}function f(P){i=setTimeout(()=>{i=null,t(S,c())},P)}function g(){s&&clearTimeout(s)}function S(P,...y){if(u){g();return}if(P){g(),h.call(null,P,...y);return}if(c()||o){g(),h.call(null,P,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let T=!1;function C(P){T||(T=!0,g(),!u&&(i!==null?(P||(a=2),clearTimeout(i),f(0)):P||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function A3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){return t!==void 0}function Lw(t,e,n,r){if(r<e)throw Dw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dw(`Invalid value for '${t}'. Expected ${n} or less.`)}function R3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Pu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Pu||(Pu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,r,i,s,o,a,c,u,h,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,T)=>{this.resolve_=S,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Jl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Pu.NO_ERROR,c=s.getStatus();if(!a||b3(c,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Pu.ABORT;r(!1,new Jl(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Jl(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());C3(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=_3();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?XP():E3();o(c)}else{const c=w3();o(c)}};this.canceled_?n(!1,new Jl(!1,null,!0)):this.backoffId_=k3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function x3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function O3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function D3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function L3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M3(t,e,n,r,i,s,o=!0){const a=R3(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return D3(u,e),x3(u,n),O3(u,s),L3(u,r),new N3(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function F3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this._service=e,n instanceof mn?this._location=n:this._location=mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ku(e,n)}get root(){const e=new mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F3(this._location.path)}get storage(){return this._service}get parent(){const e=V3(this._location.path);if(e===null)return null;const n=new mn(this._location.bucket,e);return new ku(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw I3(e)}}function Mw(t,e){const n=e==null?void 0:e[g3];return n==null?null:mn.makeFromBucketSpec(n,t)}function U3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:oS(i,t.app.options.projectId))}class j3{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=YP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y3,this._maxUploadRetryTime=v3,this._requests=new Set,i!=null?this._bucket=mn.makeFromBucketSpec(i,this._host):this._bucket=Mw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,e):this._bucket=Mw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ku(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new P3(XP());{const o=M3(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Vw="@firebase/storage",Fw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="storage";function z3(t=sg(),e){t=it(t);const r=Zu(t,JP).getImmediate({identifier:e}),i=rS("storage");return i&&$3(r,...i),r}function $3(t,e,n,r={}){U3(t,e,n,r)}function B3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new j3(n,r,i,e,Gi)}function W3(){ji(new ti(JP,B3,"PUBLIC").setMultipleInstances(!0)),Vn(Vw,Fw,""),Vn(Vw,Fw,"esm2017")}W3();const H3={apiKey:"AIzaSyANPim1rz1Q-1Kg6PdOO8QrsIAnNA_twqg",authDomain:"yarnscape-7fa2d.firebaseapp.com",projectId:"yarnscape-7fa2d",storageBucket:"yarnscape-7fa2d.firebasestorage.app",messagingSenderId:"869358734820",appId:"1:869358734820:web:aaa82ec58ebe7325bd0bf1"},ny=cS(H3),ae=Zi(ny);At(ny);z3(ny);Qd.createRoot(document.getElementById("root")).render(m(qp.StrictMode,{children:m(Ab,{basename:"/YarnScapeApp",children:V(rb,{children:[m(et,{path:"/login",element:m(a4,{})}),m(et,{path:"/signup",element:m(c4,{})}),m(et,{path:"/",element:m(Wt,{children:m(mx,{})})}),m(et,{path:"/userprofile",element:m(Wt,{children:m(_F,{})})}),m(et,{path:"/settings",element:m(Wt,{children:m(TF,{})})}),m(et,{path:"/privacypolicy",element:m(Wt,{children:m(SF,{})})}),m(et,{path:"/termsconditions",element:m(IF,{})}),m(et,{path:"/track",element:m(Wt,{children:m(PF,{})})}),m(et,{path:"/design",element:m(Wt,{children:m(kF,{})})}),m(et,{path:"/library",element:m(Wt,{children:m(AF,{})})}),m(et,{path:"/inventory",element:m(Wt,{children:m(bF,{})})}),m(et,{path:"/create",element:m(Wt,{children:m(c3,{})})}),m(et,{path:"/tracking/:projectId",element:m(Wt,{children:m(u3,{})})}),m(et,{path:"/edit/:patternId",element:m(Wt,{children:m(h3,{})})}),m(et,{path:"/publish/:patternId",element:m(Wt,{children:m(d3,{})})}),m(et,{path:"/pattern/:patternId",element:m(Wt,{children:m(f3,{})})}),m(et,{path:"*",element:m(tb,{to:"/"})})]})})}));
